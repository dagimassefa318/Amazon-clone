function NM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function WE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jv={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI;function kM(){if(fI)return $h;fI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return $h.Fragment=e,$h.jsx=t,$h.jsxs=t,$h}var pI;function MM(){return pI||(pI=1,Jv.exports=kM()),Jv.exports}var q=MM(),Zv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function VM(){if(mI)return Le;mI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function x(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||T}x.prototype.isReactComponent={},x.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=x.prototype;function L(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||T}var U=L.prototype=new V;U.constructor=L,b(U,x.prototype),U.isPureReactComponent=!0;var $=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(j,re,ge,me,Te,ke){return ge=ke.ref,{$$typeof:n,type:j,key:re,ref:ge!==void 0?ge:null,props:ke}}function R(j,re){return M(j.type,re,void 0,void 0,void 0,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function w(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return re[ge]})}var O=/\/+/g;function C(j,re){return typeof j=="object"&&j!==null&&j.key!=null?w(""+j.key):re.toString(36)}function D(){}function ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,re,ge,me,Te){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case g:return xe=j._init,B(xe(j._payload),re,ge,me,Te)}}if(xe)return Te=Te(j),xe=me===""?"."+C(j,0):me,$(Te)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),B(Te,re,ge,"",function(xr){return xr})):Te!=null&&(P(Te)&&(Te=R(Te,ge+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+xe)),re.push(Te)),1;xe=0;var $t=me===""?".":me+":";if($(j))for(var rt=0;rt<j.length;rt++)me=j[rt],ke=$t+C(me,rt),xe+=B(me,re,ge,ke,Te);else if(rt=v(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(me=j.next()).done;)me=me.value,ke=$t+C(me,rt++),xe+=B(me,re,ge,ke,Te);else if(ke==="object"){if(typeof j.then=="function")return B(ae(j),re,ge,me,Te);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function H(j,re,ge){if(j==null)return j;var me=[],Te=0;return B(j,me,"","",function(ke){return re.call(ge,ke,Te++)}),me}function J(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function be(){}return Le.Children={map:H,forEach:function(j,re,ge){H(j,function(){re.apply(this,arguments)},ge)},count:function(j){var re=0;return H(j,function(){re++}),re},toArray:function(j){return H(j,function(re){return re})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cloneElement=function(j,re,ge){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=b({},j.props),Te=j.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!K.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(me[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];me.children=$t}return M(j.type,Te,void 0,void 0,ke,me)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Le.createElement=function(j,re,ge){var me,Te={},ke=null;if(re!=null)for(me in re.key!==void 0&&(ke=""+re.key),re)K.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var xe=arguments.length-2;if(xe===1)Te.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];Te.children=$t}if(j&&j.defaultProps)for(me in xe=j.defaultProps,xe)Te[me]===void 0&&(Te[me]=xe[me]);return M(j,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=P,Le.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:J}},Le.memo=function(j,re){return{$$typeof:d,type:j,compare:re===void 0?null:re}},Le.startTransition=function(j){var re=F.T,ge={};F.T=ge;try{var me=j(),Te=F.S;Te!==null&&Te(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(be,le)}catch(ke){le(ke)}finally{F.T=re}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(j){return F.H.use(j)},Le.useActionState=function(j,re,ge){return F.H.useActionState(j,re,ge)},Le.useCallback=function(j,re){return F.H.useCallback(j,re)},Le.useContext=function(j){return F.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,re){return F.H.useDeferredValue(j,re)},Le.useEffect=function(j,re,ge){var me=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,re)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(j,re,ge){return F.H.useImperativeHandle(j,re,ge)},Le.useInsertionEffect=function(j,re){return F.H.useInsertionEffect(j,re)},Le.useLayoutEffect=function(j,re){return F.H.useLayoutEffect(j,re)},Le.useMemo=function(j,re){return F.H.useMemo(j,re)},Le.useOptimistic=function(j,re){return F.H.useOptimistic(j,re)},Le.useReducer=function(j,re,ge){return F.H.useReducer(j,re,ge)},Le.useRef=function(j){return F.H.useRef(j)},Le.useState=function(j){return F.H.useState(j)},Le.useSyncExternalStore=function(j,re,ge){return F.H.useSyncExternalStore(j,re,ge)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.1.0",Le}var gI;function Ja(){return gI||(gI=1,Zv.exports=VM()),Zv.exports}var W=Ja();const Ke=WE(W),B0=NM({__proto__:null,default:Ke},[W]);var e0={exports:{}},Gh={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function LM(){return yI||(yI=1,function(n){function e(H,J){var le=H.length;H.push(J);e:for(;0<le;){var be=le-1>>>1,j=H[be];if(0<i(j,J))H[be]=J,H[le]=j,le=be;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],le=H.pop();if(le!==J){H[0]=le;e:for(var be=0,j=H.length,re=j>>>1;be<re;){var ge=2*(be+1)-1,me=H[ge],Te=ge+1,ke=H[Te];if(0>i(me,le))Te<j&&0>i(ke,me)?(H[be]=ke,H[Te]=le,be=Te):(H[be]=me,H[ge]=le,be=ge);else if(Te<j&&0>i(ke,le))H[be]=ke,H[Te]=le,be=Te;else break e}}return J}function i(H,J){var le=H.sortIndex-J.sortIndex;return le!==0?le:H.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,v=3,T=!1,b=!1,A=!1,x=!1,V=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=H)r(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function F(H){if(A=!1,$(H),!b)if(t(f)!==null)b=!0,K||(K=!0,C());else{var J=t(d);J!==null&&B(F,J.startTime-H)}}var K=!1,M=-1,R=5,P=-1;function w(){return x?!0:!(n.unstable_now()-P<R)}function O(){if(x=!1,K){var H=n.unstable_now();P=H;var J=!0;try{e:{b=!1,A&&(A=!1,L(M),M=-1),T=!0;var le=v;try{t:{for($(H),_=t(f);_!==null&&!(_.expirationTime>H&&w());){var be=_.callback;if(typeof be=="function"){_.callback=null,v=_.priorityLevel;var j=be(_.expirationTime<=H);if(H=n.unstable_now(),typeof j=="function"){_.callback=j,$(H),J=!0;break t}_===t(f)&&r(f),$(H)}else r(f);_=t(f)}if(_!==null)J=!0;else{var re=t(d);re!==null&&B(F,re.startTime-H),J=!1}}break e}finally{_=null,v=le,T=!1}J=void 0}}finally{J?C():K=!1}}}var C;if(typeof U=="function")C=function(){U(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ae=D.port2;D.port1.onmessage=O,C=function(){ae.postMessage(null)}}else C=function(){V(O,0)};function B(H,J){M=V(function(){H(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return H()}finally{v=le}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=v;v=H;try{return J()}finally{v=le}},n.unstable_scheduleCallback=function(H,J,le){var be=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=le+j,H={id:g++,callback:J,priorityLevel:H,startTime:le,expirationTime:j,sortIndex:-1},le>be?(H.sortIndex=le,e(d,H),t(f)===null&&H===t(d)&&(A?(L(M),M=-1):A=!0,B(F,le-be))):(H.sortIndex=j,e(f,H),b||T||(b=!0,K||(K=!0,C()))),H},n.unstable_shouldYield=w,n.unstable_wrapCallback=function(H){var J=v;return function(){var le=v;v=J;try{return H.apply(this,arguments)}finally{v=le}}}}(n0)),n0}var _I;function UM(){return _I||(_I=1,t0.exports=LM()),t0.exports}var r0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function BM(){if(vI)return Un;vI=1;var n=Ja();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Un.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Un.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Un.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Un.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Un.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,d){return f(d)},Un.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Un.useFormStatus=function(){return u.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var EI;function FM(){if(EI)return r0.exports;EI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r0.exports=BM(),r0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function zM(){if(bI)return Gh;bI=1;var n=UM(),e=Ja(),t=FM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var I=!1,N=m.child;N;){if(N===l){I=!0,l=m,c=y;break}if(N===c){I=!0,c=m,l=y;break}N=N.sibling}if(!I){for(N=y.child;N;){if(N===l){I=!0,l=y,c=m;break}if(N===c){I=!0,c=y,l=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case U:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:ae(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return ae(s(a))}catch{}}return null}var B=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},be=[],j=-1;function re(s){return{current:s}}function ge(s){0>j||(s.current=be[j],be[j]=null,j--)}function me(s,a){j++,be[j]=s.current,s.current=a}var Te=re(null),ke=re(null),xe=re(null),$t=re(null);function rt(s,a){switch(me(xe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?zA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=zA(a),s=jA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(Te),me(Te,s)}function xr(){ge(Te),ge(ke),ge(xe)}function ci(s){s.memoizedState!==null&&me($t,s);var a=Te.current,l=jA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function Pr(s){ke.current===s&&(ge(Te),ge(ke)),$t.current===s&&(ge($t),Fh._currentValue=le)}var hr=Object.prototype.hasOwnProperty,Vn=n.unstable_scheduleCallback,Yr=n.unstable_cancelCallback,oo=n.unstable_shouldYield,xl=n.unstable_requestPaint,er=n.unstable_now,Bc=n.unstable_getCurrentPriorityLevel,lo=n.unstable_ImmediatePriority,Ji=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,_t=n.unstable_LowPriority,wt=n.unstable_IdlePriority,hi=n.log,Qr=n.unstable_setDisableYieldValue,st=null,Ue=null;function Gt(s){if(typeof hi=="function"&&Qr(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(st,s)}catch{}}var en=Math.clz32?Math.clz32:uo,Qf=Math.log,e_=Math.LN2;function uo(s){return s>>>=0,s===0?32:31-(Qf(s)/e_|0)|0}var co=256,ho=4194304;function Xr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pl(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?m=Xr(c):(I&=N,I!==0?m=Xr(I):l||(l=N&~s,l!==0&&(m=Xr(l))))):(N=c&~y,N!==0?m=Xr(N):I!==0?m=Xr(I):l||(l=c&~s,l!==0&&(m=Xr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function fo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Fc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var s=co;return co<<=1,(co&4194048)===0&&(co=256),s}function jc(){var s=ho;return ho<<=1,(ho&62914560)===0&&(ho=4194304),s}function Zi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function es(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qc(s,a,l,c,m,y){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,z=s.expirationTimes,ee=s.hiddenUpdates;for(l=I&~l;0<l;){var ce=31-en(l),de=1<<ce;N[ce]=0,z[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&di(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(I&~a))}function di(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-en(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Hc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-en(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Ws(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ol(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ys(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:oI(s.type))}function Xf(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var Tt=Math.random().toString(36).slice(2),hn="__reactFiber$"+Tt,tn="__reactProps$"+Tt,Or="__reactContainer$"+Tt,$c="__reactEvents$"+Tt,t_="__reactListeners$"+Tt,Qs="__reactHandles$"+Tt,Jf="__reactResources$"+Tt,po="__reactMarker$"+Tt;function Xs(s){delete s[hn],delete s[tn],delete s[$c],delete s[t_],delete s[Qs]}function ts(s){var a=s[hn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Or]||l[hn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=GA(s);s!==null;){if(l=s[hn])return l;s=GA(s)}return a}s=l,l=s.parentNode}return null}function fi(s){if(s=s[hn]||s[Or]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function pi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function $n(s){var a=s[Jf];return a||(a=s[Jf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(s){s[po]=!0}var Gc=new Set,Dl={};function Jr(s,a){ns(s,a),ns(s+"Capture",a)}function ns(s,a){for(Dl[s]=a,s=0;s<a.length;s++)Gc.add(a[s])}var Zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ep={},mo={};function tp(s){return hr.call(mo,s)?!0:hr.call(ep,s)?!1:Zf.test(s)?mo[s]=!0:(ep[s]=!0,!1)}function Js(s,a,l){if(tp(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function mi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Rn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var go,np;function rs(s){if(go===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);go=a&&a[1]||"",np=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+s+np}var Nl=!1;function kl(s,a){if(!s||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),I=y[0],N=y[1];if(I&&N){var z=I.split(`
`),ee=N.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===ee.length)for(c=z.length-1,m=ee.length-1;1<=c&&0<=m&&z[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==ee[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?rs(l):""}function Kc(s){switch(s.tag){case 26:case 27:case 5:return rs(s.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return kl(s.type,!1);case 11:return kl(s.type.render,!1);case 1:return kl(s.type,!0);case 31:return rs("Activity");default:return""}}function Ml(s){try{var a="";do a+=Kc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Gn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function n_(s){var a=Wc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){c=""+I,y.call(this,I)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Vl(s){s._valueTracker||(s._valueTracker=n_(s))}function Yc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Wc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var r_=/[\n"\\]/g;function nn(s){return s.replace(r_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function dr(s,a,l,c,m,y,I,N){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),a!=null?I==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Gn(a)):s.value!==""+Gn(a)&&(s.value=""+Gn(a)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),a!=null?Zs(s,I,Gn(a)):l!=null?Zs(s,I,Gn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Gn(N):s.removeAttribute("name")}function _o(s,a,l,c,m,y,I,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Gn(l):"",a=a!=null?""+Gn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Zs(s,a,l){a==="number"&&yo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function is(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Gn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Gn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Gn(l):""}function vo(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(B(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Gn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Dr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rp(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Eo.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Qc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&rp(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&rp(s,y,a[y])}function Xc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(s){return s_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ss=null;function Nr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var as=null,os=null;function Jc(s){var a=fi(s);if(a&&(s=a.stateNode)){var l=s[tn]||null;e:switch(s=a.stateNode,a.type){case"input":if(dr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[tn]||null;if(!m)throw Error(r(90));dr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Yc(c)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&is(s,!!l.multiple,a,!1)}}}var gi=!1;function ip(s,a,l){if(gi)return s(a,l);gi=!0;try{var c=s(a);return c}finally{if(gi=!1,(as!==null||os!==null)&&(Xp(),as&&(a=as,s=os,os=as=null,Jc(a),s)))for(a=0;a<s.length;a++)Jc(s[a])}}function bo(s,a){var l=s.stateNode;if(l===null)return null;var c=l[tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Zr)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){kr=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{kr=!1}var yi=null,ea=null,ls=null;function Zc(){if(ls)return ls;var s,a=ea,l=a.length,c,m="value"in yi?yi.value:yi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var I=l-s;for(c=1;c<=I&&a[l-c]===m[y-c];c++);return ls=m.slice(s,1<c?1-c:void 0)}function _i(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function eh(){return!1}function _n(s){function a(l,c,m,y,I){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vi:eh,this.isPropagationStopped=eh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=_n(it),To=g({},it,{view:0,detail:0}),sp=_n(To),Bl,Fl,Ei,So=g({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(Bl=s.screenX-Ei.screenX,Fl=s.screenY-Ei.screenY):Fl=Bl=0,Ei=s),Bl)},movementY:function(s){return"movementY"in s?s.movementY:Fl}}),Mr=_n(So),ap=g({},So,{dataTransfer:0}),a_=_n(ap),Ao=g({},To,{relatedTarget:0}),zl=_n(Ao),th=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),jl=_n(th),op=g({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ql=_n(op),o_=g({},it,{data:0}),nh=_n(o_),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=up[s])?!!a[s]:!1}function Ro(){return rh}var cp=g({},To,{key:function(s){if(s.key){var a=Io[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=_i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(s){return s.type==="keypress"?_i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hl=_n(cp),hp=g({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=_n(hp),us=g({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),dp=_n(us),fp=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=_n(fp),mp=g({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=_n(mp),Kn=g({},it,{newState:0,oldState:0}),gp=_n(Kn),yp=[9,13,27,32],bi=Zr&&"CompositionEvent"in window,p=null;Zr&&"documentMode"in document&&(p=document.documentMode);var E=Zr&&"TextEvent"in window&&!p,S=Zr&&(!bi||p&&8<p&&11>=p),k=" ",Q=!1;function se(s,a){switch(s){case"keyup":return yp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function dn(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Q=!0,k);case"textInput":return s=a.data,s===k&&Q?null:s;default:return null}}function Ye(s,a){if(We)return s==="compositionend"||!bi&&se(s,a)?(s=Zc(),ls=ea=yi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!vn[s.type]:a==="textarea"}function cs(s,a,l,c){as?os?os.push(c):os=[c]:as=c,a=rm(a,"onChange"),0<a.length&&(l=new Ul("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Cn=null,wi=null;function sh(s){VA(s,0)}function _p(s){var a=pi(s);if(Yc(a))return s}function rT(s,a){if(s==="change")return a}var iT=!1;if(Zr){var l_;if(Zr){var u_="oninput"in document;if(!u_){var sT=document.createElement("div");sT.setAttribute("oninput","return;"),u_=typeof sT.oninput=="function"}l_=u_}else l_=!1;iT=l_&&(!document.documentMode||9<document.documentMode)}function aT(){Cn&&(Cn.detachEvent("onpropertychange",oT),wi=Cn=null)}function oT(s){if(s.propertyName==="value"&&_p(wi)){var a=[];cs(a,wi,s,Nr(s)),ip(sh,a)}}function uk(s,a,l){s==="focusin"?(aT(),Cn=a,wi=l,Cn.attachEvent("onpropertychange",oT)):s==="focusout"&&aT()}function ck(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _p(wi)}function hk(s,a){if(s==="click")return _p(a)}function dk(s,a){if(s==="input"||s==="change")return _p(a)}function fk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fr=typeof Object.is=="function"?Object.is:fk;function ah(s,a){if(fr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!hr.call(a,m)||!fr(s[m],a[m]))return!1}return!0}function lT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uT(s,a){var l=lT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lT(l)}}function cT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?cT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function hT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=yo(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=yo(s.document)}return a}function c_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var pk=Zr&&"documentMode"in document&&11>=document.documentMode,Gl=null,h_=null,oh=null,d_=!1;function dT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;d_||Gl==null||Gl!==yo(c)||(c=Gl,"selectionStart"in c&&c_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oh&&ah(oh,c)||(oh=c,c=rm(h_,"onSelect"),0<c.length&&(a=new Ul("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Gl)))}function Co(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Kl={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},f_={},fT={};Zr&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function xo(s){if(f_[s])return f_[s];if(!Kl[s])return s;var a=Kl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in fT)return f_[s]=a[l];return s}var pT=xo("animationend"),mT=xo("animationiteration"),gT=xo("animationstart"),mk=xo("transitionrun"),gk=xo("transitionstart"),yk=xo("transitioncancel"),yT=xo("transitionend"),_T=new Map,p_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");p_.push("scrollEnd");function ei(s,a){_T.set(s,a),Jr(a,[s])}var vT=new WeakMap;function Vr(s,a){if(typeof s=="object"&&s!==null){var l=vT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ml(a)},vT.set(s,a),a)}return{value:s,source:a,stack:Ml(a)}}var Lr=[],Wl=0,m_=0;function vp(){for(var s=Wl,a=m_=Wl=0;a<s;){var l=Lr[a];Lr[a++]=null;var c=Lr[a];Lr[a++]=null;var m=Lr[a];Lr[a++]=null;var y=Lr[a];if(Lr[a++]=null,c!==null&&m!==null){var I=c.pending;I===null?m.next=m:(m.next=I.next,I.next=m),c.pending=m}y!==0&&ET(l,m,y)}}function Ep(s,a,l,c){Lr[Wl++]=s,Lr[Wl++]=a,Lr[Wl++]=l,Lr[Wl++]=c,m_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function g_(s,a,l,c){return Ep(s,a,l,c),bp(s)}function Yl(s,a){return Ep(s,null,null,a),bp(s)}function ET(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-en(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function bp(s){if(50<Dh)throw Dh=0,wv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ql={};function _k(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(s,a,l,c){return new _k(s,a,l,c)}function y_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=pr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function bT(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function wp(s,a,l,c,m,y){var I=0;if(c=s,typeof s=="function")y_(s)&&(I=1);else if(typeof s=="string")I=EM(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=pr(31,l,a,m),s.elementType=P,s.lanes=y,s;case b:return Po(l.children,m,y,a);case A:I=8,m|=24;break;case x:return s=pr(12,l,a,m|2),s.elementType=x,s.lanes=y,s;case F:return s=pr(13,l,a,m),s.elementType=F,s.lanes=y,s;case K:return s=pr(19,l,a,m),s.elementType=K,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:case U:I=10;break e;case L:I=9;break e;case $:I=11;break e;case M:I=14;break e;case R:I=16,c=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=pr(I,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Po(s,a,l,c){return s=pr(7,s,c,a),s.lanes=l,s}function __(s,a,l){return s=pr(6,s,null,a),s.lanes=l,s}function v_(s,a,l){return a=pr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Xl=[],Jl=0,Tp=null,Sp=0,Ur=[],Br=0,Oo=null,ds=1,fs="";function Do(s,a){Xl[Jl++]=Sp,Xl[Jl++]=Tp,Tp=s,Sp=a}function wT(s,a,l){Ur[Br++]=ds,Ur[Br++]=fs,Ur[Br++]=Oo,Oo=s;var c=ds;s=fs;var m=32-en(c)-1;c&=~(1<<m),l+=1;var y=32-en(a)+m;if(30<y){var I=m-m%5;y=(c&(1<<I)-1).toString(32),c>>=I,m-=I,ds=1<<32-en(a)+m|l<<m|c,fs=y+s}else ds=1<<y|l<<m|c,fs=s}function E_(s){s.return!==null&&(Do(s,1),wT(s,1,0))}function b_(s){for(;s===Tp;)Tp=Xl[--Jl],Xl[Jl]=null,Sp=Xl[--Jl],Xl[Jl]=null;for(;s===Oo;)Oo=Ur[--Br],Ur[Br]=null,fs=Ur[--Br],Ur[Br]=null,ds=Ur[--Br],Ur[Br]=null}var Wn=null,Ut=null,et=!1,No=null,Ti=!1,w_=Error(r(519));function ko(s){var a=Error(r(418,""));throw ch(Vr(a,s)),w_}function TT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[hn]=s,a[tn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<kh.length;l++)qe(kh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),_o(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Vl(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),vo(a,c.value,c.defaultValue,c.children),Vl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||FA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=im),a=!0):a=!1,a||ko(s)}function ST(s){for(Wn=s.return;Wn;)switch(Wn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Wn=Wn.return}}function lh(s){if(s!==Wn)return!1;if(!et)return ST(s),et=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Uv(s.type,s.memoizedProps)),l=!l),l&&Ut&&ko(s),ST(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ut=ni(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ut=null}}else a===27?(a=Ut,ga(s.type)?(s=jv,jv=null,Ut=s):Ut=a):Ut=Wn?ni(s.stateNode.nextSibling):null;return!0}function uh(){Ut=Wn=null,et=!1}function AT(){var s=No;return s!==null&&(rr===null?rr=s:rr.push.apply(rr,s),No=null),s}function ch(s){No===null?No=[s]:No.push(s)}var T_=re(null),Mo=null,ps=null;function ta(s,a,l){me(T_,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=T_.current,ge(T_)}function S_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function A_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var I=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),S_(y.return,l,s),c||(I=null);break e}y=N.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),S_(I,l,s),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===s){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function hh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var N=m.type;fr(m.pendingProps.value,I.value)||(s!==null?s.push(N):s=[N])}}else if(m===$t.current){if(I=m.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Fh):s=[Fh])}m=m.return}s!==null&&A_(a,s,l,c),a.flags|=262144}function Ap(s){for(s=s.firstContext;s!==null;){if(!fr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Vo(s){Mo=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ln(s){return IT(Mo,s)}function Ip(s,a){return Mo===null&&Vo(s),IT(s,a)}function IT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(s===null)throw Error(r(308));ps=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ps=ps.next=a;return l}var vk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Ek=n.unstable_scheduleCallback,bk=n.unstable_NormalPriority,pn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function I_(){return{controller:new vk,data:new Map,refCount:0}}function dh(s){s.refCount--,s.refCount===0&&Ek(bk,function(){s.controller.abort()})}var fh=null,R_=0,Zl=0,eu=null;function wk(s,a){if(fh===null){var l=fh=[];R_=0,Zl=xv(),eu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return R_++,a.then(RT,RT),a}function RT(){if(--R_===0&&fh!==null){eu!==null&&(eu.status="fulfilled");var s=fh;fh=null,Zl=0,eu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Tk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var CT=H.S;H.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&wk(s,a),CT!==null&&CT(s,a)};var Lo=re(null);function C_(){var s=Lo.current;return s!==null?s:vt.pooledCache}function Rp(s,a){a===null?me(Lo,Lo.current):me(Lo,a.pool)}function xT(){var s=C_();return s===null?null:{parent:pn._currentValue,pool:s}}var ph=Error(r(460)),PT=Error(r(474)),Cp=Error(r(542)),x_={then:function(){}};function OT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xp(){}function DT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(xp,xp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,kT(s),s;default:if(typeof a.status=="string")a.then(xp,xp);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,kT(s),s}throw mh=a,ph}}var mh=null;function NT(){if(mh===null)throw Error(r(459));var s=mh;return mh=null,s}function kT(s){if(s===ph||s===Cp)throw Error(r(483))}var na=!1;function P_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function O_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ra(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ia(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=bp(s),ET(s,null,l),a}return Ep(s,c,a,l),bp(s)}function gh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Hc(s,l)}}function D_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var N_=!1;function yh(){if(N_){var s=eu;if(s!==null)throw s}}function _h(s,a,l,c){N_=!1;var m=s.updateQueue;na=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,ee=z.next;z.next=null,I===null?y=ee:I.next=ee,I=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==I&&(N===null?ce.firstBaseUpdate=ee:N.next=ee,ce.lastBaseUpdate=z))}if(y!==null){var de=m.baseState;I=0,ce=ee=z=null,N=y;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Qe&te)===te:(c&te)===te){te!==0&&te===Zl&&(N_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,Pe=N;te=a;var ft=l;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(ft,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,te=typeof Ne=="function"?Ne.call(ft,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:na=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(ee=ce=ne,z=de):ce=ce.next=ne,I|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(z=de),m.baseState=z,m.firstBaseUpdate=ee,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),da|=I,s.lanes=I,s.memoizedState=de}}function MT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function VT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)MT(l[s],a)}var tu=re(null),Pp=re(0);function LT(s,a){s=ws,me(Pp,s),me(tu,a),ws=s|a.baseLanes}function k_(){me(Pp,ws),me(tu,tu.current)}function M_(){ws=Pp.current,ge(tu),ge(Pp)}var sa=0,Be=null,ht=null,rn=null,Op=!1,nu=!1,Uo=!1,Dp=0,vh=0,ru=null,Sk=0;function Wt(){throw Error(r(321))}function V_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!fr(s[l],a[l]))return!1;return!0}function L_(s,a,l,c,m,y){return sa=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=s===null||s.memoizedState===null?ES:bS,Uo=!1,y=l(c,m),Uo=!1,nu&&(y=BT(a,l,c,m)),UT(s),y}function UT(s){H.H=Up;var a=ht!==null&&ht.next!==null;if(sa=0,rn=ht=Be=null,Op=!1,vh=0,ru=null,a)throw Error(r(300));s===null||En||(s=s.dependencies,s!==null&&Ap(s)&&(En=!0))}function BT(s,a,l,c){Be=s;var m=0;do{if(nu&&(ru=null),vh=0,nu=!1,25<=m)throw Error(r(301));if(m+=1,rn=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Ok,y=a(l,c)}while(nu);return y}function Ak(){var s=H.H,a=s.useState()[0];return a=typeof a.then=="function"?Eh(a):a,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Be.flags|=1024),a}function U_(){var s=Dp!==0;return Dp=0,s}function B_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function F_(s){if(Op){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Op=!1}sa=0,rn=ht=Be=null,nu=!1,vh=Dp=0,ru=null}function tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Be.memoizedState=rn=s:rn=rn.next=s,rn}function sn(){if(ht===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var a=rn===null?Be.memoizedState:rn.next;if(a!==null)rn=a,ht=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},rn===null?Be.memoizedState=rn=s:rn=rn.next=s}return rn}function z_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eh(s){var a=vh;return vh+=1,ru===null&&(ru=[]),s=DT(ru,s,a),a=Be,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?ES:bS),s}function Np(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eh(s);if(s.$$typeof===U)return Ln(s)}throw Error(r(438,String(s)))}function j_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=z_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=w;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function kp(s){var a=sn();return q_(a,ht,s)}function q_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=I=null,z=null,ee=a,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Qe&de)===de:(sa&de)===de){var te=ee.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===Zl&&(ce=!0);else if((sa&te)===te){ee=ee.next,te===Zl&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=de,I=y):z=z.next=de,Be.lanes|=te,da|=te;de=ee.action,Uo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=te,I=y):z=z.next=te,Be.lanes|=de,da|=de;ee=ee.next}while(ee!==null&&ee!==a);if(z===null?I=y:z.next=N,!fr(y,s.memoizedState)&&(En=!0,ce&&(l=eu,l!==null)))throw l;s.memoizedState=y,s.baseState=I,s.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function H_(s){var a=sn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);fr(y,a.memoizedState)||(En=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function FT(s,a,l){var c=Be,m=sn(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!fr((ht||m).memoizedState,l);I&&(m.memoizedState=l,En=!0),m=m.queue;var N=qT.bind(null,c,m,s);if(bh(2048,8,N,[s]),m.getSnapshot!==a||I||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,iu(9,Mp(),jT.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));y||(sa&124)!==0||zT(c,a,l)}return l}function zT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=z_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function jT(s,a,l,c){a.value=l,a.getSnapshot=c,HT(a)&&$T(s)}function qT(s,a,l){return l(function(){HT(a)&&$T(s)})}function HT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!fr(s,l)}catch{return!0}}function $T(s){var a=Yl(s,2);a!==null&&vr(a,s,2)}function $_(s){var a=tr();if(typeof s=="function"){var l=s;if(s=l(),Uo){Gt(!0);try{l()}finally{Gt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function GT(s,a,l,c){return s.baseState=l,q_(s,ht,typeof c=="function"?c:gs)}function Ik(s,a,l,c,m){if(Lp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};H.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,KT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function KT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=H.T,I={};H.T=I;try{var N=l(m,c),z=H.S;z!==null&&z(I,N),WT(s,a,N)}catch(ee){G_(s,a,ee)}finally{H.T=y}}else try{y=l(m,c),WT(s,a,y)}catch(ee){G_(s,a,ee)}}function WT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){YT(s,a,c)},function(c){return G_(s,a,c)}):YT(s,a,l)}function YT(s,a,l){a.status="fulfilled",a.value=l,QT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,KT(s,l)))}function G_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,QT(a),a=a.next;while(a!==c)}s.action=null}function QT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function XT(s,a){return a}function JT(s,a){if(et){var l=vt.formState;if(l!==null){e:{var c=Be;if(et){if(Ut){t:{for(var m=Ut,y=Ti;m.nodeType!==8;){if(!y){m=null;break t}if(m=ni(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ut=ni(m.nextSibling),c=m.data==="F!";break e}}ko(c)}c=!1}c&&(a=l[0])}}return l=tr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XT,lastRenderedState:a},l.queue=c,l=yS.bind(null,Be,c),c.dispatch=l,c=$_(!1),y=X_.bind(null,Be,!1,c.queue),c=tr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Ik.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function ZT(s){var a=sn();return eS(a,ht,s)}function eS(s,a,l){if(a=q_(s,a,XT)[0],s=kp(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Eh(a)}catch(I){throw I===ph?Cp:I}else c=a;a=sn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,iu(9,Mp(),Rk.bind(null,m,l),null)),[c,y,s]}function Rk(s,a){s.action=a}function tS(s){var a=sn(),l=ht;if(l!==null)return eS(a,l,s);sn(),a=a.memoizedState,l=sn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function iu(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=z_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Mp(){return{destroy:void 0,resource:void 0}}function nS(){return sn().memoizedState}function Vp(s,a,l,c){var m=tr();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=iu(1|a,Mp(),l,c)}function bh(s,a,l,c){var m=sn();c=c===void 0?null:c;var y=m.memoizedState.inst;ht!==null&&c!==null&&V_(c,ht.memoizedState.deps)?m.memoizedState=iu(a,y,l,c):(Be.flags|=s,m.memoizedState=iu(1|a,y,l,c))}function rS(s,a){Vp(8390656,8,s,a)}function iS(s,a){bh(2048,8,s,a)}function sS(s,a){return bh(4,2,s,a)}function aS(s,a){return bh(4,4,s,a)}function oS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function lS(s,a,l){l=l!=null?l.concat([s]):null,bh(4,4,oS.bind(null,a,s),l)}function K_(){}function uS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&V_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function cS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&V_(a,c[1]))return c[0];if(c=s(),Uo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c}function W_(s,a,l){return l===void 0||(sa&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=fA(),Be.lanes|=s,da|=s,l)}function hS(s,a,l,c){return fr(l,a)?l:tu.current!==null?(s=W_(s,l,c),fr(s,a)||(En=!0),s):(sa&42)===0?(En=!0,s.memoizedState=l):(s=fA(),Be.lanes|=s,da|=s,a)}function dS(s,a,l,c,m){var y=J.p;J.p=y!==0&&8>y?y:8;var I=H.T,N={};H.T=N,X_(s,!1,a,l);try{var z=m(),ee=H.S;if(ee!==null&&ee(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=Tk(z,c);wh(s,a,ce,_r(s))}else wh(s,a,c,_r(s))}catch(de){wh(s,a,{then:function(){},status:"rejected",reason:de},_r())}finally{J.p=y,H.T=I}}function Ck(){}function Y_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=fS(s).queue;dS(s,m,a,le,l===null?Ck:function(){return pS(s),l(c)})}function fS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function pS(s){var a=fS(s).next.queue;wh(s,a,{},_r())}function Q_(){return Ln(Fh)}function mS(){return sn().memoizedState}function gS(){return sn().memoizedState}function xk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=_r();s=ra(l);var c=ia(a,s,l);c!==null&&(vr(c,a,l),gh(c,a,l)),a={cache:I_()},s.payload=a;return}a=a.return}}function Pk(s,a,l){var c=_r();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lp(s)?_S(a,l):(l=g_(s,a,l,c),l!==null&&(vr(l,s,c),vS(l,a,c)))}function yS(s,a,l){var c=_r();wh(s,a,l,c)}function wh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lp(s))_S(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var I=a.lastRenderedState,N=y(I,l);if(m.hasEagerState=!0,m.eagerState=N,fr(N,I))return Ep(s,a,m,0),vt===null&&vp(),!1}catch{}finally{}if(l=g_(s,a,m,c),l!==null)return vr(l,s,c),vS(l,a,c),!0}return!1}function X_(s,a,l,c){if(c={lane:2,revertLane:xv(),action:c,hasEagerState:!1,eagerState:null,next:null},Lp(s)){if(a)throw Error(r(479))}else a=g_(s,l,c,2),a!==null&&vr(a,s,2)}function Lp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function _S(s,a){nu=Op=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function vS(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Hc(s,l)}}var Up={readContext:Ln,use:Np,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ES={readContext:Ln,use:Np,useCallback:function(s,a){return tr().memoizedState=[s,a===void 0?null:a],s},useContext:Ln,useEffect:rS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Vp(4194308,4,oS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Vp(4194308,4,s,a)},useInsertionEffect:function(s,a){Vp(4,2,s,a)},useMemo:function(s,a){var l=tr();a=a===void 0?null:a;var c=s();if(Uo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=tr();if(l!==void 0){var m=l(a);if(Uo){Gt(!0);try{l(a)}finally{Gt(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=Pk.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=tr();return s={current:s},a.memoizedState=s},useState:function(s){s=$_(s);var a=s.queue,l=yS.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:K_,useDeferredValue:function(s,a){var l=tr();return W_(l,s,a)},useTransition:function(){var s=$_(!1);return s=dS.bind(null,Be,s.queue,!0,!1),tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=tr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Qe&124)!==0||zT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,rS(qT.bind(null,c,y,s),[s]),c.flags|=2048,iu(9,Mp(),jT.bind(null,c,y,l,a),null),l},useId:function(){var s=tr(),a=vt.identifierPrefix;if(et){var l=fs,c=ds;l=(c&~(1<<32-en(c)-1)).toString(32)+l,a=""+a+"R"+l,l=Dp++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Sk++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Q_,useFormState:JT,useActionState:JT,useOptimistic:function(s){var a=tr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=X_.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:j_,useCacheRefresh:function(){return tr().memoizedState=xk.bind(null,Be)}},bS={readContext:Ln,use:Np,useCallback:uS,useContext:Ln,useEffect:iS,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:aS,useMemo:cS,useReducer:kp,useRef:nS,useState:function(){return kp(gs)},useDebugValue:K_,useDeferredValue:function(s,a){var l=sn();return hS(l,ht.memoizedState,s,a)},useTransition:function(){var s=kp(gs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Eh(s),a]},useSyncExternalStore:FT,useId:mS,useHostTransitionStatus:Q_,useFormState:ZT,useActionState:ZT,useOptimistic:function(s,a){var l=sn();return GT(l,ht,s,a)},useMemoCache:j_,useCacheRefresh:gS},Ok={readContext:Ln,use:Np,useCallback:uS,useContext:Ln,useEffect:iS,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:aS,useMemo:cS,useReducer:H_,useRef:nS,useState:function(){return H_(gs)},useDebugValue:K_,useDeferredValue:function(s,a){var l=sn();return ht===null?W_(l,s,a):hS(l,ht.memoizedState,s,a)},useTransition:function(){var s=H_(gs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Eh(s),a]},useSyncExternalStore:FT,useId:mS,useHostTransitionStatus:Q_,useFormState:tS,useActionState:tS,useOptimistic:function(s,a){var l=sn();return ht!==null?GT(l,ht,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:j_,useCacheRefresh:gS},su=null,Th=0;function Bp(s){var a=Th;return Th+=1,su===null&&(su=[]),DT(su,s,a)}function Sh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Fp(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function wS(s){var a=s._init;return a(s._payload)}function TS(s){function a(Y,G){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function l(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=hs(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function I(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,G,Z,he){return G===null||G.tag!==6?(G=__(Z,Y.mode,he),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function z(Y,G,Z,he){var Se=Z.type;return Se===b?ce(Y,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&wS(Se)===G.type)?(G=m(G,Z.props),Sh(G,Z),G.return=Y,G):(G=wp(Z.type,Z.key,Z.props,null,Y.mode,he),Sh(G,Z),G.return=Y,G)}function ee(Y,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=v_(Z,Y.mode,he),G.return=Y,G):(G=m(G,Z.children||[]),G.return=Y,G)}function ce(Y,G,Z,he,Se){return G===null||G.tag!==7?(G=Po(Z,Y.mode,he,Se),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function de(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=__(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=wp(G.type,G.key,G.props,null,Y.mode,Z),Sh(Z,G),Z.return=Y,Z;case T:return G=v_(G,Y.mode,Z),G.return=Y,G;case R:var he=G._init;return G=he(G._payload),de(Y,G,Z)}if(B(G)||C(G))return G=Po(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return de(Y,Bp(G),Z);if(G.$$typeof===U)return de(Y,Ip(Y,G),Z);Fp(Y,G)}return null}function te(Y,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:N(Y,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?z(Y,G,Z,he):null;case T:return Z.key===Se?ee(Y,G,Z,he):null;case R:return Se=Z._init,Z=Se(Z._payload),te(Y,G,Z,he)}if(B(Z)||C(Z))return Se!==null?null:ce(Y,G,Z,he,null);if(typeof Z.then=="function")return te(Y,G,Bp(Z),he);if(Z.$$typeof===U)return te(Y,G,Ip(Y,Z),he);Fp(Y,Z)}return null}function ne(Y,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,N(G,Y,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Y=Y.get(he.key===null?Z:he.key)||null,z(G,Y,he,Se);case T:return Y=Y.get(he.key===null?Z:he.key)||null,ee(G,Y,he,Se);case R:var ze=he._init;return he=ze(he._payload),ne(Y,G,Z,he,Se)}if(B(he)||C(he))return Y=Y.get(Z)||null,ce(G,Y,he,Se,null);if(typeof he.then=="function")return ne(Y,G,Z,Bp(he),Se);if(he.$$typeof===U)return ne(Y,G,Z,Ip(G,he),Se);Fp(G,he)}return null}function Ne(Y,G,Z,he){for(var Se=null,ze=null,Re=G,Oe=G=0,wn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(wn=Re,Re=null):wn=Re.sibling;var Je=te(Y,Re,Z[Oe],he);if(Je===null){Re===null&&(Re=wn);break}s&&Re&&Je.alternate===null&&a(Y,Re),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je,Re=wn}if(Oe===Z.length)return l(Y,Re),et&&Do(Y,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=de(Y,Z[Oe],he),Re!==null&&(G=y(Re,G,Oe),ze===null?Se=Re:ze.sibling=Re,ze=Re);return et&&Do(Y,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)wn=ne(Re,Y,Oe,Z[Oe],he),wn!==null&&(s&&wn.alternate!==null&&Re.delete(wn.key===null?Oe:wn.key),G=y(wn,G,Oe),ze===null?Se=wn:ze.sibling=wn,ze=wn);return s&&Re.forEach(function(ba){return a(Y,ba)}),et&&Do(Y,Oe),Se}function Pe(Y,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,ze=null,Re=G,Oe=G=0,wn=null,Je=Z.next();Re!==null&&!Je.done;Oe++,Je=Z.next()){Re.index>Oe?(wn=Re,Re=null):wn=Re.sibling;var ba=te(Y,Re,Je.value,he);if(ba===null){Re===null&&(Re=wn);break}s&&Re&&ba.alternate===null&&a(Y,Re),G=y(ba,G,Oe),ze===null?Se=ba:ze.sibling=ba,ze=ba,Re=wn}if(Je.done)return l(Y,Re),et&&Do(Y,Oe),Se;if(Re===null){for(;!Je.done;Oe++,Je=Z.next())Je=de(Y,Je.value,he),Je!==null&&(G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return et&&Do(Y,Oe),Se}for(Re=c(Re);!Je.done;Oe++,Je=Z.next())Je=ne(Re,Y,Oe,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return s&&Re.forEach(function(DM){return a(Y,DM)}),et&&Do(Y,Oe),Se}function ft(Y,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===b){if(G.tag===7){l(Y,G.sibling),he=m(G,Z.props.children),he.return=Y,Y=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&wS(Se)===G.type){l(Y,G.sibling),he=m(G,Z.props),Sh(he,Z),he.return=Y,Y=he;break e}l(Y,G);break}else a(Y,G);G=G.sibling}Z.type===b?(he=Po(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=wp(Z.type,Z.key,Z.props,null,Y.mode,he),Sh(he,Z),he.return=Y,Y=he)}return I(Y);case T:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Y,G.sibling),he=m(G,Z.children||[]),he.return=Y,Y=he;break e}else{l(Y,G);break}else a(Y,G);G=G.sibling}he=v_(Z,Y.mode,he),he.return=Y,Y=he}return I(Y);case R:return Se=Z._init,Z=Se(Z._payload),ft(Y,G,Z,he)}if(B(Z))return Ne(Y,G,Z,he);if(C(Z)){if(Se=C(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Pe(Y,G,Z,he)}if(typeof Z.then=="function")return ft(Y,G,Bp(Z),he);if(Z.$$typeof===U)return ft(Y,G,Ip(Y,Z),he);Fp(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Y,G.sibling),he=m(G,Z),he.return=Y,Y=he):(l(Y,G),he=__(Z,Y.mode,he),he.return=Y,Y=he),I(Y)):l(Y,G)}return function(Y,G,Z,he){try{Th=0;var Se=ft(Y,G,Z,he);return su=null,Se}catch(Re){if(Re===ph||Re===Cp)throw Re;var ze=pr(29,Re,null,Y.mode);return ze.lanes=he,ze.return=Y,ze}finally{}}}var au=TS(!0),SS=TS(!1),Fr=re(null),Si=null;function aa(s){var a=s.alternate;me(mn,mn.current&1),me(Fr,s),Si===null&&(a===null||tu.current!==null||a.memoizedState!==null)&&(Si=s)}function AS(s){if(s.tag===22){if(me(mn,mn.current),me(Fr,s),Si===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Si=s)}}else oa()}function oa(){me(mn,mn.current),me(Fr,Fr.current)}function ys(s){ge(Fr),Si===s&&(Si=null),ge(mn)}var mn=re(0);function zp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||zv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function J_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Z_={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=_r(),m=ra(c);m.payload=a,l!=null&&(m.callback=l),a=ia(s,m,c),a!==null&&(vr(a,s,c),gh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=_r(),m=ra(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ia(s,m,c),a!==null&&(vr(a,s,c),gh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=_r(),c=ra(l);c.tag=2,a!=null&&(c.callback=a),a=ia(s,c,l),a!==null&&(vr(a,s,l),gh(a,s,l))}};function IS(s,a,l,c,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,I):a.prototype&&a.prototype.isPureReactComponent?!ah(l,c)||!ah(m,y):!0}function RS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&Z_.enqueueReplaceState(a,a.state,null)}function Bo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var jp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function CS(s){jp(s)}function xS(s){console.error(s)}function PS(s){jp(s)}function qp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function OS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ev(s,a,l){return l=ra(l),l.tag=3,l.payload={element:null},l.callback=function(){qp(s,a)},l}function DS(s){return s=ra(s),s.tag=3,s}function NS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){OS(a,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){OS(a,l,c),typeof m!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Dk(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&hh(a,l,m,!0),l=Fr.current,l!==null){switch(l.tag){case 13:return Si===null?Sv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===x_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Iv(s,c,m)),!1;case 22:return l.flags|=65536,c===x_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Iv(s,c,m)),!1}throw Error(r(435,l.tag))}return Iv(s,c,m),Sv(),!1}if(et)return a=Fr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==w_&&(s=Error(r(422),{cause:c}),ch(Vr(s,l)))):(c!==w_&&(a=Error(r(423),{cause:c}),ch(Vr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Vr(c,l),m=ev(s.stateNode,c,m),D_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Vr(y,l),Oh===null?Oh=[y]:Oh.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Vr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=ev(l.stateNode,c,s),D_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fa===null||!fa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=DS(m),NS(m,s,l,c),D_(l,m),!1}l=l.return}while(l!==null);return!1}var kS=Error(r(461)),En=!1;function xn(s,a,l,c){a.child=s===null?SS(a,null,l,c):au(a,s.child,l,c)}function MS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var I={};for(var N in c)N!=="ref"&&(I[N]=c[N])}else I=c;return Vo(a),c=L_(s,a,l,I,y,m),N=U_(),s!==null&&!En?(B_(s,a,m),_s(s,a,m)):(et&&N&&E_(a),a.flags|=1,xn(s,a,c,m),a.child)}function VS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!y_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,LS(s,a,y,c,m)):(s=wp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!lv(s,m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:ah,l(I,c)&&s.ref===a.ref)return _s(s,a,m)}return a.flags|=1,s=hs(y,c),s.ref=a.ref,s.return=a,a.child=s}function LS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(ah(y,c)&&s.ref===a.ref)if(En=!1,a.pendingProps=c=y,lv(s,m))(s.flags&131072)!==0&&(En=!0);else return a.lanes=s.lanes,_s(s,a,m)}return tv(s,a,l,c,m)}function US(s,a,l){var c=a.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return BS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rp(a,y!==null?y.cachePool:null),y!==null?LT(a,y):k_(),AS(a);else return a.lanes=a.childLanes=536870912,BS(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Rp(a,y.cachePool),LT(a,y),oa(),a.memoizedState=null):(s!==null&&Rp(a,null),k_(),oa());return xn(s,a,m,l),a.child}function BS(s,a,l,c){var m=C_();return m=m===null?null:{parent:pn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Rp(a,null),k_(),AS(a),s!==null&&hh(s,a,c,!0),null}function Hp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function tv(s,a,l,c,m){return Vo(a),l=L_(s,a,l,c,void 0,m),c=U_(),s!==null&&!En?(B_(s,a,m),_s(s,a,m)):(et&&c&&E_(a),a.flags|=1,xn(s,a,l,m),a.child)}function FS(s,a,l,c,m,y){return Vo(a),a.updateQueue=null,l=BT(a,c,l,m),UT(s),c=U_(),s!==null&&!En?(B_(s,a,y),_s(s,a,y)):(et&&c&&E_(a),a.flags|=1,xn(s,a,l,y),a.child)}function zS(s,a,l,c,m){if(Vo(a),a.stateNode===null){var y=Ql,I=l.contextType;typeof I=="object"&&I!==null&&(y=Ln(I)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Z_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},P_(a),I=l.contextType,y.context=typeof I=="object"&&I!==null?Ln(I):Ql,y.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(J_(a,l,I,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&Z_.enqueueReplaceState(y,y.state,null),_h(a,c,y,m),yh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,z=Bo(l,N);y.props=z;var ee=y.context,ce=l.contextType;I=Ql,typeof ce=="object"&&ce!==null&&(I=Ln(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||ee!==I)&&RS(a,y,c,I),na=!1;var te=a.memoizedState;y.state=te,_h(a,c,y,m),yh(),ee=a.memoizedState,N||te!==ee||na?(typeof de=="function"&&(J_(a,l,de,c),ee=a.memoizedState),(z=na||IS(a,l,z,c,te,ee,I))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),y.props=c,y.state=ee,y.context=I,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,O_(s,a),I=a.memoizedProps,ce=Bo(l,I),y.props=ce,de=a.pendingProps,te=y.context,ee=l.contextType,z=Ql,typeof ee=="object"&&ee!==null&&(z=Ln(ee)),N=l.getDerivedStateFromProps,(ee=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==de||te!==z)&&RS(a,y,c,z),na=!1,te=a.memoizedState,y.state=te,_h(a,c,y,m),yh();var ne=a.memoizedState;I!==de||te!==ne||na||s!==null&&s.dependencies!==null&&Ap(s.dependencies)?(typeof N=="function"&&(J_(a,l,N,c),ne=a.memoizedState),(ce=na||IS(a,l,ce,c,te,ne,z)||s!==null&&s.dependencies!==null&&Ap(s.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=z,c=ce):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Hp(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=au(a,s.child,null,m),a.child=au(a,null,l,m)):xn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=_s(s,a,m),s}function jS(s,a,l,c){return uh(),a.flags|=256,xn(s,a,l,c),a.child}var nv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rv(s){return{baseLanes:s,cachePool:xT()}}function iv(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=zr),s}function qS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,I;if((I=y)||(I=s!==null&&s.memoizedState===null?!1:(mn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?aa(a):oa(),et){var N=Ut,z;if(z=N){e:{for(z=N,N=Ti;z.nodeType!==8;){if(!N){N=null;break e}if(z=ni(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:Oo!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},z=pr(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,Wn=a,Ut=null,z=!0):z=!1}z||ko(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return zv(N)?a.lanes=32:a.lanes=536870912,null;ys(a)}return N=c.children,c=c.fallback,m?(oa(),m=a.mode,N=$p({mode:"hidden",children:N},m),c=Po(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=rv(l),m.childLanes=iv(s,I,l),a.memoizedState=nv,c):(aa(a),sv(a,N))}if(z=s.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(y)a.flags&256?(aa(a),a.flags&=-257,a=av(s,a,l)):a.memoizedState!==null?(oa(),a.child=s.child,a.flags|=128,a=null):(oa(),m=c.fallback,N=a.mode,c=$p({mode:"visible",children:c.children},N),m=Po(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,au(a,s.child,null,l),c=a.child,c.memoizedState=rv(l),c.childLanes=iv(s,I,l),a.memoizedState=nv,a=m);else if(aa(a),zv(N)){if(I=N.nextSibling&&N.nextSibling.dataset,I)var ee=I.dgst;I=ee,c=Error(r(419)),c.stack="",c.digest=I,ch({value:c,source:null,stack:null}),a=av(s,a,l)}else if(En||hh(s,a,l,!1),I=(l&s.childLanes)!==0,En||I){if(I=vt,I!==null&&(c=l&-l,c=(c&42)!==0?1:Ws(c),c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Yl(s,c),vr(I,s,c),kS;N.data==="$?"||Sv(),a=av(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Ut=ni(N.nextSibling),Wn=a,et=!0,No=null,Ti=!1,s!==null&&(Ur[Br++]=ds,Ur[Br++]=fs,Ur[Br++]=Oo,ds=s.id,fs=s.overflow,Oo=a),a=sv(a,c.children),a.flags|=4096);return a}return m?(oa(),m=c.fallback,N=a.mode,z=s.child,ee=z.sibling,c=hs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,ee!==null?m=hs(ee,m):(m=Po(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=rv(l):(z=N.cachePool,z!==null?(ee=pn._currentValue,z=z.parent!==ee?{parent:ee,pool:ee}:z):z=xT(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=iv(s,I,l),a.memoizedState=nv,c):(aa(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(I=a.deletions,I===null?(a.deletions=[s],a.flags|=16):I.push(s)),a.child=l,a.memoizedState=null,l)}function sv(s,a){return a=$p({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function $p(s,a){return s=pr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function av(s,a,l){return au(a,s.child,null,l),s=sv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function HS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),S_(s.return,a,l)}function ov(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function $S(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(xn(s,a,c.children,l),c=mn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&HS(s,l,a);else if(s.tag===19)HS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(mn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&zp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),ov(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&zp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}ov(a,!0,l,null,y);break;case"together":ov(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _s(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),da|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(hh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function lv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Ap(s)))}function Nk(s,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),ta(a,pn,s.memoizedState.cache),uh();break;case 27:case 5:ci(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:ta(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(aa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?qS(s,a,l):(aa(a),s=_s(s,a,l),s!==null?s.sibling:null);aa(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(hh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return $S(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(mn,mn.current),c)break;return null;case 22:case 23:return a.lanes=0,US(s,a,l);case 24:ta(a,pn,s.memoizedState.cache)}return _s(s,a,l)}function GS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)En=!0;else{if(!lv(s,l)&&(a.flags&128)===0)return En=!1,Nk(s,a,l);En=(s.flags&131072)!==0}else En=!1,et&&(a.flags&1048576)!==0&&wT(a,Sp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")y_(c)?(s=Bo(c,s),a.tag=1,a=zS(null,a,c,s,l)):(a.tag=0,a=tv(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===$){a.tag=11,a=MS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=VS(null,a,c,s,l);break e}}throw a=ae(c)||c,Error(r(306,a,""))}}return a;case 0:return tv(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Bo(c,a.pendingProps),zS(s,a,c,m,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,O_(s,a),_h(a,c,null,l);var I=a.memoizedState;if(c=I.cache,ta(a,pn,c),c!==y.cache&&A_(a,[pn],l,!0),yh(),c=I.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=jS(s,a,c,l);break e}else if(c!==m){m=Vr(Error(r(424)),a),ch(m),a=jS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=ni(s.firstChild),Wn=a,et=!0,No=null,Ti=!0,l=SS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(uh(),c===m){a=_s(s,a,l);break e}xn(s,a,c,l)}a=a.child}return a;case 26:return Hp(s,a),s===null?(l=QA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=sm(xe.current).createElement(l),c[hn]=a,c[tn]=s,On(c,l,s),Kt(c),a.stateNode=c):a.memoizedState=QA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ci(a),s===null&&et&&(c=a.stateNode=KA(a.type,a.pendingProps,xe.current),Wn=a,Ti=!0,m=Ut,ga(a.type)?(jv=m,Ut=ni(c.firstChild)):Ut=m),xn(s,a,a.pendingProps.children,l),Hp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&et&&((m=c=Ut)&&(c=oM(c,a.type,a.pendingProps,Ti),c!==null?(a.stateNode=c,Wn=a,Ut=ni(c.firstChild),Ti=!1,m=!0):m=!1),m||ko(a)),ci(a),m=a.type,y=a.pendingProps,I=s!==null?s.memoizedProps:null,c=y.children,Uv(m,y)?c=null:I!==null&&Uv(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=L_(s,a,Ak,null,null,l),Fh._currentValue=m),Hp(s,a),xn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Ut)&&(l=lM(l,a.pendingProps,Ti),l!==null?(a.stateNode=l,Wn=a,Ut=null,s=!0):s=!1),s||ko(a)),null;case 13:return qS(s,a,l);case 4:return rt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=au(a,null,c,l):xn(s,a,c,l),a.child;case 11:return MS(s,a,a.type,a.pendingProps,l);case 7:return xn(s,a,a.pendingProps,l),a.child;case 8:return xn(s,a,a.pendingProps.children,l),a.child;case 12:return xn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ta(a,a.type,c.value),xn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Vo(a),m=Ln(m),c=c(m),a.flags|=1,xn(s,a,c,l),a.child;case 14:return VS(s,a,a.type,a.pendingProps,l);case 15:return LS(s,a,a.type,a.pendingProps,l);case 19:return $S(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=$p(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hs(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return US(s,a,l);case 24:return Vo(a),c=Ln(pn),s===null?(m=C_(),m===null&&(m=vt,y=I_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},P_(a),ta(a,pn,m)):((s.lanes&l)!==0&&(O_(s,a),_h(a,null,null,l),yh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ta(a,pn,c)):(c=y.cache,ta(a,pn,c),c!==m.cache&&A_(a,[pn],l,!0))),xn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function vs(s){s.flags|=4}function KS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!tI(a)){if(a=Fr.current,a!==null&&((Qe&4194048)===Qe?Si!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||a!==Si))throw mh=x_,PT;s.flags|=8192}}function Gp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?jc():536870912,s.lanes|=a,cu|=a)}function Ah(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function kk(s,a,l){var c=a.pendingProps;switch(b_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ms(pn),xr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(lh(a)?vs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,AT())),Dt(a),null;case 26:return l=a.memoizedState,s===null?(vs(a),l!==null?(Dt(a),KS(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vs(a),Dt(a),KS(a,l)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&vs(a),Dt(a),a.flags&=-16777217),null;case 27:Pr(a),l=xe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}s=Te.current,lh(a)?TT(a):(s=KA(m,c,l),a.stateNode=s,vs(a))}return Dt(a),null;case 5:if(Pr(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(s=Te.current,lh(a))TT(a);else{switch(m=sm(xe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[hn]=a,s[tn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(On(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vs(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=xe.current,lh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Wn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[hn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||FA(s.nodeValue,l)),s||ko(a)}else s=sm(s).createTextNode(c),s[hn]=a,a.stateNode=s}return Dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=lh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[hn]=a}else uh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else m=AT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ys(a),a):(ys(a),null)}if(ys(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Gp(a,a.updateQueue),Dt(a),null;case 4:return xr(),s===null&&Nv(a.stateNode.containerInfo),Dt(a),null;case 10:return ms(a.type),Dt(a),null;case 19:if(ge(mn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Ah(m,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=zp(s),y!==null){for(a.flags|=128,Ah(m,!1),s=y.updateQueue,a.updateQueue=s,Gp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)bT(l,s),l=l.sibling;return me(mn,mn.current&1|2),a.child}s=s.sibling}m.tail!==null&&er()>Yp&&(a.flags|=128,c=!0,Ah(m,!1),a.lanes=4194304)}else{if(!c)if(s=zp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Gp(a,s),Ah(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Dt(a),null}else 2*er()-m.renderingStartTime>Yp&&l!==536870912&&(a.flags|=128,c=!0,Ah(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=er(),a.sibling=null,s=mn.current,me(mn,c?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return ys(a),M_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&Gp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ge(Lo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(pn),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Mk(s,a){switch(b_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(pn),xr(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Pr(a),null;case 13:if(ys(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));uh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ge(mn),null;case 4:return xr(),null;case 10:return ms(a.type),null;case 22:case 23:return ys(a),M_(),s!==null&&ge(Lo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(pn),null;case 25:return null;default:return null}}function WS(s,a){switch(b_(a),a.tag){case 3:ms(pn),xr();break;case 26:case 27:case 5:Pr(a);break;case 4:xr();break;case 13:ys(a);break;case 19:ge(mn);break;case 10:ms(a.type);break;case 22:case 23:ys(a),M_(),s!==null&&ge(Lo);break;case 24:ms(pn)}}function Ih(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,I=l.inst;c=y(),I.destroy=c}l=l.next}while(l!==m)}}catch(N){mt(a,a.return,N)}}function la(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var I=c.inst,N=I.destroy;if(N!==void 0){I.destroy=void 0,m=a;var z=l,ee=N;try{ee()}catch(ce){mt(m,z,ce)}}}c=c.next}while(c!==y)}}catch(ce){mt(a,a.return,ce)}}function YS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{VT(a,l)}catch(c){mt(s,s.return,c)}}}function QS(s,a,l){l.props=Bo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){mt(s,a,c)}}function Rh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){mt(s,a,m)}}function Ai(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){mt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(s,a,m)}else l.current=null}function XS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){mt(s,s.return,m)}}function uv(s,a,l){try{var c=s.stateNode;nM(c,s.type,l,a),c[tn]=a}catch(m){mt(s,s.return,m)}}function JS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ga(s.type)||s.tag===4}function cv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||JS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ga(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=im));else if(c!==4&&(c===27&&ga(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(hv(s,a,l),s=s.sibling;s!==null;)hv(s,a,l),s=s.sibling}function Kp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&ga(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Kp(s,a,l),s=s.sibling;s!==null;)Kp(s,a,l),s=s.sibling}function ZS(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);On(a,c,l),a[hn]=s,a[tn]=l}catch(y){mt(s,s.return,y)}}var Es=!1,Yt=!1,dv=!1,eA=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Vk(s,a){if(s=s.containerInfo,Vv=hm,s=hT(s),c_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,N=-1,z=-1,ee=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=I+m),de!==y||c!==0&&de.nodeType!==3||(z=I+c),de.nodeType===3&&(I+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++ee===m&&(N=I),te===y&&++ce===c&&(z=I),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lv={focusedElem:s,selectionRange:l},hm=!1,bn=a;bn!==null;)if(a=bn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,bn=s;else for(;bn!==null;){switch(a=bn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=Bo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){mt(l,l.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Fv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,bn=s;break}bn=a.return}}function tA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ua(s,l),c&4&&Ih(5,l);break;case 1:if(ua(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(I){mt(l,l.return,I)}else{var m=Bo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(I){mt(l,l.return,I)}}c&64&&YS(l),c&512&&Rh(l,l.return);break;case 3:if(ua(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{VT(s,a)}catch(I){mt(l,l.return,I)}}break;case 27:a===null&&c&4&&ZS(l);case 26:case 5:ua(s,l),a===null&&c&4&&XS(l),c&512&&Rh(l,l.return);break;case 12:ua(s,l);break;case 13:ua(s,l),c&4&&iA(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=$k.bind(null,l),uM(s,l))));break;case 22:if(c=l.memoizedState!==null||Es,!c){a=a!==null&&a.memoizedState!==null||Yt,m=Es;var y=Yt;Es=c,(Yt=a)&&!y?ca(s,l,(l.subtreeFlags&8772)!==0):ua(s,l),Es=m,Yt=y}break;case 30:break;default:ua(s,l)}}function nA(s){var a=s.alternate;a!==null&&(s.alternate=null,nA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Xs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,nr=!1;function bs(s,a,l){for(l=l.child;l!==null;)rA(s,a,l),l=l.sibling}function rA(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 26:Yt||Ai(l,a),bs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||Ai(l,a);var c=St,m=nr;ga(l.type)&&(St=l.stateNode,nr=!1),bs(s,a,l),Vh(l.stateNode),St=c,nr=m;break;case 5:Yt||Ai(l,a);case 6:if(c=St,m=nr,St=null,bs(s,a,l),St=c,nr=m,St!==null)if(nr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{St.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:St!==null&&(nr?(s=St,$A(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Hh(s)):$A(St,l.stateNode));break;case 4:c=St,m=nr,St=l.stateNode.containerInfo,nr=!0,bs(s,a,l),St=c,nr=m;break;case 0:case 11:case 14:case 15:Yt||la(2,l,a),Yt||la(4,l,a),bs(s,a,l);break;case 1:Yt||(Ai(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&QS(l,a,c)),bs(s,a,l);break;case 21:bs(s,a,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,bs(s,a,l),Yt=c;break;default:bs(s,a,l)}}function iA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hh(s)}catch(l){mt(a,a.return,l)}}function Lk(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new eA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new eA),a;default:throw Error(r(435,s.tag))}}function fv(s,a){var l=Lk(s);a.forEach(function(c){var m=Gk.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function mr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,I=a,N=I;e:for(;N!==null;){switch(N.tag){case 27:if(ga(N.type)){St=N.stateNode,nr=!1;break e}break;case 5:St=N.stateNode,nr=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,nr=!0;break e}N=N.return}if(St===null)throw Error(r(160));rA(y,I,m),St=null,nr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sA(a,s),a=a.sibling}var ti=null;function sA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:mr(a,s),gr(s),c&4&&(la(3,s,s.return),Ih(3,s),la(5,s,s.return));break;case 1:mr(a,s),gr(s),c&512&&(Yt||l===null||Ai(l,l.return)),c&64&&Es&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ti;if(mr(a,s),gr(s),c&512&&(Yt||l===null||Ai(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[po]||y[hn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),On(y,c,l),y[hn]=s,Kt(y),c=y;break e;case"link":var I=ZA("link","href",m).get(c+(l.href||""));if(I){for(var N=0;N<I.length;N++)if(y=I[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(N,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;case"meta":if(I=ZA("meta","content",m).get(c+(l.content||""))){for(N=0;N<I.length;N++)if(y=I[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(N,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[hn]=s,Kt(y),c=y}s.stateNode=c}else eI(m,s.type,s.stateNode);else s.stateNode=JA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?eI(m,s.type,s.stateNode):JA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&uv(s,s.memoizedProps,l.memoizedProps)}break;case 27:mr(a,s),gr(s),c&512&&(Yt||l===null||Ai(l,l.return)),l!==null&&c&4&&uv(s,s.memoizedProps,l.memoizedProps);break;case 5:if(mr(a,s),gr(s),c&512&&(Yt||l===null||Ai(l,l.return)),s.flags&32){m=s.stateNode;try{Dr(m,"")}catch(ne){mt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,uv(s,m,l!==null?l.memoizedProps:m)),c&1024&&(dv=!0);break;case 6:if(mr(a,s),gr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){mt(s,s.return,ne)}}break;case 3:if(lm=null,m=ti,ti=am(a.containerInfo),mr(a,s),ti=m,gr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Hh(a.containerInfo)}catch(ne){mt(s,s.return,ne)}dv&&(dv=!1,aA(s));break;case 4:c=ti,ti=am(s.stateNode.containerInfo),mr(a,s),gr(s),ti=c;break;case 12:mr(a,s),gr(s);break;case 13:mr(a,s),gr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vv=er()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,fv(s,c)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,ee=Es,ce=Yt;if(Es=ee||m,Yt=ce||z,mr(a,s),Yt=ce,Es=ee,gr(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||z||Es||Yt||Fo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(y=z.stateNode,m)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){mt(z,z.return,ne)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ne){mt(z,z.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,fv(s,l))));break;case 19:mr(a,s),gr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,fv(s,c)));break;case 30:break;case 21:break;default:mr(a,s),gr(s)}}function gr(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(JS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=cv(s);Kp(s,y,m);break;case 5:var I=l.stateNode;l.flags&32&&(Dr(I,""),l.flags&=-33);var N=cv(s);Kp(s,N,I);break;case 3:case 4:var z=l.stateNode.containerInfo,ee=cv(s);hv(s,ee,z);break;default:throw Error(r(161))}}catch(ce){mt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function aA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;aA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ua(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tA(s,a.alternate,a),a=a.sibling}function Fo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:la(4,a,a.return),Fo(a);break;case 1:Ai(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&QS(a,a.return,l),Fo(a);break;case 27:Vh(a.stateNode);case 26:case 5:Ai(a,a.return),Fo(a);break;case 22:a.memoizedState===null&&Fo(a);break;case 30:Fo(a);break;default:Fo(a)}s=s.sibling}}function ca(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,I=y.flags;switch(y.tag){case 0:case 11:case 15:ca(m,y,l),Ih(4,y);break;case 1:if(ca(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)MT(z[m],N)}catch(ee){mt(c,c.return,ee)}}l&&I&64&&YS(y),Rh(y,y.return);break;case 27:ZS(y);case 26:case 5:ca(m,y,l),l&&c===null&&I&4&&XS(y),Rh(y,y.return);break;case 12:ca(m,y,l);break;case 13:ca(m,y,l),l&&I&4&&iA(m,y);break;case 22:y.memoizedState===null&&ca(m,y,l),Rh(y,y.return);break;case 30:break;default:ca(m,y,l)}a=a.sibling}}function pv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&dh(l))}function mv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&dh(s))}function Ii(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)oA(s,a,l,c),a=a.sibling}function oA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a,l,c),m&2048&&Ih(9,a);break;case 1:Ii(s,a,l,c);break;case 3:Ii(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&dh(s)));break;case 12:if(m&2048){Ii(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,I=y.id,N=y.onPostCommit;typeof N=="function"&&N(I,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){mt(a,a.return,z)}}else Ii(s,a,l,c);break;case 13:Ii(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,I=a.alternate,a.memoizedState!==null?y._visibility&2?Ii(s,a,l,c):Ch(s,a):y._visibility&2?Ii(s,a,l,c):(y._visibility|=2,ou(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&pv(I,a);break;case 24:Ii(s,a,l,c),m&2048&&mv(a.alternate,a);break;default:Ii(s,a,l,c)}}function ou(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,I=a,N=l,z=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:ou(y,I,N,z,m),Ih(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?ou(y,I,N,z,m):Ch(y,I):(ce._visibility|=2,ou(y,I,N,z,m)),m&&ee&2048&&pv(I.alternate,I);break;case 24:ou(y,I,N,z,m),m&&ee&2048&&mv(I.alternate,I);break;default:ou(y,I,N,z,m)}a=a.sibling}}function Ch(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Ch(l,c),m&2048&&pv(c.alternate,c);break;case 24:Ch(l,c),m&2048&&mv(c.alternate,c);break;default:Ch(l,c)}a=a.sibling}}var xh=8192;function lu(s){if(s.subtreeFlags&xh)for(s=s.child;s!==null;)lA(s),s=s.sibling}function lA(s){switch(s.tag){case 26:lu(s),s.flags&xh&&s.memoizedState!==null&&wM(ti,s.memoizedState,s.memoizedProps);break;case 5:lu(s);break;case 3:case 4:var a=ti;ti=am(s.stateNode.containerInfo),lu(s),ti=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=xh,xh=16777216,lu(s),xh=a):lu(s));break;default:lu(s)}}function uA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ph(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,hA(c,s)}uA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cA(s),s=s.sibling}function cA(s){switch(s.tag){case 0:case 11:case 15:Ph(s),s.flags&2048&&la(9,s,s.return);break;case 3:Ph(s);break;case 12:Ph(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Wp(s)):Ph(s);break;default:Ph(s)}}function Wp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,hA(c,s)}uA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:la(8,a,a.return),Wp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Wp(a));break;default:Wp(a)}s=s.sibling}}function hA(s,a){for(;bn!==null;){var l=bn;switch(l.tag){case 0:case 11:case 15:la(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:dh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,bn=c;else e:for(l=s;bn!==null;){c=bn;var m=c.sibling,y=c.return;if(nA(c),c===l){bn=null;break e}if(m!==null){m.return=y,bn=m;break e}bn=y}}}var Uk={getCacheForType:function(s){var a=Ln(pn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Bk=typeof WeakMap=="function"?WeakMap:Map,at=0,vt=null,je=null,Qe=0,ot=0,yr=null,ha=!1,uu=!1,gv=!1,ws=0,Bt=0,da=0,zo=0,yv=0,zr=0,cu=0,Oh=null,rr=null,_v=!1,vv=0,Yp=1/0,Qp=null,fa=null,Pn=0,pa=null,hu=null,du=0,Ev=0,bv=null,dA=null,Dh=0,wv=null;function _r(){if((at&2)!==0&&Qe!==0)return Qe&-Qe;if(H.T!==null){var s=Zl;return s!==0?s:xv()}return Ys()}function fA(){zr===0&&(zr=(Qe&536870912)===0||et?zc():536870912);var s=Fr.current;return s!==null&&(s.flags|=32),zr}function vr(s,a,l){(s===vt&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(fu(s,0),ma(s,Qe,zr,!1)),es(s,l),((at&2)===0||s!==vt)&&(s===vt&&((at&2)===0&&(zo|=l),Bt===4&&ma(s,Qe,zr,!1)),Ri(s))}function pA(s,a,l){if((at&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||fo(s,a),m=c?jk(s,a):Av(s,a,!0),y=c;do{if(m===0){uu&&!c&&ma(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!Fk(l)){m=Av(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var N=s;m=Oh;var z=N.current.memoizedState.isDehydrated;if(z&&(fu(N,I).flags|=256),I=Av(N,I,!1),I!==2){if(gv&&!z){N.errorRecoveryDisabledLanes|=y,zo|=y,m=4;break e}y=rr,rr=m,y!==null&&(rr===null?rr=y:rr.push.apply(rr,y))}m=I}if(y=!1,m!==2)continue}}if(m===1){fu(s,0),ma(s,a,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ma(c,a,zr,!ha);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=vv+300-er(),10<m)){if(ma(c,a,zr,!ha),Pl(c,0,!0)!==0)break e;c.timeoutHandle=qA(mA.bind(null,c,l,rr,Qp,_v,a,zr,zo,cu,ha,y,2,-0,0),m);break e}mA(c,l,rr,Qp,_v,a,zr,zo,cu,ha,y,0,-0,0)}}break}while(!0);Ri(s)}function mA(s,a,l,c,m,y,I,N,z,ee,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Bh={stylesheets:null,count:0,unsuspend:bM},lA(a),de=TM(),de!==null)){s.cancelPendingCommit=de(wA.bind(null,s,a,y,l,c,m,I,N,z,ce,1,te,ne)),ma(s,y,I,!ee);return}wA(s,a,y,l,c,m,I,N,z)}function Fk(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!fr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ma(s,a,l,c){a&=~yv,a&=~zo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-en(m),I=1<<y;c[y]=-1,m&=~I}l!==0&&di(s,l,a)}function Xp(){return(at&6)===0?(Nh(0),!1):!0}function Tv(){if(je!==null){if(ot===0)var s=je.return;else s=je,ps=Mo=null,F_(s),su=null,Th=0,s=je;for(;s!==null;)WS(s.alternate,s),s=s.return;je=null}}function fu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,iM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Tv(),vt=s,je=l=hs(s.current,null),Qe=a,ot=0,yr=null,ha=!1,uu=fo(s,a),gv=!1,cu=zr=yv=zo=da=Bt=0,rr=Oh=null,_v=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-en(c),y=1<<m;a|=s[m],c&=~y}return ws=a,vp(),l}function gA(s,a){Be=null,H.H=Up,a===ph||a===Cp?(a=NT(),ot=3):a===PT?(a=NT(),ot=4):ot=a===kS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,yr=a,je===null&&(Bt=1,qp(s,Vr(a,s.current)))}function yA(){var s=H.H;return H.H=Up,s===null?Up:s}function _A(){var s=H.A;return H.A=Uk,s}function Sv(){Bt=4,ha||(Qe&4194048)!==Qe&&Fr.current!==null||(uu=!0),(da&134217727)===0&&(zo&134217727)===0||vt===null||ma(vt,Qe,zr,!1)}function Av(s,a,l){var c=at;at|=2;var m=yA(),y=_A();(vt!==s||Qe!==a)&&(Qp=null,fu(s,a)),a=!1;var I=Bt;e:do try{if(ot!==0&&je!==null){var N=je,z=yr;switch(ot){case 8:Tv(),I=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(a=!0);var ee=ot;if(ot=0,yr=null,pu(s,N,z,ee),l&&uu){I=0;break e}break;default:ee=ot,ot=0,yr=null,pu(s,N,z,ee)}}zk(),I=Bt;break}catch(ce){gA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ps=Mo=null,at=c,H.H=m,H.A=y,je===null&&(vt=null,Qe=0,vp()),I}function zk(){for(;je!==null;)vA(je)}function jk(s,a){var l=at;at|=2;var c=yA(),m=_A();vt!==s||Qe!==a?(Qp=null,Yp=er()+500,fu(s,a)):uu=fo(s,a);e:do try{if(ot!==0&&je!==null){a=je;var y=yr;t:switch(ot){case 1:ot=0,yr=null,pu(s,a,y,1);break;case 2:case 9:if(OT(y)){ot=0,yr=null,EA(a);break}a=function(){ot!==2&&ot!==9||vt!==s||(ot=7),Ri(s)},y.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:OT(y)?(ot=0,yr=null,EA(a)):(ot=0,yr=null,pu(s,a,y,7));break;case 5:var I=null;switch(je.tag){case 26:I=je.memoizedState;case 5:case 27:var N=je;if(!I||tI(I)){ot=0,yr=null;var z=N.sibling;if(z!==null)je=z;else{var ee=N.return;ee!==null?(je=ee,Jp(ee)):je=null}break t}}ot=0,yr=null,pu(s,a,y,5);break;case 6:ot=0,yr=null,pu(s,a,y,6);break;case 8:Tv(),Bt=6;break e;default:throw Error(r(462))}}qk();break}catch(ce){gA(s,ce)}while(!0);return ps=Mo=null,H.H=c,H.A=m,at=l,je!==null?0:(vt=null,Qe=0,vp(),Bt)}function qk(){for(;je!==null&&!oo();)vA(je)}function vA(s){var a=GS(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Jp(s):je=a}function EA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=FS(l,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=FS(l,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:F_(a);default:WS(l,a),a=je=bT(a,ws),a=GS(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Jp(s):je=a}function pu(s,a,l,c){ps=Mo=null,F_(a),su=null,Th=0;var m=a.return;try{if(Dk(s,m,a,l,Qe)){Bt=1,qp(s,Vr(l,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Bt=1,qp(s,Vr(l,s.current)),je=null;return}a.flags&32768?(et||c===1?s=!0:uu||(Qe&536870912)!==0?s=!1:(ha=s=!0,(c===2||c===9||c===3||c===6)&&(c=Fr.current,c!==null&&c.tag===13&&(c.flags|=16384))),bA(a,s)):Jp(a)}function Jp(s){var a=s;do{if((a.flags&32768)!==0){bA(a,ha);return}s=a.return;var l=kk(a.alternate,a,ws);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);Bt===0&&(Bt=5)}function bA(s,a){do{var l=Mk(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);Bt=6,je=null}function wA(s,a,l,c,m,y,I,N,z){s.cancelPendingCommit=null;do Zp();while(Pn!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=m_,qc(s,l,y,I,N,z),s===vt&&(je=vt=null,Qe=0),hu=a,pa=s,du=l,Ev=y,bv=m,dA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Kk(Fe,function(){return RA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=J.p,J.p=2,I=at,at|=4;try{Vk(s,a,l)}finally{at=I,J.p=m,H.T=c}}Pn=1,TA(),SA(),AA()}}function TA(){if(Pn===1){Pn=0;var s=pa,a=hu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{sA(a,s);var y=Lv,I=hT(s.containerInfo),N=y.focusedElem,z=y.selectionRange;if(I!==N&&N&&N.ownerDocument&&cT(N.ownerDocument.documentElement,N)){if(z!==null&&c_(N)){var ee=z.start,ce=z.end;if(ce===void 0&&(ce=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,Pe=Math.min(z.start,Ne),ft=z.end===void 0?Pe:Math.min(z.end,Ne);!ne.extend&&Pe>ft&&(I=ft,ft=Pe,Pe=I);var Y=uT(N,Pe),G=uT(N,ft);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=de.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),Pe>ft?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}hm=!!Vv,Lv=Vv=null}finally{at=m,J.p=c,H.T=l}}s.current=a,Pn=2}}function SA(){if(Pn===2){Pn=0;var s=pa,a=hu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{tA(s,a.alternate,a)}finally{at=m,J.p=c,H.T=l}}Pn=3}}function AA(){if(Pn===4||Pn===3){Pn=0,xl();var s=pa,a=hu,l=du,c=dA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pn=5:(Pn=0,hu=pa=null,IA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(fa=null),Ol(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(st,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=H.T,m=J.p,J.p=2,H.T=null;try{for(var y=s.onRecoverableError,I=0;I<c.length;I++){var N=c[I];y(N.value,{componentStack:N.stack})}}finally{H.T=a,J.p=m}}(du&3)!==0&&Zp(),Ri(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===wv?Dh++:(Dh=0,wv=s):Dh=0,Nh(0)}}function IA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,dh(a)))}function Zp(s){return TA(),SA(),AA(),RA()}function RA(){if(Pn!==5)return!1;var s=pa,a=Ev;Ev=0;var l=Ol(du),c=H.T,m=J.p;try{J.p=32>l?32:l,H.T=null,l=bv,bv=null;var y=pa,I=du;if(Pn=0,hu=pa=null,du=0,(at&6)!==0)throw Error(r(331));var N=at;if(at|=4,cA(y.current),oA(y,y.current,I,l),at=N,Nh(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(st,y)}catch{}return!0}finally{J.p=m,H.T=c,IA(s,a)}}function CA(s,a,l){a=Vr(l,a),a=ev(s.stateNode,a,2),s=ia(s,a,2),s!==null&&(es(s,2),Ri(s))}function mt(s,a,l){if(s.tag===3)CA(s,s,l);else for(;a!==null;){if(a.tag===3){CA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fa===null||!fa.has(c))){s=Vr(l,s),l=DS(2),c=ia(a,l,2),c!==null&&(NS(l,c,a,s),es(c,2),Ri(c));break}}a=a.return}}function Iv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Bk;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(gv=!0,m.add(l),s=Hk.bind(null,s,a,l),a.then(s,s))}function Hk(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(Qe&l)===l&&(Bt===4||Bt===3&&(Qe&62914560)===Qe&&300>er()-vv?(at&2)===0&&fu(s,0):yv|=l,cu===Qe&&(cu=0)),Ri(s)}function xA(s,a){a===0&&(a=jc()),s=Yl(s,a),s!==null&&(es(s,a),Ri(s))}function $k(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),xA(s,l)}function Gk(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),xA(s,l)}function Kk(s,a){return Vn(s,a)}var em=null,mu=null,Rv=!1,tm=!1,Cv=!1,jo=0;function Ri(s){s!==mu&&s.next===null&&(mu===null?em=mu=s:mu=mu.next=s),tm=!0,Rv||(Rv=!0,Yk())}function Nh(s,a){if(!Cv&&tm){Cv=!0;do for(var l=!1,c=em;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var I=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-en(42|s)+1)-1,y&=m&~(I&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,NA(c,y))}else y=Qe,y=Pl(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||fo(c,y)||(l=!0,NA(c,y));c=c.next}while(l);Cv=!1}}function Wk(){PA()}function PA(){tm=Rv=!1;var s=0;jo!==0&&(rM()&&(s=jo),jo=0);for(var a=er(),l=null,c=em;c!==null;){var m=c.next,y=OA(c,a);y===0?(c.next=null,l===null?em=m:l.next=m,m===null&&(mu=l)):(l=c,(s!==0||(y&3)!==0)&&(tm=!0)),c=m}Nh(s)}function OA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var I=31-en(y),N=1<<I,z=m[I];z===-1?((N&l)===0||(N&c)!==0)&&(m[I]=Fc(N,a)):z<=a&&(s.expiredLanes|=N),y&=~N}if(a=vt,l=Qe,l=Pl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Yr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||fo(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Yr(c),Ol(l)){case 2:case 8:l=Ji;break;case 32:l=Fe;break;case 268435456:l=wt;break;default:l=Fe}return c=DA.bind(null,s),l=Vn(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Yr(c),s.callbackPriority=2,s.callbackNode=null,2}function DA(s,a){if(Pn!==0&&Pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Zp()&&s.callbackNode!==l)return null;var c=Qe;return c=Pl(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(pA(s,c,a),OA(s,er()),s.callbackNode!=null&&s.callbackNode===l?DA.bind(null,s):null)}function NA(s,a){if(Zp())return null;pA(s,a,!0)}function Yk(){sM(function(){(at&6)!==0?Vn(lo,Wk):PA()})}function xv(){return jo===0&&(jo=zc()),jo}function kA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ll(""+s)}function MA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Qk(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=kA((m[tn]||null).action),I=c.submitter;I&&(a=(a=I[tn]||null)?kA(a.formAction):I.getAttribute("formAction"),a!==null&&(y=a,I=null));var N=new Ul("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(jo!==0){var z=I?MA(m,I):new FormData(m);Y_(l,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=I?MA(m,I):new FormData(m),Y_(l,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var Pv=0;Pv<p_.length;Pv++){var Ov=p_[Pv],Xk=Ov.toLowerCase(),Jk=Ov[0].toUpperCase()+Ov.slice(1);ei(Xk,"on"+Jk)}ei(pT,"onAnimationEnd"),ei(mT,"onAnimationIteration"),ei(gT,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(mk,"onTransitionRun"),ei(gk,"onTransitionStart"),ei(yk,"onTransitionCancel"),ei(yT,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function VA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var I=c.length-1;0<=I;I--){var N=c[I],z=N.instance,ee=N.currentTarget;if(N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){jp(ce)}m.currentTarget=null,y=z}else for(I=0;I<c.length;I++){if(N=c[I],z=N.instance,ee=N.currentTarget,N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){jp(ce)}m.currentTarget=null,y=z}}}}function qe(s,a){var l=a[$c];l===void 0&&(l=a[$c]=new Set);var c=s+"__bubble";l.has(c)||(LA(a,s,2,!1),l.add(c))}function Dv(s,a,l){var c=0;a&&(c|=4),LA(l,s,c,a)}var nm="_reactListening"+Math.random().toString(36).slice(2);function Nv(s){if(!s[nm]){s[nm]=!0,Gc.forEach(function(l){l!=="selectionchange"&&(Zk.has(l)||Dv(l,!1,s),Dv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nm]||(a[nm]=!0,Dv("selectionchange",!1,a))}}function LA(s,a,l,c){switch(oI(a)){case 2:var m=IM;break;case 8:m=RM;break;default:m=Kv}l=m.bind(null,a,l,s),m=void 0,!kr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function kv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var N=c.stateNode.containerInfo;if(N===m)break;if(I===4)for(I=c.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;N!==null;){if(I=ts(N),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){c=y=I;continue e}N=N.parentNode}}c=c.return}ip(function(){var ee=y,ce=Nr(l),de=[];e:{var te=_T.get(s);if(te!==void 0){var ne=Ul,Ne=s;switch(s){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":ne=Hl;break;case"focusin":Ne="focus",ne=zl;break;case"focusout":Ne="blur",ne=zl;break;case"beforeblur":case"afterblur":ne=zl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=a_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=dp;break;case pT:case mT:case gT:ne=jl;break;case yT:ne=pp;break;case"scroll":case"scrollend":ne=sp;break;case"wheel":ne=$l;break;case"copy":case"cut":case"paste":ne=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ih;break;case"toggle":case"beforetoggle":ne=gp}var Pe=(a&4)!==0,ft=!Pe&&(s==="scroll"||s==="scrollend"),Y=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var G=ee,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=bo(G,Y),he!=null&&Pe.push(Mh(G,he,Z))),ft)break;G=G.return}0<Pe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==ss&&(Ne=l.relatedTarget||l.fromElement)&&(ts(Ne)||Ne[Or]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=ee,Ne=Ne?ts(Ne):null,Ne!==null&&(ft=o(Ne),Pe=Ne.tag,Ne!==ft||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ne=null,Ne=ee),ne!==Ne)){if(Pe=Mr,he="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=ih,he="onPointerLeave",Y="onPointerEnter",G="pointer"),ft=ne==null?te:pi(ne),Z=Ne==null?te:pi(Ne),te=new Pe(he,G+"leave",ne,l,ce),te.target=ft,te.relatedTarget=Z,he=null,ts(ce)===ee&&(Pe=new Pe(Y,G+"enter",Ne,l,ce),Pe.target=Z,Pe.relatedTarget=ft,he=Pe),ft=he,ne&&Ne)t:{for(Pe=ne,Y=Ne,G=0,Z=Pe;Z;Z=gu(Z))G++;for(Z=0,he=Y;he;he=gu(he))Z++;for(;0<G-Z;)Pe=gu(Pe),G--;for(;0<Z-G;)Y=gu(Y),Z--;for(;G--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=gu(Pe),Y=gu(Y)}Pe=null}else Pe=null;ne!==null&&UA(de,te,ne,Pe,!1),Ne!==null&&ft!==null&&UA(de,ft,Ne,Pe,!0)}}e:{if(te=ee?pi(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=rT;else if(fn(te))if(iT)Se=dk;else{Se=ck;var ze=uk}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Xc(ee.elementType)&&(Se=rT):Se=hk;if(Se&&(Se=Se(s,ee))){cs(de,Se,l,ce);break e}ze&&ze(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Zs(te,"number",te.value)}switch(ze=ee?pi(ee):window,s){case"focusin":(fn(ze)||ze.contentEditable==="true")&&(Gl=ze,h_=ee,oh=null);break;case"focusout":oh=h_=Gl=null;break;case"mousedown":d_=!0;break;case"contextmenu":case"mouseup":case"dragend":d_=!1,dT(de,l,ce);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":dT(de,l,ce)}var Re;if(bi)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?se(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Re=Zc()):(yi=ce,ea="value"in yi?yi.value:yi.textContent,We=!0)),ze=rm(ee,Oe),0<ze.length&&(Oe=new nh(Oe,s,null,l,ce),de.push({event:Oe,listeners:ze}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=E?dn(s,l):Ye(s,l))&&(Oe=rm(ee,"onBeforeInput"),0<Oe.length&&(ze=new nh("onBeforeInput","beforeinput",null,l,ce),de.push({event:ze,listeners:Oe}),ze.data=Re)),Qk(de,s,ee,l,ce)}VA(de,a)})}function Mh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function rm(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=bo(s,l),m!=null&&c.unshift(Mh(s,m,y)),m=bo(s,a),m!=null&&c.push(Mh(s,m,y))),s.tag===3)return c;s=s.return}return[]}function gu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function UA(s,a,l,c,m){for(var y=a._reactName,I=[];l!==null&&l!==c;){var N=l,z=N.alternate,ee=N.stateNode;if(N=N.tag,z!==null&&z===c)break;N!==5&&N!==26&&N!==27||ee===null||(z=ee,m?(ee=bo(l,y),ee!=null&&I.unshift(Mh(l,ee,z))):m||(ee=bo(l,y),ee!=null&&I.push(Mh(l,ee,z)))),l=l.return}I.length!==0&&s.push({event:a,listeners:I})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function BA(s){return(typeof s=="string"?s:""+s).replace(eM,`
`).replace(tM,"")}function FA(s,a){return a=BA(a),BA(s)===a}function im(){}function dt(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Dr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Dr(s,""+c);break;case"className":mi(s,"class",c);break;case"tabIndex":mi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(s,l,c);break;case"style":Qc(s,c,y);break;case"data":if(a!=="object"){mi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ll(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&dt(s,a,"name",m.name,m,null),dt(s,a,"formEncType",m.formEncType,m,null),dt(s,a,"formMethod",m.formMethod,m,null),dt(s,a,"formTarget",m.formTarget,m,null)):(dt(s,a,"encType",m.encType,m,null),dt(s,a,"method",m.method,m,null),dt(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ll(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=im);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ll(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),Js(s,"popover",c);break;case"xlinkActuate":Rn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Js(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=i_.get(l)||l,Js(s,l,c))}}function Mv(s,a,l,c,m,y){switch(l){case"style":Qc(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Dr(s,c):(typeof c=="number"||typeof c=="bigint")&&Dr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Js(s,l,c)}}}function On(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,y,I,l,null)}}m&&dt(s,a,"srcSet",l.srcSet,l,null),c&&dt(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=y=I=m=null,z=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":I=ce;break;case"checked":z=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:dt(s,a,c,ce,l,null)}}_o(s,y,N,z,ee,I,m,!1),Vl(s);return;case"select":qe("invalid",s),c=I=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":I=N;break;case"multiple":c=N;default:dt(s,a,m,N,l,null)}a=y,l=I,s.multiple=!!c,a!=null?is(s,!!c,a,!1):l!=null&&is(s,!!c,l,!0);return;case"textarea":qe("invalid",s),y=m=c=null;for(I in l)if(l.hasOwnProperty(I)&&(N=l[I],N!=null))switch(I){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:dt(s,a,I,N,l,null)}vo(s,c,m,y),Vl(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(s,a,z,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<kh.length;c++)qe(kh[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,ee,c,l,null)}return;default:if(Xc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Mv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&dt(s,a,N,c,l,null))}function nM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,I=null,N=null,z=null,ee=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||dt(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":I=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&dt(s,a,te,ne,c,de)}}dr(s,I,N,z,ee,ce,y,m);return;case"select":ne=I=N=te=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(y)||dt(s,a,y,null,c,z)}for(m in c)if(y=c[m],z=l[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":I=y;default:y!==z&&dt(s,a,m,y,c,z)}a=N,l=I,c=ne,te!=null?is(s,!!l,te,!1):!!c!=!!l&&(a!=null?is(s,!!l,a,!0):is(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(s,a,N,null,c,m)}for(I in c)if(m=c[I],y=l[I],c.hasOwnProperty(I)&&(m!=null||y!=null))switch(I){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&dt(s,a,I,m,c,y)}ct(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:dt(s,a,Ne,null,c,te)}for(z in c)if(te=c[z],ne=l[z],c.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(s,a,z,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)te=l[Pe],l.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&dt(s,a,Pe,null,c,te);for(ee in c)if(te=c[ee],ne=l[ee],c.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(s,a,ee,te,c,ne)}return;default:if(Xc(a)){for(var ft in l)te=l[ft],l.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&Mv(s,a,ft,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Mv(s,a,ce,te,c,ne);return}}for(var Y in l)te=l[Y],l.hasOwnProperty(Y)&&te!=null&&!c.hasOwnProperty(Y)&&dt(s,a,Y,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||dt(s,a,de,te,c,ne)}var Vv=null,Lv=null;function sm(s){return s.nodeType===9?s:s.ownerDocument}function zA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Uv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bv=null;function rM(){var s=window.event;return s&&s.type==="popstate"?s===Bv?!1:(Bv=s,!0):(Bv=null,!1)}var qA=typeof setTimeout=="function"?setTimeout:void 0,iM=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,sM=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(s){return HA.resolve(null).then(s).catch(aM)}:qA;function aM(s){setTimeout(function(){throw s})}function ga(s){return s==="head"}function $A(s,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var I=s.ownerDocument;if(l&1&&Vh(I.documentElement),l&2&&Vh(I.body),l&4)for(l=I.head,Vh(l),I=l.firstChild;I;){var N=I.nextSibling,z=I.nodeName;I[po]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=N}}if(m===0){s.removeChild(y),Hh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Hh(a)}function Fv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fv(l),Xs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function oM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[po])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function lM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function zv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function uM(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var jv=null;function GA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function KA(s,a,l){switch(a=sm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Vh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Xs(s)}var jr=new Map,WA=new Set;function am(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ts=J.d;J.d={f:cM,r:hM,D:dM,C:fM,L:pM,m:mM,X:yM,S:gM,M:_M};function cM(){var s=Ts.f(),a=Xp();return s||a}function hM(s){var a=fi(s);a!==null&&a.tag===5&&a.type==="form"?pS(a):Ts.r(s)}var yu=typeof document>"u"?null:document;function YA(s,a,l){var c=yu;if(c&&typeof a=="string"&&a){var m=nn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),WA.has(m)||(WA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),On(a,"link",s),Kt(a),c.head.appendChild(a)))}}function dM(s){Ts.D(s),YA("dns-prefetch",s,null)}function fM(s,a){Ts.C(s,a),YA("preconnect",s,a)}function pM(s,a,l){Ts.L(s,a,l);var c=yu;if(c&&s&&a){var m='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+nn(l.imageSizes)+'"]')):m+='[href="'+nn(s)+'"]';var y=m;switch(a){case"style":y=_u(s);break;case"script":y=vu(s)}jr.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),jr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Lh(y))||a==="script"&&c.querySelector(Uh(y))||(a=c.createElement("link"),On(a,"link",s),Kt(a),c.head.appendChild(a)))}}function mM(s,a){Ts.m(s,a);var l=yu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vu(s)}if(!jr.has(y)&&(s=g({rel:"modulepreload",href:s},a),jr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uh(y)))return}c=l.createElement("link"),On(c,"link",s),Kt(c),l.head.appendChild(c)}}}function gM(s,a,l){Ts.S(s,a,l);var c=yu;if(c&&s){var m=$n(c).hoistableStyles,y=_u(s);a=a||"default";var I=m.get(y);if(!I){var N={loading:0,preload:null};if(I=c.querySelector(Lh(y)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=jr.get(y))&&qv(s,l);var z=I=c.createElement("link");Kt(z),On(z,"link",s),z._p=new Promise(function(ee,ce){z.onload=ee,z.onerror=ce}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,om(I,a,c)}I={type:"stylesheet",instance:I,count:1,state:N},m.set(y,I)}}}function yM(s,a){Ts.X(s,a);var l=yu;if(l&&s){var c=$n(l).hoistableScripts,m=vu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=g({src:s,async:!0},a),(a=jr.get(m))&&Hv(s,a),y=l.createElement("script"),Kt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function _M(s,a){Ts.M(s,a);var l=yu;if(l&&s){var c=$n(l).hoistableScripts,m=vu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=jr.get(m))&&Hv(s,a),y=l.createElement("script"),Kt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function QA(s,a,l,c){var m=(m=xe.current)?am(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=_u(l.href),l=$n(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=_u(l.href);var y=$n(m).hoistableStyles,I=y.get(s);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,I),(y=m.querySelector(Lh(s)))&&!y._p&&(I.instance=y,I.state.loading=5),jr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jr.set(s,l),y||vM(m,s,l,I.state))),a&&c===null)throw Error(r(528,""));return I}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vu(l),l=$n(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function _u(s){return'href="'+nn(s)+'"'}function Lh(s){return'link[rel="stylesheet"]['+s+"]"}function XA(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function vM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),On(a,"link",l),Kt(a),s.head.appendChild(a))}function vu(s){return'[src="'+nn(s)+'"]'}function Uh(s){return"script[async]"+s}function JA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+nn(l.href)+'"]');if(c)return a.instance=c,Kt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Kt(c),On(c,"style",m),om(c,l.precedence,s),a.instance=c;case"stylesheet":m=_u(l.href);var y=s.querySelector(Lh(m));if(y)return a.state.loading|=4,a.instance=y,Kt(y),y;c=XA(l),(m=jr.get(m))&&qv(c,m),y=(s.ownerDocument||s).createElement("link"),Kt(y);var I=y;return I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),On(y,"link",c),a.state.loading|=4,om(y,l.precedence,s),a.instance=y;case"script":return y=vu(l.src),(m=s.querySelector(Uh(y)))?(a.instance=m,Kt(m),m):(c=l,(m=jr.get(y))&&(c=g({},l),Hv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Kt(m),On(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,om(c,l.precedence,s));return a.instance}function om(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,I=0;I<c.length;I++){var N=c[I];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function qv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Hv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var lm=null;function ZA(s,a,l){if(lm===null){var c=new Map,m=lm=new Map;m.set(l,c)}else m=lm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[po]||y[hn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(a)||"";I=s+I;var N=c.get(I);N?N.push(y):c.set(I,[y])}}return c}function eI(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function EM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Bh=null;function bM(){}function wM(s,a,l){if(Bh===null)throw Error(r(475));var c=Bh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=_u(l.href),y=s.querySelector(Lh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=um.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Kt(y);return}y=s.ownerDocument||s,l=XA(l),(m=jr.get(m))&&qv(l,m),y=y.createElement("link"),Kt(y);var I=y;I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),On(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=um.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function TM(){if(Bh===null)throw Error(r(475));var s=Bh;return s.stylesheets&&s.count===0&&$v(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&$v(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function um(){if(this.count--,this.count===0){if(this.stylesheets)$v(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cm=null;function $v(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cm=new Map,a.forEach(SM,s),cm=null,um.call(s))}function SM(s,a){if(!(a.state.loading&4)){var l=cm.get(s);if(l)var c=l.get(null);else{l=new Map,cm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var I=m[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}m=a.instance,I=m.getAttribute("data-precedence"),y=l.get(I)||c,y===c&&l.set(null,m),l.set(I,m),this.count++,c=um.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Fh={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function AM(s,a,l,c,m,y,I,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function nI(s,a,l,c,m,y,I,N,z,ee,ce,de){return s=new AM(s,a,l,I,N,z,ee,de),a=1,y===!0&&(a|=24),y=pr(3,null,null,a),s.current=y,y.stateNode=s,a=I_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},P_(y),s}function rI(s){return s?(s=Ql,s):Ql}function iI(s,a,l,c,m,y){m=rI(m),c.context===null?c.context=m:c.pendingContext=m,c=ra(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ia(s,c,a),l!==null&&(vr(l,s,a),gh(l,s,a))}function sI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Gv(s,a){sI(s,a),(s=s.alternate)&&sI(s,a)}function aI(s){if(s.tag===13){var a=Yl(s,67108864);a!==null&&vr(a,s,67108864),Gv(s,67108864)}}var hm=!0;function IM(s,a,l,c){var m=H.T;H.T=null;var y=J.p;try{J.p=2,Kv(s,a,l,c)}finally{J.p=y,H.T=m}}function RM(s,a,l,c){var m=H.T;H.T=null;var y=J.p;try{J.p=8,Kv(s,a,l,c)}finally{J.p=y,H.T=m}}function Kv(s,a,l,c){if(hm){var m=Wv(c);if(m===null)kv(s,a,c,dm,l),lI(s,c);else if(xM(m,s,a,l,c))c.stopPropagation();else if(lI(s,c),a&4&&-1<CM.indexOf(s)){for(;m!==null;){var y=fi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=Xr(y.pendingLanes);if(I!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;I;){var z=1<<31-en(I);N.entanglements[1]|=z,I&=~z}Ri(y),(at&6)===0&&(Yp=er()+500,Nh(0))}}break;case 13:N=Yl(y,2),N!==null&&vr(N,y,2),Xp(),Gv(y,2)}if(y=Wv(c),y===null&&kv(s,a,c,dm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else kv(s,a,c,null,l)}}function Wv(s){return s=Nr(s),Yv(s)}var dm=null;function Yv(s){if(dm=null,s=ts(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return dm=s,null}function oI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case lo:return 2;case Ji:return 8;case Fe:case _t:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Qv=!1,ya=null,_a=null,va=null,zh=new Map,jh=new Map,Ea=[],CM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lI(s,a){switch(s){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":zh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(a.pointerId)}}function qh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=fi(a),a!==null&&aI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function xM(s,a,l,c,m){switch(a){case"focusin":return ya=qh(ya,s,a,l,c,m),!0;case"dragenter":return _a=qh(_a,s,a,l,c,m),!0;case"mouseover":return va=qh(va,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return zh.set(y,qh(zh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,jh.set(y,qh(jh.get(y)||null,s,a,l,c,m)),!0}return!1}function uI(s){var a=ts(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Xf(s.priority,function(){if(l.tag===13){var c=_r();c=Ws(c);var m=Yl(l,c);m!==null&&vr(m,l,c),Gv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Wv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ss=c,l.target.dispatchEvent(c),ss=null}else return a=fi(l),a!==null&&aI(a),s.blockedOn=l,!1;a.shift()}return!0}function cI(s,a,l){fm(s)&&l.delete(a)}function PM(){Qv=!1,ya!==null&&fm(ya)&&(ya=null),_a!==null&&fm(_a)&&(_a=null),va!==null&&fm(va)&&(va=null),zh.forEach(cI),jh.forEach(cI)}function pm(s,a){s.blockedOn===a&&(s.blockedOn=null,Qv||(Qv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PM)))}var mm=null;function hI(s){mm!==s&&(mm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mm===s&&(mm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Yv(c||l)===null)continue;break}var y=fi(l);y!==null&&(s.splice(a,3),a-=3,Y_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Hh(s){function a(z){return pm(z,s)}ya!==null&&pm(ya,s),_a!==null&&pm(_a,s),va!==null&&pm(va,s),zh.forEach(a),jh.forEach(a);for(var l=0;l<Ea.length;l++){var c=Ea[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ea.length&&(l=Ea[0],l.blockedOn===null);)uI(l),l.blockedOn===null&&Ea.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],I=m[tn]||null;if(typeof y=="function")I||hI(l);else if(I){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,I=y[tn]||null)N=I.formAction;else if(Yv(m)!==null)continue}else N=I.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),hI(l)}}}function Xv(s){this._internalRoot=s}gm.prototype.render=Xv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=_r();iI(l,c,s,a,null,null)},gm.prototype.unmount=Xv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;iI(s.current,2,null,s,null,null),Xp(),a[Or]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ys();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ea.length&&a!==0&&a<Ea[l].priority;l++);Ea.splice(l,0,s),l===0&&uI(s)}};var dI=e.version;if(dI!=="19.1.0")throw Error(r(527,dI,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var OM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{st=ym.inject(OM),Ue=ym}catch{}}return Gh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=CS,y=xS,I=PS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=nI(s,1,!1,null,null,l,c,m,y,I,N,null),s[Or]=a.current,Nv(s),new Xv(a)},Gh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=CS,I=xS,N=PS,z=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=nI(s,1,!0,a,l??null,c,m,y,I,N,z,ee),a.context=rI(null),l=a.current,c=_r(),c=Ws(c),m=ra(c),m.callback=null,ia(l,m,c),l=c,a.current.lanes=l,es(a,l),Ri(a),s[Or]=a.current,Nv(s),new gm(a)},Gh.version="19.1.0",Gh}var wI;function jM(){if(wI)return e0.exports;wI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),e0.exports=zM(),e0.exports}var qM=jM(),Kh={},TI;function HM(){if(TI)return Kh;TI=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.parse=u,Kh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const b=new o,A=v.length;if(A<2)return b;const x=(T==null?void 0:T.decode)||g;let V=0;do{const L=v.indexOf("=",V);if(L===-1)break;const U=v.indexOf(";",V),$=U===-1?A:U;if(L>$){V=v.lastIndexOf(";",L-1)+1;continue}const F=h(v,V,L),K=f(v,L,F),M=v.slice(F,K);if(b[M]===void 0){let R=h(v,L+1,$),P=f(v,$,R);const w=x(v.slice(R,P));b[M]=w}V=$+1}while(V<A);return b}function h(v,T,b){do{const A=v.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<b);return b}function f(v,T,b){for(;T>b;){const A=v.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return b}function d(v,T,b){const A=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=A(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let V=v+"="+x;if(!b)return V;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);V+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);V+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);V+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);V+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(V+="; HttpOnly"),b.secure&&(V+="; Secure"),b.partitioned&&(V+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return V}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Kh}HM();var SI="popstate";function $M(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return F0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:qd(i)}return KM(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GM(){return Math.random().toString(36).substring(2,10)}function AI(n,e){return{usr:n.state,key:n.key,idx:e}}function F0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||GM()}}function qd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function KM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),V=x==null?null:x-d;d=x,f&&f({action:h,location:A.location,delta:V})}function v(x,V){h="PUSH";let L=F0(A.location,x,V);d=g()+1;let U=AI(L,d),$=A.createHref(L);try{u.pushState(U,"",$)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign($)}o&&f&&f({action:h,location:A.location,delta:1})}function T(x,V){h="REPLACE";let L=F0(A.location,x,V);d=g();let U=AI(L,d),$=A.createHref(L);u.replaceState(U,"",$),o&&f&&f({action:h,location:A.location,delta:0})}function b(x){return WM(x)}let A={get action(){return h},get location(){return n(i,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(SI,_),f=x,()=>{i.removeEventListener(SI,_),f=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let V=b(x);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:v,replace:T,go(x){return u.go(x)}};return A}function WM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rx(n,e,t="/"){return YM(n,e,t,!1)}function YM(n,e,t,r){let i=typeof e=="string"?Ec(e):e,o=Ns(i.pathname||"/",t);if(o==null)return null;let u=ix(n);QM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=oV(o);h=sV(u[f],d,r)}return h}function ix(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Os([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ix(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:rV(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of sx(o.path))i(o,u,f)}),e}function sx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=sx(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function QM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var XM=/^:[\w-]+$/,JM=3,ZM=2,eV=1,tV=10,nV=-2,II=n=>n==="*";function rV(n,e){let t=n.split("/"),r=t.length;return t.some(II)&&(r+=nV),e&&(r+=ZM),t.filter(i=>!II(i)).reduce((i,o)=>i+(XM.test(o)?JM:o===""?eV:tV),r)}function iV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function sV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Os([o,_.pathname]),pathnameBase:hV(Os([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Os([o,_.pathnameBase]))}return u}function ag(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=aV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let b=h[v]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function aV(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ns(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function lV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:uV(t,e):e,search:dV(r),hash:fV(i)}}function uV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ax(n){let e=cV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ox(n,e,t,r=!1){let i;typeof n=="string"?i=Ec(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),i0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),i0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),i0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=lV(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),hV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lx=["POST","PUT","PATCH","DELETE"];new Set(lx);var mV=["GET",...lx];new Set(mV);var bc=W.createContext(null);bc.displayName="DataRouter";var qg=W.createContext(null);qg.displayName="DataRouterState";var ux=W.createContext({isTransitioning:!1});ux.displayName="ViewTransition";var gV=W.createContext(new Map);gV.displayName="Fetchers";var yV=W.createContext(null);yV.displayName="Await";var Qi=W.createContext(null);Qi.displayName="Navigation";var _f=W.createContext(null);_f.displayName="Location";var Xi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var YE=W.createContext(null);YE.displayName="RouteError";function _V(n,{relative:e}={}){kt(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Qi),{hash:i,pathname:o,search:u}=Ef(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Os([t,o])),r.createHref({pathname:h,search:u,hash:i})}function vf(){return W.useContext(_f)!=null}function Za(){return kt(vf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(_f).location}var cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(n){W.useContext(Qi).static||W.useLayoutEffect(n)}function Hg(){let{isDataRoute:n}=W.useContext(Xi);return n?OV():vV()}function vV(){kt(vf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(bc),{basename:e,navigator:t}=W.useContext(Qi),{matches:r}=W.useContext(Xi),{pathname:i}=Za(),o=JSON.stringify(ax(r)),u=W.useRef(!1);return hx(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(Hi(u.current,cx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=ox(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Os([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}W.createContext(null);function z0(){let{matches:n}=W.useContext(Xi),e=n[n.length-1];return e?e.params:{}}function Ef(n,{relative:e}={}){let{matches:t}=W.useContext(Xi),{pathname:r}=Za(),i=JSON.stringify(ax(t));return W.useMemo(()=>ox(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function EV(n,e){return dx(n,e)}function dx(n,e,t,r){var L;kt(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Qi),{matches:u}=W.useContext(Xi),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";fx(d,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=Za(),T;if(e){let U=typeof e=="string"?Ec(e):e;kt(g==="/"||((L=U.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=v;let b=T.pathname||"/",A=b;if(g!=="/"){let U=g.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:rx(n,{pathname:A});Hi(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Hi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=AV(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Os([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Os([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&V?W.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function bV(){let n=PV(),e=pV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var wV=W.createElement(bV,null),TV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Xi.Provider,{value:this.props.routeContext},W.createElement(YE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SV({routeContext:n,match:e,children:t}){let r=W.useContext(bc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Xi.Provider,{value:n},t)}function AV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let _,v=!1,T=null,b=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||wV,u&&(h<0&&g===0?(fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===g&&(v=!0,b=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),x=()=>{let V;return _?V=T:v?V=b:d.route.Component?V=W.createElement(d.route.Component,null):d.route.element?V=d.route.element:V=f,W.createElement(SV,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:V})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(TV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function QE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IV(n){let e=W.useContext(bc);return kt(e,QE(n)),e}function RV(n){let e=W.useContext(qg);return kt(e,QE(n)),e}function CV(n){let e=W.useContext(Xi);return kt(e,QE(n)),e}function XE(n){let e=CV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xV(){return XE("useRouteId")}function PV(){var r;let n=W.useContext(YE),e=RV("useRouteError"),t=XE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function OV(){let{router:n}=IV("useNavigate"),e=XE("useNavigate"),t=W.useRef(!1);return hx(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Hi(t.current,cx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var RI={};function fx(n,e,t){!e&&!RI[n]&&(RI[n]=!0,Hi(!1,t))}W.memo(DV);function DV({routes:n,future:e,state:t}){return dx(n,void 0,t,e)}function Ra(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Ec(t));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let b=Ns(f,u);return b==null?null:{location:{pathname:b,search:d,hash:g,state:_,key:v},navigationType:r}},[u,f,d,g,_,v,r]);return Hi(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Qi.Provider,{value:h},W.createElement(_f.Provider,{children:e,value:T}))}function kV({children:n,location:e}){return EV(j0(n),e)}function j0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,j0(r.props.children,o));return}kt(r.type===Ra,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=j0(r.props.children,o)),t.push(u)}),t}var km="get",Mm="application/x-www-form-urlencoded";function $g(n){return n!=null&&typeof n.tagName=="string"}function MV(n){return $g(n)&&n.tagName.toLowerCase()==="button"}function VV(n){return $g(n)&&n.tagName.toLowerCase()==="form"}function LV(n){return $g(n)&&n.tagName.toLowerCase()==="input"}function UV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BV(n,e){return n.button===0&&(!e||e==="_self")&&!UV(n)}var _m=null;function FV(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var zV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s0(n){return n!=null&&!zV.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mm}"`),null):n}function jV(n,e){let t,r,i,o,u;if(VV(n)){let h=n.getAttribute("action");r=h?Ns(h,e):null,t=n.getAttribute("method")||km,i=s0(n.getAttribute("enctype"))||Mm,o=new FormData(n)}else if(MV(n)||LV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ns(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||km,i=s0(n.getAttribute("formenctype"))||s0(h.getAttribute("enctype"))||Mm,o=new FormData(h,n),!FV()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if($g(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=km,r=null,i=Mm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function JE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function qV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $V(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await qV(o,t);return u.links?u.links():[]}return[]}));return YV(r.flat(1).filter(HV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function GV(n,e,{includeHydrateFallback:t}={}){return KV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function KV(n){return[...new Set(n)]}function WV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function YV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(WV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QV=new Set([100,101,204,205]);function XV(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ns(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function px(){let n=W.useContext(bc);return JE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JV(){let n=W.useContext(qg);return JE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ZE=W.createContext(void 0);ZE.displayName="FrameworkContext";function mx(){let n=W.useContext(ZE);return JE(n,"You must render this element inside a <HydratedRouter> element"),n}function ZV(n,e){let t=W.useContext(ZE),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=V=>{V.forEach(L=>{u(L.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Wh(h,T),onBlur:Wh(f,b),onMouseEnter:Wh(d,T),onMouseLeave:Wh(g,b),onTouchStart:Wh(_,T)}]:[!1,v,{}]}function Wh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eL({page:n,...e}){let{router:t}=px(),r=W.useMemo(()=>rx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(nL,{page:n,matches:r,...e}):null}function tL(n){let{manifest:e,routeModules:t}=mx(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return $V(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function nL({page:n,matches:e,...t}){let r=Za(),{manifest:i,routeModules:o}=mx(),{basename:u}=px(),{loaderData:h,matches:f}=JV(),d=W.useMemo(()=>CI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=W.useMemo(()=>CI(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(V=>{var U;let L=i.routes[V.route.id];!L||!L.hasLoader||(!d.some($=>$.route.id===V.route.id)&&V.route.id in h&&((U=o[V.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?A=!0:b.add(V.route.id))}),b.size===0)return[];let x=XV(n,u);return A&&b.size>0&&x.searchParams.set("_routes",e.filter(V=>b.has(V.route.id)).map(V=>V.route.id).join(",")),[x.pathname+x.search]},[u,h,r,i,d,e,n,o]),v=W.useMemo(()=>GV(g,i),[g,i]),T=tL(g);return W.createElement(W.Fragment,null,_.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:A})=>W.createElement("link",{key:b,...A})))}function rL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gx&&(window.__reactRouterVersion="7.6.0")}catch{}function iL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=$M({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(NV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...v},T){let{basename:b}=W.useContext(Qi),A=typeof d=="string"&&yx.test(d),x,V=!1;if(typeof d=="string"&&A&&(x=d,gx))try{let P=new URL(window.location.href),w=d.startsWith("//")?new URL(P.protocol+d):new URL(d),O=Ns(w.pathname,b);w.origin===P.origin&&O!=null?d=O+w.search+w.hash:V=!0}catch{Hi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=_V(d,{relative:i}),[U,$,F]=ZV(r,v),K=lL(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(P){e&&e(P),P.defaultPrevented||K(P)}let R=W.createElement("a",{...v,...F,href:x||L,onClick:V||o?e:M,ref:rL(T,$),target:f,"data-discover":!A&&t==="render"?"true":void 0});return U&&!A?W.createElement(W.Fragment,null,R,W.createElement(eL,{page:L})):R});si.displayName="Link";var sL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=Ef(u,{relative:d.relative}),v=Za(),T=W.useContext(qg),{navigator:b,basename:A}=W.useContext(Qi),x=T!=null&&fL(_)&&h===!0,V=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,L=v.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&A&&(U=Ns(U,A)||U);const $=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let F=L===V||!i&&L.startsWith(V)&&L.charAt($)==="/",K=U!=null&&(U===V||!i&&U.startsWith(V)&&U.charAt(V.length)==="/"),M={isActive:F,isPending:K,isTransitioning:x},R=F?e:void 0,P;typeof r=="function"?P=r(M):P=[r,F?"active":null,K?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(M):o;return W.createElement(si,{...d,"aria-current":R,className:P,ref:g,style:w,to:u,viewTransition:h},typeof f=="function"?f(M):f)});sL.displayName="NavLink";var aL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=km,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...v},T)=>{let b=hL(),A=dL(h,{relative:d}),x=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&yx.test(h),L=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,F=($==null?void 0:$.getAttribute("formmethod"))||u;b($||U.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:x,action:A,onSubmit:r?f:L,...v,"data-discover":!V&&n==="render"?"true":void 0})});aL.displayName="Form";function oL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _x(n){let e=W.useContext(bc);return kt(e,oL(n)),e}function lL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Hg(),f=Za(),d=Ef(n,{relative:o});return W.useCallback(g=>{if(BV(g,e)){g.preventDefault();let _=t!==void 0?t:qd(f)===qd(d);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var uL=0,cL=()=>`__${String(++uL)}__`;function hL(){let{router:n}=_x("useSubmit"),{basename:e}=W.useContext(Qi),t=xV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=jV(r,e);if(i.navigate===!1){let g=i.fetcherKey||cL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function dL(n,{relative:e}={}){let{basename:t}=W.useContext(Qi),r=W.useContext(Xi);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ef(n||".",{relative:e})},u=Za();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Os([t,o.pathname])),qd(o)}function fL(n,e={}){let t=W.useContext(ux);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_x("useViewTransitionState"),i=Ef(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ns(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ns(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ag(i.pathname,u)!=null||ag(i.pathname,o)!=null}[...QV];const pL="_fixed_1127i_9",mL="_header__container_1127i_19",gL="_logo__container_1127i_35",yL="_delivery_1127i_59",_L="_search_1127i_81",vL="_order__container_1127i_151",EL="_language_1127i_179",bL="_cart_1127i_205",wL="_lower__container_1127i_235",Is={fixed:pL,header__container:mL,logo__container:gL,delivery:yL,search:_L,order__container:vL,language:EL,cart:bL,lower__container:wL};var vx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xI=Ke.createContext&&Ke.createContext(vx),TL=["attr","size","title"];function SL(n,e){if(n==null)return{};var t=AL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function AL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function og(){return og=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},og.apply(this,arguments)}function PI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(r){IL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function IL(n,e,t){return e=RL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RL(n){var e=CL(n,"string");return typeof e=="symbol"?e:e+""}function CL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ex(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,lg({key:t},e.attr),Ex(e.child)))}function wc(n){return e=>Ke.createElement(xL,og({attr:lg({},n.attr)},e),Ex(n.child))}function xL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=SL(n,TL),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ke.createElement("svg",og({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:lg(lg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return xI!==void 0?Ke.createElement(xI.Consumer,null,t=>e(t)):e(vx)}function PL(n){return wc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function OL(){return q.jsx("div",{className:Is.lower__container,children:q.jsxs("ul",{children:[q.jsxs("li",{children:[q.jsx(PL,{}),q.jsx("p",{children:"All"})]}),q.jsx("li",{children:"Today's Deals"}),q.jsx("li",{children:"Customer Service"}),q.jsx("li",{children:"Registry"}),q.jsx("li",{children:"Gift Cards"}),q.jsx("li",{children:"Sell"})]})})}const zs=W.createContext(),DL=({children:n,reducer:e,initialState:t})=>q.jsx(zs.Provider,{value:W.useReducer(e,t),children:n}),NL=()=>{};var OI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||_==null)throw new ML;const v=o<<2|h>>4;if(r.push(v),d!==64){const T=h<<4&240|d>>2;if(r.push(T),_!==64){const b=d<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ML extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VL=function(n){const e=bx(n);return wx.encodeByteArray(e,!0)},ug=function(n){return VL(n).replace(/\./g,"")},eb=function(n){try{return wx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!LL(t)||(n[t]=cg(n[t],e[t]));return n}function LL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=()=>tb().__FIREBASE_DEFAULTS__,BL=()=>{if(typeof process>"u"||typeof OI>"u")return;const n=OI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eb(n[1]);return e&&JSON.parse(e)},Gg=()=>{try{return NL()||UL()||BL()||FL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zL=n=>{var e,t;return(t=(e=Gg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Tx=()=>{var n;return(n=Gg())===null||n===void 0?void 0:n.config},Sx=n=>{var e;return(e=Gg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n){return n.endsWith(".cloudworkstations.dev")}async function Ax(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ug(JSON.stringify(t)),ug(JSON.stringify(u)),""].join(".")}const Id={};function HL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Id))Id[e]?n.emulator.push(e):n.prod.push(e);return n}function $L(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let DI=!1;function Ix(n,e){if(typeof window>"u"||typeof document>"u"||!bf(window.location.host)||Id[n]===e||Id[n]||DI)return;Id[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=HL().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{DI=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=$L(r),T=t("text"),b=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),x=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),L=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;h(U),g(x,A);const $=d();f(L,V),U.append(L,b,x,$),document.body.appendChild(U)}o?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Kg(){var n;const e=(n=Gg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KL(){return typeof window<"u"||Rx()}function Rx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function WL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xx(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Px(){return!Kg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ox(){return!Kg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Hd(){try{return typeof indexedDB=="object"}catch{return!1}}function YL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="FirebaseError";class Xn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QL,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?XL(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Xn(i,h,r)}}function XL(n,e){return n.replace(JL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ZL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(kI(o)&&kI(u)){if(!ks(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Dx(n,e){const t=new e4(n,e);return t.subscribe.bind(t)}class e4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");t4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function a0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class $i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i4(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r4(n){return n===$o?void 0:n}function i4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new n4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const kx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},s4=He.INFO,a4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},o4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=a4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=s4,this._logHandler=o4,this._userLogHandler=null,rb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function l4(n){rb.forEach(e=>{e.setLogLevel(n)})}function u4(n,e){for(const t of rb){let r=null;e&&e.level&&(r=kx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const c4=(n,e)=>e.some(t=>n instanceof t);let MI,VI;function h4(){return MI||(MI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d4(){return VI||(VI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mx=new WeakMap,q0=new WeakMap,Vx=new WeakMap,o0=new WeakMap,ib=new WeakMap;function f4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Da(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Mx.set(t,n)}).catch(()=>{}),ib.set(e,n),e}function p4(n){if(q0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});q0.set(n,e)}let H0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return q0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Vx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Da(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function m4(n){H0=n(H0)}function g4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(l0(this),e,...t);return Vx.set(r,e.sort?e.sort():[e]),Da(r)}:d4().includes(n)?function(...e){return n.apply(l0(this),e),Da(Mx.get(this))}:function(...e){return Da(n.apply(l0(this),e))}}function y4(n){return typeof n=="function"?g4(n):(n instanceof IDBTransaction&&p4(n),c4(n,h4())?new Proxy(n,H0):n)}function Da(n){if(n instanceof IDBRequest)return f4(n);if(o0.has(n))return o0.get(n);const e=y4(n);return e!==n&&(o0.set(n,e),ib.set(e,n)),e}const l0=n=>ib.get(n);function _4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Da(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Da(u.result),f.oldVersion,f.newVersion,Da(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const v4=["get","getKey","getAll","getAllKeys","count"],E4=["put","add","delete","clear"],u0=new Map;function LI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(u0.get(e))return u0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=E4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return u0.set(e,o),o}m4(n=>({...n,get:(e,t,r)=>LI(e,t)||n.get(e,t,r),has:(e,t)=>!!LI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function w4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",$0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Wg("@firebase/app"),T4="@firebase/app-compat",S4="@firebase/analytics-compat",A4="@firebase/analytics",I4="@firebase/app-check-compat",R4="@firebase/app-check",C4="@firebase/auth",x4="@firebase/auth-compat",P4="@firebase/database",O4="@firebase/data-connect",D4="@firebase/database-compat",N4="@firebase/functions",k4="@firebase/functions-compat",M4="@firebase/installations",V4="@firebase/installations-compat",L4="@firebase/messaging",U4="@firebase/messaging-compat",B4="@firebase/performance",F4="@firebase/performance-compat",z4="@firebase/remote-config",j4="@firebase/remote-config-compat",q4="@firebase/storage",H4="@firebase/storage-compat",$4="@firebase/firestore",G4="@firebase/ai",K4="@firebase/firestore-compat",W4="firebase",Y4="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]",Q4={[hg]:"fire-core",[T4]:"fire-core-compat",[A4]:"fire-analytics",[S4]:"fire-analytics-compat",[R4]:"fire-app-check",[I4]:"fire-app-check-compat",[C4]:"fire-auth",[x4]:"fire-auth-compat",[P4]:"fire-rtdb",[O4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[N4]:"fire-fn",[k4]:"fire-fn-compat",[M4]:"fire-iid",[V4]:"fire-iid-compat",[L4]:"fire-fcm",[U4]:"fire-fcm-compat",[B4]:"fire-perf",[F4]:"fire-perf-compat",[z4]:"fire-rc",[j4]:"fire-rc-compat",[q4]:"fire-gcs",[H4]:"fire-gcs-compat",[$4]:"fire-fst",[K4]:"fire-fst-compat",[G4]:"fire-vertex","fire-js":"fire-js",[W4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Map,Ku=new Map,Wu=new Map;function $d(n,e){try{n.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lx(n,e){n.container.addOrOverwriteComponent(e)}function Ba(n){const e=n.name;if(Wu.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,n);for(const t of Ua.values())$d(t,n);for(const t of Ku.values())$d(t,n);return!0}function Yg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function X4(n,e,t=La){Yg(n,e).clearInstance(t)}function Ux(n){return n.options!==void 0}function Rt(n){return n==null?!1:n.settings!==void 0}function J4(){Wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new wl("app","Firebase",Z4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e){const t=eb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class e3 extends Bx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&UI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&UI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,oi(hg,$0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ab(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=Y4;function sb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:La,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(t||(t=Tx()),!t)throw Gr.create("no-options");const o=Ua.get(i);if(o){if(ks(t,o.options)&&ks(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const u=new Nx(i);for(const f of Wu.values())u.addComponent(f);const h=new Bx(t,r,u);return Ua.set(i,h),h}function t3(n,e){if(KL()&&!Rx())throw Gr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;Ux(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Ku.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new Nx(o);for(const d of Wu.values())h.addComponent(d);const f=new e3(t,e,o,h);return Ku.set(o,f),f}function Fx(n=La){const e=Ua.get(n);if(!e&&n===La&&Tx())return sb();if(!e)throw Gr.create("no-app",{appName:n});return e}function n3(){return Array.from(Ua.values())}async function ab(n){let e=!1;const t=n.name;Ua.has(t)?(e=!0,Ua.delete(t)):Ku.has(t)&&n.decRefCount()<=0&&(Ku.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function oi(n,e,t){var r;let i=(r=Q4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(h.join(" "));return}Ba(new $i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zx(n,e){if(n!==null&&typeof n!="function")throw Gr.create("invalid-log-argument");u4(n,e)}function jx(n){l4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firebase-heartbeat-database",i3=1,Gd="firebase-heartbeat-store";let c0=null;function qx(){return c0||(c0=_4(r3,i3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),c0}async function s3(n){try{const t=(await qx()).transaction(Gd),r=await t.objectStore(Gd).get(Hx(n));return await t.done,r}catch(e){if(e instanceof Xn)Ms.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function BI(n,e){try{const r=(await qx()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,Hx(n)),await r.done}catch(t){if(t instanceof Xn)Ms.warn(t.message);else{const r=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(r.message)}}}function Hx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1024,o3=30;class l3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new c3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>o3){const u=h3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FI(),{heartbeatsToSend:r,unsentEntries:i}=u3(this._heartbeatsCache.heartbeats),o=ug(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function FI(){return new Date().toISOString().substring(0,10)}function u3(n,e=a3){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),zI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class c3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hd()?YL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return BI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return BI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zI(n){return ug(JSON.stringify({version:2,heartbeats:n})).length}function h3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n){Ba(new $i("platform-logger",e=>new b4(e),"PRIVATE")),Ba(new $i("heartbeat",e=>new l3(e),"PRIVATE")),oi(hg,$0,n),oi(hg,$0,"esm2017"),oi("fire-js","")}d3("");const f3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Xn,SDK_VERSION:eo,_DEFAULT_ENTRY_NAME:La,_addComponent:$d,_addOrOverwriteComponent:Lx,_apps:Ua,_clearComponents:J4,_components:Wu,_getProvider:Yg,_isFirebaseApp:Ux,_isFirebaseServerApp:Rt,_registerComponent:Ba,_removeServiceInstance:X4,_serverApps:Ku,deleteApp:ab,getApp:Fx,getApps:n3,initializeApp:sb,initializeServerApp:t3,onLog:zx,registerVersion:oi,setLogLevel:jx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t){this._delegate=e,this.firebase=t,$d(e,new $i("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ab(this._delegate)))}_getService(e,t=La){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=La){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$d(this._delegate,e)}_addOrOverwriteComponent(e){Lx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},jI=new wl("app-compat","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:oi,setLogLevel:jx,onLog:zx,apps:null,SDK_VERSION:eo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:f3}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||La,!NI(e,d))throw jI.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const _=sb(d,g);if(NI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,_=g.replace("-compat","");if(Ba(d)&&d.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw jI.create("invalid-app-argument",{appName:g});return T[_]()};d.serviceProps!==void 0&&cg(v,d.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?t[_]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){const n=g3(p3);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:$x,extendNamespace:e,createSubscribe:Dx,ErrorFactory:wl,deepExtend:cg});function e(t){cg(n,t)}return n}const y3=$x();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Wg("@firebase/app-compat"),_3="@firebase/app-compat",v3="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(n){oi(_3,v3,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=tb();if(n.firebase!==void 0){qI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&qI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Tl=y3;E3();var b3="firebase",w3="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl.registerVersion(b3,w3,"app-compat");function ob(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Yh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Eu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Gx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S3=T3,A3=Gx,Kx=new wl("auth","Firebase",Gx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Wg("@firebase/auth");function I3(n,...e){dg.logLevel<=He.WARN&&dg.warn(`Auth (${eo}): ${n}`,...e)}function Vm(n,...e){dg.logLevel<=He.ERROR&&dg.error(`Auth (${eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n,...e){throw ub(n,...e)}function gn(n,...e){return ub(n,...e)}function lb(n,e,t){const r=Object.assign(Object.assign({},A3()),{[e]:t});return new wl("auth","Firebase",r).create(e,{appName:n.name})}function An(n){return lb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(n,"argument-error"),lb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ub(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Kx.create(n,...e)}function ye(n,e,...t){if(!n)throw ub(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vm(e),new Error(e)}function li(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cb(){return HI()==="http:"||HI()==="https:"}function HI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cb()||Cx()||"connection"in navigator)?navigator.onLine:!0}function C3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=GL()||nb()}get(){return R3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O3=new wf(3e4,6e4);function qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ht(n,e,t,r,i={}){return Yx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Tc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return WL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&bf(n.emulatorConfig.host)&&(d.credentials="include"),Wx.fetch()(await Qx(n,n.config.apiHost,t,h),d)})}async function Yx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},x3),e);try{const i=new N3(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw _d(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw _d(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw lb(n,g,d);In(n,g)}}catch(i){if(i instanceof Xn)throw i;In(n,"network-request-failed",{message:String(i)})}}async function js(n,e,t,r,i={}){const o=await Ht(n,e,t,r,i);return"mfaPendingCredential"in o&&In(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Qx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?hb(n.config,i):`${n.config.apiScheme}://${i}`;return P3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function D3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),O3.get())})}}function _d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){return n!==void 0&&n.getResponse!==void 0}function GI(n){return n!==void 0&&n.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(n){return(await Ht(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Jx(n,e){return Ht(n,"GET","/v2/recaptchaConfig",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(n,e){return Ht(n,"POST","/v1/accounts:delete",e)}async function V3(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function fg(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L3(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Qg(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rd(h0(i.auth_time)),issuedAtTime:Rd(h0(i.iat)),expirationTime:Rd(h0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function h0(n){return Number(n)*1e3}function Qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eb(t);return i?JSON.parse(i):(Vm("Failed to decode base64 JWT payload"),null)}catch(i){return Vm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KI(n){const e=Qg(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Xn&&U3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function U3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Vs(n,fg(t,{idToken:r}));ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Zx(o.providerUserInfo):[],h=z3(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new G0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function F3(n){const e=Ce(n);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Zx(n){return n.map(e=>{var{providerId:t}=e,r=ob(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(n,e){const t=await Yx(n,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await Qx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Wx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q3(n,e){return Ht(n,"POST","/v2/accounts:revokeToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=KI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await j3(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Bu;return r&&(ye(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ob(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new G0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return L3(this,e)}reload(){return F3(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(An(this.auth));const e=await this.getIdToken();return await Vs(this,M3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,V=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:$,isAnonymous:F,providerData:K,stsTokenManager:M}=t;ye(U&&M,e,"internal-error");const R=Bu.fromJSON(this.name,M);ye(typeof U=="string",e,"internal-error"),wa(_,e.name),wa(v,e.name),ye(typeof $=="boolean",e,"internal-error"),ye(typeof F=="boolean",e,"internal-error"),wa(T,e.name),wa(b,e.name),wa(A,e.name),wa(x,e.name),wa(V,e.name),wa(L,e.name);const P=new ai({uid:U,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:F,photoURL:b,phoneNumber:T,tenantId:A,stsTokenManager:R,createdAt:V,lastLoginAt:L});return K&&Array.isArray(K)&&(P.providerData=K.map(w=>Object.assign({},w))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Bu;i.updateFromServerResponse(t);const o=new ai({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Zx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Bu;h.updateFromIdToken(r);const f=new ai({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new G0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;function Ar(n){li(n instanceof Function,"Expected a class definition");let e=WI.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eP.type="NONE";const Yu=eP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n,e,t){return`firebase:${n}:${e}:${t}`}class Fu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=il(this.userKey,i.apiKey,o),this.fullPersistenceKey=il("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fg(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fu(Ar(Yu),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ar(Yu);const u=il(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await fg(e,{idToken:g}).catch(()=>{});if(!v)break;_=await ai._fromGetAccountInfoResponse(e,v,g)}else _=ai._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Fu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Fu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sP(e))return"Blackberry";if(aP(e))return"Webos";if(nP(e))return"Safari";if((e.includes("chrome/")||rP(e))&&!e.includes("edge/"))return"Chrome";if(Tf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tP(n=Vt()){return/firefox\//i.test(n)}function nP(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rP(n=Vt()){return/crios\//i.test(n)}function iP(n=Vt()){return/iemobile/i.test(n)}function Tf(n=Vt()){return/android/i.test(n)}function sP(n=Vt()){return/blackberry/i.test(n)}function aP(n=Vt()){return/webos/i.test(n)}function Sf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H3(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function $3(n=Vt()){var e;return Sf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G3(){return xx()&&document.documentMode===10}function oP(n=Vt()){return Sf(n)||Tf(n)||aP(n)||sP(n)||/windows phone/i.test(n)||iP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n,e=[]){let t;switch(n){case"Browser":t=YI(Vt());break;case"Worker":t=`${YI(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(n,e={}){return Ht(n,"GET","/v2/passwordPolicy",qt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=6;class Q3{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Y3,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QI(this),this.idTokenSubscription=new QI(this),this.beforeStateQueue=new K3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fg(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(An(this));const t=e?Ce(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W3(this),t=new Q3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&I3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lt(n){return Ce(n)}class QI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dx(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J3(n){Af=n}function db(n){return Af.loadJS(n)}function Z3(){return Af.recaptchaV2Script}function e6(){return Af.recaptchaEnterpriseScript}function t6(){return Af.gapiScript}function uP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=500,r6=6e4,vm=1e12;class i6{constructor(e){this.auth=e,this.counter=vm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new o6(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||vm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||vm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||vm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class s6{constructor(){this.enterprise=new a6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class o6{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=l6(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},r6)},n6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function l6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const u6="recaptcha-enterprise",Cd="NO_RECAPTCHA";class cP{constructor(e){this.type=u6,this.auth=Lt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Jx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new Xx(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;GI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Cd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s6().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&GI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=e6();f.length!==0&&(f+=h),db(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function Qh(n,e,t,r=!1,i=!1){const o=new cP(n);let u;if(i)u=Cd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Na(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Qh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Qh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Qh(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Qh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await Qh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function c6(n){const e=Lt(n),t=await Jx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Xx(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new cP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n,e){const t=Yg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ks(o,e??{}))return i;In(i,"already-initialized")}return t.initialize({options:e})}function d6(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hP(n,e,t){const r=Lt(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=dP(e),{host:u,port:h}=f6(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(ks(d,r.config.emulator)&&ks(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bf(u)?(Ax(`${o}//${u}${f}`),Ix("Auth",!0)):i||p6()}function dP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f6(n){const e=dP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:XI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:XI(u)}}}function XI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function p6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e){return Ht(n,"POST","/v1/accounts:resetPassword",qt(n,e))}async function m6(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function g6(n,e){return Ht(n,"POST","/v1/accounts:signUp",e)}async function y6(n,e){return Ht(n,"POST","/v1/accounts:update",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(n,e){return js(n,"POST","/v1/accounts:signInWithPassword",qt(n,e))}async function Xg(n,e){return Ht(n,"POST","/v1/accounts:sendOobCode",qt(n,e))}async function v6(n,e){return Xg(n,e)}async function E6(n,e){return Xg(n,e)}async function b6(n,e){return Xg(n,e)}async function w6(n,e){return Xg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}async function S6(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Ac{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Na(e,t,"signInWithPassword",_6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return T6(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Na(e,r,"signUpPassword",g6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return S6(e,{idToken:t,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(n,e){return js(n,"POST","/v1/accounts:signInWithIdp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="http://localhost";class Gi extends Ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):In("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ob(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Gi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}buildRequest(){const e={requestUri:A6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(n,e){return Ht(n,"POST","/v1/accounts:sendVerificationCode",qt(n,e))}async function I6(n,e){return js(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e))}async function R6(n,e){const t=await js(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e));if(t.temporaryProof)throw _d(n,"account-exists-with-different-credential",t);return t}const C6={USER_NOT_FOUND:"user-not-found"};async function x6(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return js(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,t),C6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Ac{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return I6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return R6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return x6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new sl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O6(n){const e=Uu(yd(n)).link,t=e?Uu(yd(e)).deep_link_id:null,r=Uu(yd(n)).deep_link_id;return(r?Uu(yd(r)).link:null)||r||t||e||n}class Jg{constructor(e){var t,r,i,o,u,h;const f=Uu(yd(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=P6((i=f.mode)!==null&&i!==void 0?i:null);ye(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=O6(e);try{return new Jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,t){return Yd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Jg.parseLink(t);return ye(r,"argument-error"),Yd._fromEmailAndCode(e,r.code,r.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zu extends Ic{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in t&&"signInMethod"in t,"argument-error"),Gi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new zu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ic{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ic{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="http://localhost";class Qu extends Ac{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Qu(r,o)}static _create(e,t){return new Qu(e,t)}buildRequest(){return{requestUri:D6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="saml.";class pg extends qs{constructor(e){ye(e.startsWith(N6),"argument-error"),super(e)}static credentialFromResult(e){return pg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return pg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Qu.fromJSON(e);return ye(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Qu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ic{constructor(){super("twitter.com")}static credential(e,t){return Gi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e){return js(n,"POST","/v1/accounts:signUp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ai._fromIdTokenResponse(e,r,i),u=ZI(r);return new Kr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ZI(r);return new Kr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ZI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(n){var e;if(Rt(n.app))return Promise.reject(An(n));const t=Lt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Kr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await pP(t,{returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends Xn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mg(e,t,r,i)}}function mP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(n,e){const t=Ce(n);await Zg(!0,t,e);const{providerUserInfo:r}=await V3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=gP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function fb(n,e,t=!1){const r=await Vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Kr._forOperation(n,"link",r)}async function Zg(n,e,t){await Wd(e);const r=gP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ye(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(An(r));const i="reauthenticate";try{const o=await Vs(n,mP(r,i,e,n),t);ye(o.idToken,r,"internal-error");const u=Qg(o.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),Kr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&In(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e,t=!1){if(Rt(n.app))return Promise.reject(An(n));const r="signIn",i=await mP(n,r,e),o=await Kr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ey(n,e){return _P(Lt(n),e)}async function vP(n,e){const t=Ce(n);return await Zg(!1,t,e.providerId),fb(t,e)}async function EP(n,e){return yP(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e){return js(n,"POST","/v1/accounts:signInWithCustomToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(n,e){if(Rt(n.app))return Promise.reject(An(n));const t=Lt(n),r=await V6(t,{token:e,returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?pb._fromServerResponse(e,t):"totpInfo"in t?mb._fromServerResponse(e,t):In(e,"internal-error")}}class pb extends If{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new pb(t)}}class mb extends If{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new mb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n,e,t){var r;ye(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n){const e=Lt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U6(n,e,t){const r=Lt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ty(r,i,t),await Na(r,i,"getOobCode",E6,"EMAIL_PASSWORD_PROVIDER")}async function B6(n,e,t){await fP(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gb(n),r})}async function F6(n,e){await y6(Ce(n),{oobCode:e})}async function bP(n,e){const t=Ce(n),r=await fP(t,{oobCode:e}),i=r.requestType;switch(ye(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,t,"internal-error");default:ye(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=If._fromServerResponse(Lt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function z6(n,e){const{data:t}=await bP(Ce(n),e);return t.email}async function wP(n,e,t){if(Rt(n.app))return Promise.reject(An(n));const r=Lt(n),u=await Na(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&gb(n),f}),h=await Kr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function TP(n,e,t){return Rt(n.app)?Promise.reject(An(n)):ey(Ce(n),to.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(n,e,t){const r=Lt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ye(h.handleCodeInApp,r,"argument-error"),h&&ty(r,u,h)}o(i,t),await Na(r,i,"getOobCode",b6,"EMAIL_PASSWORD_PROVIDER")}function q6(n,e){const t=Jg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function H6(n,e,t){if(Rt(n.app))return Promise.reject(An(n));const r=Ce(n),i=to.credentialWithLink(e,t||Kd());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ey(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(n,e){return Ht(n,"POST","/v1/accounts:createAuthUri",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(n,e){const t=cb()?Kd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await $6(Ce(n),r);return i||[]}async function K6(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ty(t.auth,i,e);const{email:o}=await v6(t.auth,i);o!==n.email&&await n.reload()}async function W6(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ty(r.auth,o,t);const{email:u}=await w6(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(n,e){return Ht(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Vs(r,Y6(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function X6(n,e){const t=Ce(n);return Rt(t.auth.app)?Promise.reject(An(t.auth)):SP(t,e,null)}function J6(n,e){return SP(Ce(n),null,e)}async function SP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Vs(n,m6(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Qg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new ju(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new eU(o,i);case"github.com":return new tU(o,i);case"google.com":return new nU(o,i);case"twitter.com":return new rU(o,i,n.screenName||null);case"custom":case"anonymous":return new ju(o,null);default:return new ju(o,r,i)}}class ju{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class AP extends ju{constructor(e,t,r,i){super(e,t,r),this.username=i}}class eU extends ju{constructor(e,t){super(e,"facebook.com",t)}}class tU extends AP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class nU extends ju{constructor(e,t){super(e,"google.com",t)}}class rU extends AP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function iU(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Z6(t)}function sU(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function aU(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Zo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Zo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Zo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Zo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Lt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>If._fromServerResponse(r,h));ye(i.mfaPendingCredential,r,"internal-error");const u=Zo._fromMfaPendingCredential(i.mfaPendingCredential);return new yb(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Kr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ye(t.user,r,"internal-error"),Kr._forOperation(t.user,t.operationType,d);default:In(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function oU(n,e){var t;const r=Ce(n),i=e;return ye(e.customData.operationType,r,"argument-error"),ye((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),yb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:start",qt(n,e))}function lU(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:finalize",qt(n,e))}function uU(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(n,e))}class _b{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>If._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new _b(e)}async getSession(){return Zo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vs(this.user,uU(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const d0=new WeakMap;function cU(n){const e=Ce(n);return d0.has(e)||d0.set(e,_b._fromUser(e)),d0.get(e)}const gg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gg,"1"),this.storage.removeItem(gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1e3,dU=10;class RP extends IP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);G3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RP.type="LOCAL";const ny=RP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP extends IP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CP.type="SESSION";const Fa=CP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await fU(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Rf("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return window}function mU(n){on().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}async function gU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _U(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebaseLocalStorageDb",vU=1,yg="firebaseLocalStorage",PP="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iy(n,e){return n.transaction([yg],e?"readwrite":"readonly").objectStore(yg)}function EU(){const n=indexedDB.deleteDatabase(xP);return new Cf(n).toPromise()}function K0(){const n=indexedDB.open(xP,vU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yg,{keyPath:PP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yg)?e(r):(r.close(),await EU(),e(await K0()))})})}async function tR(n,e,t){const r=iy(n,!0).put({[PP]:e,value:t});return new Cf(r).toPromise()}async function bU(n,e){const t=iy(n,!1).get(e),r=await new Cf(t).toPromise();return r===void 0?null:r.value}function nR(n,e){const t=iy(n,!0).delete(e);return new Cf(t).toPromise()}const wU=800,TU=3;class OP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>TU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ry._getInstance(_U()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await gU(),!this.activeServiceWorker)return;this.sender=new pU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K0();return await tR(e,gg,"1"),await nR(e,gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=iy(i,!1).getAll();return new Cf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OP.type="LOCAL";const Xu=OP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:start",qt(n,e))}function SU(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:finalize",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=uP("rcb"),AU=new wf(3e4,6e4);class IU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=on().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ye(RU(t),e,"argument-error"),this.shouldResolveImmediately(t)&&$I(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((r,i)=>{const o=on().setTimeout(()=>{i(gn(e,"network-request-failed"))},AU.get());on()[f0]=()=>{on().clearTimeout(o),delete on()[f0];const h=on().grecaptcha;if(!h||!$I(h)){i(gn(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const _=f(d,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${Z3()}?${Tc({onload:f0,render:"explicit",hl:t})}`;db(u).catch(()=>{clearTimeout(o),i(gn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=on().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function RU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class CU{async load(e){return new i6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="recaptcha",xU={theme:"light",type:"image"};let PU=class{constructor(e,t,r=Object.assign({},xU)){this.parameters=r,this.type=xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CU:new IU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=on()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(cb()&&!vb(),this.auth,"internal-error"),await OU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await k3(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function OU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=sl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function DU(n,e,t){if(Rt(n.app))return Promise.reject(An(n));const r=Lt(n),i=await sy(r,e,Ce(t));return new Eb(i,o=>ey(r,o))}async function NU(n,e,t){const r=Ce(n);await Zg(!1,r,"phone");const i=await sy(r.auth,e,Ce(t));return new Eb(i,o=>vP(r,o))}async function kU(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(An(r.auth));const i=await sy(r.auth,e,Ce(t));return new Eb(i,o=>EP(r,o))}async function sy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await c6(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ye(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Na(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Cd){ye((t==null?void 0:t.type)===xd,g,"argument-error");const v=await p0(g,_,t);return eR(g,v)}return eR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ye(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Na(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Cd){ye((t==null?void 0:t.type)===xd,_,"argument-error");const T=await p0(_,v,t);return rR(_,T)}return rR(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Na(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===Cd){ye((t==null?void 0:t.type)===xd,d,"argument-error");const _=await p0(d,g,t);return JI(d,_)}return JI(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function MU(n,e){const t=Ce(n);if(Rt(t.auth.app))return Promise.reject(An(t.auth));await fb(t,e)}async function p0(n,e,t){ye(t.type===xd,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=class Lm{constructor(e){this.providerId=Lm.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,t){return sy(this.auth,e,Ce(t))}static credential(e,t){return sl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lm.credentialFromTaggedObject(t)}static credentialFromError(e){return Lm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?sl._fromTokenResponse(t,r):null}};ul.PROVIDER_ID="phone";ul.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n,e){return e?Ar(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends Ac{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VU(n){return _P(n.auth,new bb(n),n.bypassAuthState)}function LU(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),yP(t,new bb(n),n.bypassAuthState)}async function UU(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),fb(t,new bb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VU;case"linkViaPopup":case"linkViaRedirect":return UU;case"reauthViaPopup":case"reauthViaRedirect":return LU;default:In(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new wf(2e3,1e4);async function FU(n,e,t){if(Rt(n.app))return Promise.reject(gn(n,"operation-not-supported-in-this-environment"));const r=Lt(n);Sc(n,e,qs);const i=Sl(r,t);return new Cs(r,"signInViaPopup",e,i).executeNotNull()}async function zU(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(gn(r.auth,"operation-not-supported-in-this-environment"));Sc(r.auth,e,qs);const i=Sl(r.auth,t);return new Cs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function jU(n,e,t){const r=Ce(n);Sc(r.auth,e,qs);const i=Sl(r.auth,t);return new Cs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Cs extends DP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Rf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BU.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="pendingRedirect",Pd=new Map;class HU extends DP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await $U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $U(n,e){const t=kP(e),r=NP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function wb(n,e){return NP(n)._set(kP(e),"true")}function GU(){Pd.clear()}function Tb(n,e){Pd.set(n._key(),e)}function NP(n){return Ar(n._redirectPersistence)}function kP(n){return il(qU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n,e,t){return WU(n,e,t)}async function WU(n,e,t){if(Rt(n.app))return Promise.reject(An(n));const r=Lt(n);Sc(n,e,qs),await r._initializationPromise;const i=Sl(r,t);return await wb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function YU(n,e,t){return QU(n,e,t)}async function QU(n,e,t){const r=Ce(n);if(Sc(r.auth,e,qs),Rt(r.auth.app))return Promise.reject(An(r.auth));await r.auth._initializationPromise;const i=Sl(r.auth,t);await wb(i,r.auth);const o=await MP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function XU(n,e,t){return JU(n,e,t)}async function JU(n,e,t){const r=Ce(n);Sc(r.auth,e,qs),await r.auth._initializationPromise;const i=Sl(r.auth,t);await Zg(!1,r,e.providerId),await wb(i,r.auth);const o=await MP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function ZU(n,e){return await Lt(n)._initializationPromise,ay(n,e,!1)}async function ay(n,e,t=!1){if(Rt(n.app))return Promise.reject(An(n));const r=Lt(n),i=Sl(r,e),u=await new HU(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function MP(n){const e=Rf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=10*60*1e3;class VP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!LP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(gn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iR(e))}saveEventToCache(e){this.cachedEventUids.add(iR(e)),this.lastProcessedEventTime=Date.now()}}function iR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,e={}){return Ht(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r5=/^https?/;async function i5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UP(n);for(const t of e)try{if(s5(t))return}catch{}In(n,"unauthorized-domain")}function s5(n){const e=Kd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!r5.test(t))return!1;if(n5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new wf(3e4,6e4);function sR(){const n=on().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function o5(n){return new Promise((e,t)=>{var r,i,o;function u(){sR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sR(),t(gn(n,"network-request-failed"))},timeout:a5.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)u();else{const h=uP("iframefcb");return on()[h]=()=>{gapi.load?u():t(gn(n,"network-request-failed"))},db(`${t6()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Um=null,e})}let Um=null;function l5(n){return Um=Um||o5(n),Um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new wf(5e3,15e3),c5="__/auth/iframe",h5="emulator/auth/iframe",d5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p5(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hb(e,h5):`https://${n.config.authDomain}/${c5}`,r={apiKey:e.apiKey,appName:n.name,v:eo},i=f5.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Tc(r).slice(1)}`}async function m5(n){const e=await l5(n),t=on().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:p5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=gn(n,"network-request-failed"),h=on().setTimeout(()=>{o(u)},u5.get());function f(){on().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y5=500,_5=600,v5="_blank",E5="http://localhost";class aR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b5(n,e,t,r=y5,i=_5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},g5),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Vt().toLowerCase();t&&(h=rP(d)?v5:t),tP(d)&&(e=e||E5,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,b])=>`${v}${T}=${b},`,"");if($3(d)&&h!=="_self")return w5(e||"",h),new aR(null);const _=window.open(e||"",h,g);ye(_,n,"popup-blocked");try{_.focus()}catch{}return new aR(_)}function w5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="__/auth/handler",S5="emulator/auth/handler",A5=encodeURIComponent("fac");async function W0(n,e,t,r,i,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:eo,eventId:i};if(e instanceof qs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ZL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Ic){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${A5}=${encodeURIComponent(f)}`:"";return`${I5(n)}?${Tc(h).slice(1)}${d}`}function I5({config:n}){return n.emulator?hb(n,S5):`https://${n.authDomain}/${T5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class R5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=ay,this._overrideRedirectResult=Tb}async _openPopup(e,t,r,i){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await W0(e,t,r,Kd(),i);return b5(e,u,Rf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await W0(e,t,r,Kd(),i);return mU(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await m5(e),r=new VP(e);return t.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m0,{type:m0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[m0];u!==void 0&&t(!!u),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oP()||nP()||Sf()}}const BP=R5;class C5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ui("unexpected MultiFactorSessionType")}}}class Sb extends C5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Sb(e)}_finalizeEnroll(e,t,r){return lU(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return SU(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class FP{constructor(){}static assertion(e){return Sb._fromCredential(e)}}FP.FACTOR_ID="phone";var oR="@firebase/auth",lR="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O5(n){Ba(new $i("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lP(n)},d=new X3(r,i,o,f);return d6(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new $i("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return(r=>new x5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(oR,lR,P5(n)),oi(oR,lR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=5*60,N5=Sx("authIdTokenMaxAge")||D5;let uR=null;const k5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>N5)return;const i=t==null?void 0:t.token;uR!==i&&(uR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M5(n=Fx()){const e=Yg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=h6(n,{popupRedirectResolver:BP,persistence:[Xu,ny,Fa]}),r=Sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=k5(o.toString());aU(t,u,()=>u(t.currentUser)),sU(t,h=>u(h))}}const i=zL("auth");return i&&hP(t,`http://${i}`),t}function V5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}J3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=gn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",V5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O5("Browser");var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,zP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function P(){}P.prototype=R.prototype,M.D=R.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(w,O,C){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return R.prototype[O].apply(w,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,P){P||(P=0);var w=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)w[O]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(O=0;16>O;++O)w[O]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=M.g[0],P=M.g[1],O=M.g[2];var C=M.g[3],D=R+(C^P&(O^C))+w[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[1]+3905402710&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[2]+606105819&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[3]+3250441966&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[5]+1200080426&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[6]+2821735955&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[7]+4249261313&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[9]+2336552879&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[10]+4294925233&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[11]+2304563134&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[13]+4254626195&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[14]+2792965006&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[15]+1236535329&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(O^C&(P^O))+w[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[6]+3225465664&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[11]+643717713&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[0]+3921069994&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[10]+38016083&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[15]+3634488961&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[4]+3889429448&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[14]+3275163606&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[3]+4107603335&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[8]+1163531501&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[2]+4243563512&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[7]+1735328473&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[12]+2368359562&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(P^O^C)+w[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[8]+2272392833&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[11]+1839030562&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[14]+4259657740&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[4]+1272893353&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[7]+4139469664&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[10]+3200236656&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[0]+3936430074&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[3]+3572445317&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[6]+76029189&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[12]+3873151461&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[15]+530742520&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[2]+3299628645&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(O^(P|~C))+w[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[7]+1126891415&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[14]+2878612391&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[5]+4237533241&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[3]+2399980690&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[10]+4293915773&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[1]+2240044497&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[15]+4264355552&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[6]+2734768916&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[13]+1309151649&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[11]+3174756917&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[2]+718787259&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var P=R-this.blockSize,w=this.B,O=this.h,C=0;C<R;){if(O==0)for(;C<=P;)i(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(w[O++]=M.charCodeAt(C++),O==this.blockSize){i(this,w),O=0;break}}else for(;C<R;)if(w[O++]=M[C++],O==this.blockSize){i(this,w),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var P=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=P&255,P/=256;for(this.u(M),M=Array(16),R=P=0;4>R;++R)for(var w=0;32>w;w+=8)M[P++]=this.g[R]>>>w&255;return M};function o(M,R){var P=h;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=R(M)}function u(M,R){this.h=R;for(var P=[],w=!0,O=M.length-1;0<=O;O--){var C=M[O]|0;w&&C==R||(P[O]=C,w=!1)}this.g=P}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(d(-M));for(var R=[],P=1,w=0;M>=P;w++)R[w]=M/P|0,P*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return x(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(R,8)),w=_,O=0;O<M.length;O+=8){var C=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+C),R);8>C?(C=d(Math.pow(R,C)),w=w.j(C).add(d(D))):(w=w.j(P),w=w.add(d(D)))}return w}var _=f(0),v=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-x(this).m();for(var M=0,R=1,P=0;P<this.g.length;P++){var w=this.i(P);M+=(0<=w?w:4294967296+w)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(b(this))return"0";if(A(this))return"-"+x(this).toString(M);for(var R=d(Math.pow(M,6)),P=this,w="";;){var O=$(P,R).g;P=V(P,O.j(R));var C=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=O,b(P))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function b(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=V(this,M),A(M)?-1:b(M)?0:1};function x(M){for(var R=M.g.length,P=[],w=0;w<R;w++)P[w]=~M.g[w];return new u(P,~M.h).add(v)}n.abs=function(){return A(this)?x(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0,O=0;O<=R;O++){var C=w+(this.i(O)&65535)+(M.i(O)&65535),D=(C>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);w=D>>>16,C&=65535,D&=65535,P[O]=D<<16|C}return new u(P,P[P.length-1]&-2147483648?-1:0)};function V(M,R){return M.add(x(R))}n.j=function(M){if(b(this)||b(M))return _;if(A(this))return A(M)?x(this).j(x(M)):x(x(this).j(M));if(A(M))return x(this.j(x(M)));if(0>this.l(T)&&0>M.l(T))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,P=[],w=0;w<2*R;w++)P[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<M.g.length;O++){var C=this.i(w)>>>16,D=this.i(w)&65535,ae=M.i(O)>>>16,B=M.i(O)&65535;P[2*w+2*O]+=D*B,L(P,2*w+2*O),P[2*w+2*O+1]+=C*B,L(P,2*w+2*O+1),P[2*w+2*O+1]+=D*ae,L(P,2*w+2*O+1),P[2*w+2*O+2]+=C*ae,L(P,2*w+2*O+2)}for(w=0;w<R;w++)P[w]=P[2*w+1]<<16|P[2*w];for(w=R;w<2*R;w++)P[w]=0;return new u(P,0)};function L(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function U(M,R){this.g=M,this.h=R}function $(M,R){if(b(R))throw Error("division by zero");if(b(M))return new U(_,_);if(A(M))return R=$(x(M),R),new U(x(R.g),x(R.h));if(A(R))return R=$(M,x(R)),new U(x(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var P=v,w=R;0>=w.l(M);)P=F(P),w=F(w);var O=K(P,1),C=K(w,1);for(w=K(w,2),P=K(P,2);!b(w);){var D=C.add(w);0>=D.l(M)&&(O=O.add(P),C=D),w=K(w,1),P=K(P,1)}return R=V(M,O.j(R)),new U(O,R)}for(O=_;0<=M.l(R);){for(P=Math.max(1,Math.floor(M.m()/R.m())),w=Math.ceil(Math.log(P)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(P),D=C.j(R);A(D)||0<D.l(M);)P-=w,C=d(P),D=C.j(R);b(C)&&(C=v),O=O.add(C),M=V(M,D)}return new U(O,M)}n.A=function(M){return $(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)&M.i(w);return new u(P,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)|M.i(w);return new u(P,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)^M.i(w);return new u(P,this.h^M.h)};function F(M){for(var R=M.g.length+1,P=[],w=0;w<R;w++)P[w]=M.i(w)<<1|M.i(w-1)>>>31;return new u(P,M.h)}function K(M,R){var P=R>>5;R%=32;for(var w=M.g.length-P,O=[],C=0;C<w;C++)O[C]=0<R?M.i(C+P)>>>R|M.i(C+P+1)<<32-R:M.i(C+P);return new u(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ka=u}).apply(typeof cR<"u"?cR:typeof self<"u"?self:typeof window<"u"?window:{});var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jP,vd,qP,Bm,Y0,HP,$P,GP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Em=="object"&&Em];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Q=p[k];if(!(Q in S))break e;S=S[Q]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Q={next:function(){if(!k&&S<p.length){var se=S++;return{value:E(se,p[se]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,k),p.apply(E,Q)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function b(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Q,se){for(var _e=Array(arguments.length-2),We=2;We<arguments.length;We++)_e[We-2]=arguments[We];return E.prototype[Q].apply(k,_e)}}function A(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Q=p.length||0,se=k.length||0;p.length=Q+se;for(let _e=0;_e<se;_e++)p[Q+_e]=k[_e]}else p.push(k)}}class V{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var F=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function K(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function R(p){const E={};for(const S in p)E[S]=p[S];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(p,E){let S,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(S in k)p[S]=k[S];for(let se=0;se<P.length;se++)S=P[se],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function O(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function C(p){h.setTimeout(()=>{throw p},0)}function D(){var p=be;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class ae{constructor(){this.h=this.g=null}add(E,S){const k=B.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new V(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,le=!1,be=new ae,j=()=>{const p=h.Promise.resolve(void 0);J=()=>{p.then(re)}};var re=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){C(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function ke(p,E){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(F){e:{try{$(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}b(ke,me);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),rt=0;function xr(p,E,S,k,Q){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Q,this.key=++rt,this.da=this.fa=!1}function ci(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Pr(p){this.src=p,this.g={},this.h=0}Pr.prototype.add=function(p,E,S,k,Q){var se=p.toString();p=this.g[se],p||(p=this.g[se]=[],this.h++);var _e=Vn(p,E,k,Q);return-1<_e?(E=p[_e],S||(E.fa=!1)):(E=new xr(E,this.src,se,!!k,Q),E.fa=S,p.push(E)),E};function hr(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Q=Array.prototype.indexOf.call(k,E,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(k,Q,1),se&&(ci(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Vn(p,E,S,k){for(var Q=0;Q<p.length;++Q){var se=p[Q];if(!se.da&&se.listener==E&&se.capture==!!S&&se.ha==k)return Q}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),oo={};function xl(p,E,S,k,Q){if(Array.isArray(E)){for(var se=0;se<E.length;se++)xl(p,E[se],S,k,Q);return null}return S=Qr(S),p&&p[$t]?p.K(E,S,d(k)?!!k.capture:!1,Q):er(p,E,S,!1,k,Q)}function er(p,E,S,k,Q,se){if(!E)throw Error("Invalid event type");var _e=d(Q)?!!Q.capture:!!Q,We=wt(p);if(We||(p[Yr]=We=new Pr(p)),S=We.add(E,S,k,_e,se),S.proxy)return S;if(k=Bc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Q=_e),Q===void 0&&(Q=!1),p.addEventListener(E.toString(),k,Q);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Bc(){function p(S){return E.call(p.src,p.listener,S)}const E=_t;return p}function lo(p,E,S,k,Q){if(Array.isArray(E))for(var se=0;se<E.length;se++)lo(p,E[se],S,k,Q);else k=d(k)?!!k.capture:!!k,S=Qr(S),p&&p[$t]?(p=p.i,E=String(E).toString(),E in p.g&&(se=p.g[E],S=Vn(se,S,k,Q),-1<S&&(ci(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete p.g[E],p.h--)))):p&&(p=wt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Vn(E,S,k,Q)),(S=-1<p?E[p]:null)&&Ji(S))}function Ji(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[$t])hr(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Fe(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=wt(E))?(hr(S,p),S.h==0&&(S.src=null,E[Yr]=null)):ci(p)}}}function Fe(p){return p in oo?oo[p]:oo[p]="on"+p}function _t(p,E){if(p.da)p=!0;else{E=new ke(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&Ji(p),p=S.call(k,E)}return p}function wt(p){return p=p[Yr],p instanceof Pr?p:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(p){return typeof p=="function"?p:(p[hi]||(p[hi]=function(E){return p.handleEvent(E)}),p[hi])}function st(){ge.call(this),this.i=new Pr(this),this.M=this,this.F=null}b(st,ge),st.prototype[$t]=!0,st.prototype.removeEventListener=function(p,E,S,k){lo(this,p,E,S,k)};function Ue(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new me(E,p);else if(E instanceof me)E.target=E.target||p;else{var Q=E;E=new me(k,p),w(E,Q)}if(Q=!0,S)for(var se=S.length-1;0<=se;se--){var _e=E.g=S[se];Q=Gt(_e,k,!0,E)&&Q}if(_e=E.g=p,Q=Gt(_e,k,!0,E)&&Q,Q=Gt(_e,k,!1,E)&&Q,S)for(se=0;se<S.length;se++)_e=E.g=S[se],Q=Gt(_e,k,!1,E)&&Q}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)ci(S[k]);delete p.g[E],p.h--}}this.F=null},st.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},st.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Gt(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,se=0;se<E.length;++se){var _e=E[se];if(_e&&!_e.da&&_e.capture==S){var We=_e.listener,dn=_e.ha||_e.src;_e.fa&&hr(p.i,_e),Q=We.call(dn,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function en(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Qf(p){p.g=en(()=>{p.g=null,p.i&&(p.i=!1,Qf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class e_ extends ge{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(p){ge.call(this),this.h=p,this.g={}}b(uo,ge);var co=[];function ho(p){K(p.g,function(E,S){this.g.hasOwnProperty(S)&&Ji(E)},p),p.g={}}uo.prototype.N=function(){uo.aa.N.call(this),ho(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=h.JSON.stringify,Pl=h.JSON.parse,fo=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Fc(){}Fc.prototype.h=null;function zc(p){return p.h||(p.h=p.i())}function jc(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){me.call(this,"d")}b(es,me);function qc(){me.call(this,"c")}b(qc,me);var di={},Hc=null;function Ws(){return Hc=Hc||new st}di.La="serverreachability";function Ol(p){me.call(this,di.La,p)}b(Ol,me);function Ys(p){const E=Ws();Ue(E,new Ol(E))}di.STAT_EVENT="statevent";function Xf(p,E){me.call(this,di.STAT_EVENT,p),this.stat=E}b(Xf,me);function Tt(p){const E=Ws();Ue(E,new Xf(E,p))}di.Ma="timingevent";function hn(p,E){me.call(this,di.Ma,p),this.size=E}b(hn,me);function tn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Or(){this.g=!0}Or.prototype.xa=function(){this.g=!1};function $c(p,E,S,k,Q,se){p.info(function(){if(p.g)if(se)for(var _e="",We=se.split("&"),dn=0;dn<We.length;dn++){var Ye=We[dn].split("=");if(1<Ye.length){var vn=Ye[0];Ye=Ye[1];var fn=vn.split("_");_e=2<=fn.length&&fn[1]=="type"?_e+(vn+"="+Ye+"&"):_e+(vn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+E+`
`+S+`
`+_e})}function t_(p,E,S,k,Q,se,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+E+`
`+S+`
`+se+" "+_e})}function Qs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+po(p,S)+(k?" "+k:"")})}function Jf(p,E){p.info(function(){return"TIMEOUT: "+E})}Or.prototype.info=function(){};function po(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Q=k[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return Xr(S)}catch{return E}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function pi(){}b(pi,Fc),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},fi=new pi;function $n(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Gc={},Dl={};function Jr(p,E,S){p.L=1,p.v=vo(dr(E)),p.m=S,p.P=!0,ns(p,null)}function ns(p,E){p.F=Date.now(),mo(p),p.A=dr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),Jc(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Kt,p.g=pp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new e_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(co[0]=Q.toString()),Q=co);for(var se=0;se<Q.length;se++){var _e=xl(S,Q[se],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ys(),$c(p.i,p.u,p.A,p.l,p.R,p.m)}$n.prototype.ca=function(p){p=p.target;const E=this.M;E&&Mr(p)==3?E.j():this.Y(p)},$n.prototype.Y=function(p){try{if(p==this.g)e:{const fn=Mr(this.g);var E=this.g.Ba();const cs=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||ap(this.g)))){this.J||fn!=4||E==7||(E==8||0>=cs?Ys(3):Ys(2)),Js(this);var S=this.g.Z();this.X=S;t:if(Zf(this)){var k=ap(this.g);p="";var Q=k.length,se=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),mi(this);var _e="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(se&&E==Q-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,t_(this.i,this.u,this.A,this.l,this.R,fn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,dn=this.g;if((We=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Ye=We;break t}}Ye=null}if(S=Ye)Qs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,S);else{this.o=!1,this.s=3,Tt(12),Rn(this),mi(this);break e}}if(this.P){S=!0;let Cn;for(;!this.J&&this.C<_e.length;)if(Cn=ep(this,_e),Cn==Dl){fn==4&&(this.s=4,Tt(14),S=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Gc){this.s=4,Tt(15),Qs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Qs(this.i,this.l,Cn,null),go(this,Cn);if(Zf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||_e.length!=0||this.h.h||(this.s=1,Tt(16),S=!1),this.o=this.o&&S,!S)Qs(this.i,this.l,_e,"[Invalid Chunked Response]"),Rn(this),mi(this);else if(0<_e.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Ro(vn),vn.M=!0,Tt(11))}}else Qs(this.i,this.l,_e,null),go(this,_e);fn==4&&Rn(this),this.o&&!this.J&&(fn==4?hp(this.j,this):(this.o=!1,mo(this)))}else a_(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Rn(this),mi(this)}}}catch{}finally{}};function Zf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ep(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?Dl:(S=Number(E.substring(S,k)),isNaN(S)?Gc:(k+=1,k+S>E.length?Dl:(E=E.slice(k,k+S),p.C=k+S,E)))}$n.prototype.cancel=function(){this.J=!0,Rn(this)};function mo(p){p.S=Date.now()+p.I,tp(p,p.I)}function tp(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=tn(v(p.ba,p),E)}function Js(p){p.B&&(h.clearTimeout(p.B),p.B=null)}$n.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Jf(this.i,this.A),this.L!=2&&(Ys(),Tt(17)),Rn(this),this.s=2,mi(this)):tp(this,this.S-p)};function mi(p){p.j.G==0||p.J||hp(p.j,p)}function Rn(p){Js(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,ho(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function go(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||Kc(S.h,p))){if(!p.K&&Kc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Hl(S),jl(S);else break e;rh(S),Tt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(v(S.Za,S),6e3));if(1>=kl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else us(S,11)}else if((p.K||S.g==p)&&Hl(S),!L(E))for(Q=S.Da.g.parse(E),E=0;E<Q.length;E++){let Ye=Q[E];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const vn=Ye[3];vn!=null&&(S.la=vn,S.j.info("VER="+S.la));const fn=Ye[4];fn!=null&&(S.Aa=fn,S.j.info("SVER="+S.Aa));const cs=Ye[5];cs!=null&&typeof cs=="number"&&0<cs&&(k=1.5*cs,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Cn=p.g;if(Cn){const wi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var se=k.h;se.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ml(se,se.h),se.h=null))}if(k.D){const sh=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;sh&&(k.ya=sh,ct(k.I,k.D,sh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=fp(k,k.J?k.ia:null,k.W),_e.K){Gn(k.h,_e);var We=_e,dn=k.L;dn&&(We.I=dn),We.B&&(Js(We),mo(We)),k.g=_e}else up(k);0<S.i.length&&ql(S)}else Ye[0]!="stop"&&Ye[0]!="close"||us(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?us(S,7):th(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}Ys(4)}catch{}}var np=class{constructor(p,E){this.g=p,this.map=E}};function rs(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function kl(p){return p.h?1:p.g?p.g.size:0}function Kc(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Ml(p,E){p.g?p.g.add(E):p.h=E}function Gn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}rs.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Wc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return A(p.i)}function n_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Vl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function Yc(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Vl(p),k=n_(p),Q=k.length,se=0;se<Q;se++)E.call(void 0,k[se],S&&S[se],p)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function r_(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Q=null;if(0<=k){var se=p[S].substring(0,k);Q=p[S].substring(k+1)}else se=p[S];E(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function nn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof nn){this.h=p.h,_o(this,p.j),this.o=p.o,this.g=p.g,Zs(this,p.s),this.l=p.l;var E=p.i,S=new ss;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),is(this,S),this.m=p.m}else p&&(E=String(p).match(yo))?(this.h=!1,_o(this,E[1]||"",!0),this.o=Dr(E[2]||""),this.g=Dr(E[3]||"",!0),Zs(this,E[4]),this.l=Dr(E[5]||"",!0),is(this,E[6]||"",!0),this.m=Dr(E[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}nn.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Eo(E,Qc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Eo(E,Qc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Eo(S,S.charAt(0)=="/"?i_:Xc,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Eo(S,Ll)),p.join("")};function dr(p){return new nn(p)}function _o(p,E,S){p.j=S?Dr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Zs(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function is(p,E,S){E instanceof ss?(p.i=E,ip(p.i,p.h)):(S||(E=Eo(E,s_)),p.i=new ss(E,p.h))}function ct(p,E,S){p.i.set(E,S)}function vo(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Dr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Eo(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,rp),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function rp(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Qc=/[#\/\?@]/g,Xc=/[#\?:]/g,i_=/[#\?]/g,s_=/[#\?@]/g,Ll=/#/g;function ss(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Nr(p){p.g||(p.g=new Map,p.h=0,p.i&&r_(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=ss.prototype,n.add=function(p,E){Nr(this),this.i=null,p=gi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function as(p,E){Nr(p),E=gi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function os(p,E){return Nr(p),E=gi(p,E),p.g.has(E)}n.forEach=function(p,E){Nr(this),this.g.forEach(function(S,k){S.forEach(function(Q){p.call(E,Q,k,this)},this)},this)},n.na=function(){Nr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Q=p[k];for(let se=0;se<Q.length;se++)S.push(E[k])}return S},n.V=function(p){Nr(this);let E=[];if(typeof p=="string")os(this,p)&&(E=E.concat(this.g.get(gi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Nr(this),this.i=null,p=gi(this,p),os(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Jc(p,E,S){as(p,E),0<S.length&&(p.i=null,p.g.set(gi(p,E),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const se=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Q=se;_e[k]!==""&&(Q+="="+encodeURIComponent(String(_e[k]))),p.push(Q)}}return this.i=p.join("&")};function gi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function ip(p,E){E&&!p.j&&(Nr(p),p.i=null,p.g.forEach(function(S,k){var Q=k.toLowerCase();k!=Q&&(as(this,k),Jc(this,Q,S))},p)),p.j=E}function bo(p,E){const S=new Or;if(h.Image){const k=new Image;k.onload=T(kr,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(kr,S,"TestLoadImage: error",!1,E,k),k.onabort=T(kr,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(kr,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function Zr(p,E){const S=new Or,k=new AbortController,Q=setTimeout(()=>{k.abort(),kr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(se=>{clearTimeout(Q),se.ok?kr(S,"TestPingServer: ok",!0,E):kr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),kr(S,"TestPingServer: error",!1,E)})}function kr(p,E,S,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(S)}catch{}}function wo(){this.g=new fo}function yi(p,E,S){const k=S||"";try{Yc(p,function(Q,se){let _e=Q;d(Q)&&(_e=Xr(Q)),E.push(k+se+"="+encodeURIComponent(_e))})}catch(Q){throw E.push(k+"type="+encodeURIComponent("_badmap")),Q}}function ea(p){this.l=p.Ub||null,this.j=p.eb||!1}b(ea,Fc),ea.prototype.g=function(){return new ls(this.l,this.j)},ea.prototype.i=function(p){return function(){return p}}({});function ls(p,E){st.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ls,st),n=ls.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,vi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?_i(this):vi(this),this.readyState==3&&Zc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,_i(this))},n.Qa=function(p){this.g&&(this.response=p,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(p){p.readyState=4,p.l=null,p.j=null,p.v=null,vi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function eh(p){let E="";return K(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function _n(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=eh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ct(p,E,S))}function it(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(it,st);var Ul=/^https?$/i,To=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?zc(this.o):zc(fi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(se){sp(this,se);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)S.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())S.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Q=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(To,E,void 0))||k||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of S)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{So(this),this.u=!0,this.g.send(p),this.u=!1}catch(se){sp(this,se)}};function sp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Bl(p),Ei(p)}function Bl(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Mr(p)!=4||p.Z()!=2)){if(p.u&&Mr(p)==4)en(p.Ea,0,p);else if(Ue(p,"readystatechange"),Mr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=_e===0){var Q=String(p.D).match(yo)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),k=!Ul.test(Q?Q.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var se=2<Mr(p)?p.g.statusText:""}catch{se=""}p.l=se+" ["+p.Z()+"]",Bl(p)}}finally{Ei(p)}}}}function Ei(p,E){if(p.g){So(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function So(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Mr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Pl(E)}};function ap(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function a_(p){const E={};p=(p.g&&2<=Mr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(L(p[k]))continue;var S=O(p[k]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=E[Q]||[];E[Q]=se,se.push(S)}M(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function zl(p){this.Aa=0,this.i=[],this.j=new Or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,p),this.cb=Ao("retryDelaySeedMs",1e4,p),this.Wa=Ao("forwardChannelMaxRetries",2,p),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(p&&p.concurrentRequestLimit),this.Da=new wo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){Tt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=fp(this,null,this.W),ql(this)};function th(p){if(op(p),p.G==3){var E=p.U++,S=dr(p.I);if(ct(S,"SID",p.K),ct(S,"RID",E),ct(S,"TYPE","terminate"),Io(p,S),E=new $n(p,p.j,E),E.L=2,E.v=vo(dr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=pp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),mo(E)}dp(p)}function jl(p){p.g&&(Ro(p),p.g.cancel(),p.g=null)}function op(p){jl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ql(p){if(!Nl(p.h)&&!p.s){p.s=!0;var E=p.Ga;J||j(),le||(J(),le=!0),be.add(E,p),p.B=0}}function o_(p,E){return kl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=tn(v(p.Ga,p,E),ih(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new $n(this,this.j,p);let se=this.o;if(this.S&&(se?(se=R(se),w(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=lp(this,Q,E),S=dr(this.I),ct(S,"RID",p),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),Io(this,S),se&&(this.O?E="headers="+encodeURIComponent(String(eh(se)))+"&"+E:this.m&&_n(S,this.m,se)),Ml(this.h,Q),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",E),ct(S,"SID","null"),Q.T=!0,Jr(Q,S,null)):Jr(Q,S,E),this.G=2}}else this.G==3&&(p?nh(this,p):this.i.length==0||Nl(this.h)||nh(this))};function nh(p,E){var S;E?S=E.l:S=p.U++;const k=dr(p.I);ct(k,"SID",p.K),ct(k,"RID",S),ct(k,"AID",p.T),Io(p,k),p.m&&p.o&&_n(k,p.m,p.o),S=new $n(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=lp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ml(p.h,S),Jr(S,k,E)}function Io(p,E){p.H&&K(p.H,function(S,k){ct(E,k,S)}),p.l&&Yc({},function(S,k){ct(E,k,S)})}function lp(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Q=p.i;let se=-1;for(;;){const _e=["count="+S];se==-1?0<S?(se=Q[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let We=!0;for(let dn=0;dn<S;dn++){let Ye=Q[dn].g;const vn=Q[dn].map;if(Ye-=se,0>Ye)se=Math.max(0,Q[dn].g-100),We=!1;else try{yi(vn,_e,"req"+Ye+"_")}catch{k&&k(vn)}}if(We){k=_e.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function up(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;J||j(),le||(J(),le=!0),be.add(E,p),p.v=0}}function rh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=tn(v(p.Fa,p),ih(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,cp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=tn(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),jl(this),cp(this))};function Ro(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function cp(p){p.g=new $n(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=dr(p.qa);ct(E,"RID","rpc"),ct(E,"SID",p.K),ct(E,"AID",p.T),ct(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(E,"TO",p.ja),ct(E,"TYPE","xmlhttp"),Io(p,E),p.m&&p.o&&_n(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=vo(dr(E)),S.m=null,S.P=!0,ns(S,p)}n.Za=function(){this.C!=null&&(this.C=null,jl(this),rh(this),Tt(19))};function Hl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function hp(p,E){var S=null;if(p.g==E){Hl(p),Ro(p),p.g=null;var k=2}else if(Kc(p.h,E))S=E.D,Gn(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Q=p.B;k=Ws(),Ue(k,new hn(k,S)),ql(p)}else up(p);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(k==1&&o_(p,E)||k==2&&rh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Q){case 1:us(p,5);break;case 4:us(p,10);break;case 3:us(p,6);break;default:us(p,2)}}}function ih(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function us(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Q=!k;k=new nn(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_o(k,"https"),vo(k),Q?bo(k.toString(),S):Zr(k.toString(),S)}else Tt(2);p.G=0,p.l&&p.l.sa(E),dp(p),op(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function dp(p){if(p.G=0,p.ka=[],p.l){const E=Wc(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function fp(p,E,S){var k=S instanceof nn?dr(S):new nn(S);if(k.g!="")E&&(k.g=E+"."+k.g),Zs(k,k.s);else{var Q=h.location;k=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new nn(null);k&&_o(se,k),E&&(se.g=E),Q&&Zs(se,Q),S&&(se.l=S),k=se}return S=p.D,E=p.ya,S&&E&&ct(k,S,E),ct(k,"VER",p.la),Io(p,k),k}function pp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new it(new ea({eb:S})):new it(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mp(){}n=mp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(p,E){return new Kn(p,E)};function Kn(p,E){st.call(this),this.g=new zl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new bi(this)}b(Kn,st),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){th(this.g)},Kn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Xr(p),p=S);E.i.push(new np(E.Ya++,p)),E.G==3&&ql(E)},Kn.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,Kn.aa.N.call(this)};function gp(p){es.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}b(gp,es);function yp(){qc.call(this),this.status=1}b(yp,qc);function bi(p){this.g=p}b(bi,mp),bi.prototype.ua=function(){Ue(this.g,"a")},bi.prototype.ta=function(p){Ue(this.g,new gp(p))},bi.prototype.sa=function(p){Ue(this.g,new yp)},bi.prototype.ra=function(){Ue(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,GP=function(){return new $l},$P=function(){return Ws()},HP=di,Y0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Bm=Xs,ts.COMPLETE="complete",qP=ts,jc.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",st.prototype.listen=st.prototype.K,vd=jc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,jP=it}).apply(typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{});const hR="@firebase/firestore",dR="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Wg("@firebase/firestore");function Nu(){return za.logLevel}function L5(n){za.setLogLevel(n)}function pe(n,...e){if(za.logLevel<=He.DEBUG){const t=e.map(Ab);za.debug(`Firestore (${Rc}): ${n}`,...t)}}function Qt(n,...e){if(za.logLevel<=He.ERROR){const t=e.map(Ab);za.error(`Firestore (${Rc}): ${n}`,...t)}}function Ki(n,...e){if(za.logLevel<=He.WARN){const t=e.map(Ab);za.warn(`Firestore (${Rc}): ${n}`,...t)}}function Ab(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KP(n,r,t)}function KP(n,e,t){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||KP(e,i,r)}function U5(n,e){n||we(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class F5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z5{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new WP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class j5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new j5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new fR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function Q0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=Ib(),u=G5(o.encode(pR(n,t)),o.encode(pR(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function pR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function G5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function Ju(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function QP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=-62135596800,gR=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gR);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mR)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gR}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Pt(0,0))}static max(){return new Ie(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Pi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):Q0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class $e extends Pi{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const K5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Pi{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return K5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yR}static keyField(){return new Ct([yR])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class _g{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function X0(n){return n.fields.find(e=>e.kind===2)}function Go(n){return n.fields.filter(e=>e.kind!==2)}_g.UNKNOWN_ID=-1;class Fm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qd(0,Cr.min())}}function XP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Cr(i,ve.empty(),e)}function JP(n){return new Cr(n.readTime,n.key,Zu)}class Cr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cr(Ie.min(),ve.empty(),Zu)}static max(){return new Cr(Ie.max(),ve.empty(),Zu)}}function Rb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==ZP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="SimpleDb";class oy{static open(e,t,r,i){try{return new oy(t,e.transaction(i,r))}catch(o){throw new Od(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Mn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Od(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Cb(r.target.error);this.S.reject(new Od(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Y5(t)}}class zi{static delete(e){return pe(wr,"Removing database:",e),Wo(tb().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Hd())return!1;if(zi.F())return!0;const e=Vt(),t=zi.M(e),r=0<t&&t<10,i=tO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,zi.M(Vt())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(wr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Od(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Od(e,u))},i.onupgradeneeded=o=>{pe(wr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(wr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=oy.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(wr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class W5{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Wo(this.K.delete())}}class Od extends fe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ro(n){return n.name==="IndexedDbTransactionError"}class Y5{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(wr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wo(r)}add(e){return pe(wr,"ADD",this.store.name,e,e),Wo(this.store.add(e))}get(e){return Wo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(wr,"GET",this.store.name,e,t),t))}delete(e){return pe(wr,"DELETE",this.store.name,e),Wo(this.store.delete(e))}count(){return pe(wr,"COUNT",this.store.name),Wo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(wr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Cb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new W5(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(_=>(f.done(),X.reject(_)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Cb(r.target.error);t(i)}})}let _R=!1;function Cb(n){const e=zi.M(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _R||(_R=!0,setTimeout(()=>{throw r},0)),r}}return n}const Dd="IndexBackfiller";class Q5{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(Dd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(Dd,`Documents written: ${t}`)}catch(t){ro(t)?pe(Dd,"Ignoring IndexedDB error during index backfill: ",t):await no(t)}await this.ie(6e4)})}}class X5{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Dd,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(Dd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=JP(o);Rb(u,r)>0&&(r=u)}),new Cr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=-1;function xf(n){return n==null}function Xd(n){return n===0&&1/n==-1/0}function nO(n){return typeof n=="number"&&Number.isInteger(n)&&!Xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="";function qn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vR(e)),e=J5(n.get(t),e);return vR(e)}function J5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case vg:t+="";break;default:t+=o}}return t}function vR(n){return n+vg+""}function Bi(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===vg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(vg,o);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="remoteDocuments",Pf="owner",bu="owner",Jd="mutationQueues",Z5="userId",ii="mutations",ER="batchId",el="userMutationsIndex",bR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){return[n,qn(e)]}function rO(n,e,t){return[n,qn(e),t]}const e9={},ec="documentMutations",Eg="remoteDocumentsV14",t9=["prefixPath","collectionGroup","readTime","documentId"],jm="documentKeyIndex",n9=["prefixPath","collectionGroup","documentId"],iO="collectionGroupIndex",r9=["collectionGroup","readTime","prefixPath","documentId"],Zd="remoteDocumentGlobal",J0="remoteDocumentGlobalKey",tc="targets",sO="queryTargetsIndex",i9=["canonicalId","targetId"],nc="targetDocuments",s9=["targetId","path"],xb="documentTargetsIndex",a9=["path","targetId"],bg="targetGlobalKey",al="targetGlobal",ef="collectionParents",o9=["collectionId","parent"],rc="clientMetadata",l9="clientId",ly="bundles",u9="bundleId",uy="namedQueries",c9="name",Pb="indexConfiguration",h9="indexId",Z0="collectionGroupIndex",d9="collectionGroup",Nd="indexState",f9=["indexId","uid"],aO="sequenceNumberIndex",p9=["uid","sequenceNumber"],kd="indexEntries",m9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oO="documentKeyIndex",g9=["indexId","uid","orderedDocumentKey"],cy="documentOverlays",y9=["userId","collectionPath","documentId"],eE="collectionPathOverlayIndex",_9=["userId","collectionPath","largestBatchId"],lO="collectionGroupOverlayIndex",v9=["userId","collectionGroup","largestBatchId"],Ob="globals",E9="name",uO=[Jd,ii,ec,Ko,tc,Pf,al,nc,rc,Zd,ef,ly,uy],b9=[...uO,cy],cO=[Jd,ii,ec,Eg,tc,Pf,al,nc,rc,Zd,ef,ly,uy,cy],hO=cO,Db=[...hO,Pb,Nd,kd],w9=Db,dO=[...Db,Ob],T9=dO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends eO{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function yn(n,e){const t=Ee(n);return zi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bm(this.root,e,this.comparator,!0)}}class bm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TR(this.data.getIterator())}getIteratorFrom(e){return new TR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class TR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new ar([])}unionWith(e){let t=new ut(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pO("Invalid base64 string: "+o):o}}(e);return new jt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const A9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=A9.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="server_timestamp",gO="__type__",yO="__previous_value__",_O="__local_write_time__";function hy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gO])===null||t===void 0?void 0:t.stringValue)===mO}function dy(n){const e=n.mapValue.fields[yO];return hy(e)?dy(e):e}function tf(n){const e=Ls(n.mapValue.fields[_O].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const nE="(default)";class ja{constructor(e,t){this.projectId=e,this.database=t||nE}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database===nE}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__type__",vO="__max__",xa={mapValue:{fields:{__type__:{stringValue:vO}}}},kb="__vector__",ic="value",qm={nullValue:"NULL_VALUE"};function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:EO(n)?9007199254740991:fy(n)?10:11:we(28295,{value:n})}function Wi(n,e){if(n===e)return!0;const t=qa(n);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tf(n).isEqual(tf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ls(i.timestampValue),h=Ls(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=It(i.doubleValue),h=It(o.doubleValue);return u===h?Xd(u)===Xd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ju(n.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(wR(u)!==wR(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Wi(u[f],h[f])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function nf(n,e){return(n.values||[]).find(t=>Wi(t,e))!==void 0}function Ha(n,e){if(n===e)return 0;const t=qa(n),r=qa(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return SR(n.timestampValue,e.timestampValue);case 4:return SR(tf(n),tf(e));case 5:return Q0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Us(o),f=Us(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(It(o.latitude),It(u.latitude));return h!==0?h:De(It(o.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ic])===null||h===void 0?void 0:h.arrayValue,b=(f=v[ic])===null||f===void 0?void 0:f.arrayValue,A=De(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:AR(T,b)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===xa.mapValue&&u===xa.mapValue)return 0;if(o===xa.mapValue)return 1;if(u===xa.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=Q0(f[_],g[_]);if(v!==0)return v;const T=Ha(h[f[_]],d[g[_]]);if(T!==0)return T}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function SR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ls(n),r=Ls(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function AR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ha(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function sc(n){return rE(n)}function rE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ls(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=rE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${rE(t.fields[u])}`;return i+"}"}(n.mapValue):we(61005,{value:n})}function Hm(n){switch(qa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(n);return e?16+Hm(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Hm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return io(r.fields,(o,u)=>{i+=o.length+Hm(u)}),i}(n.mapValue);default:throw we(13486,{value:n})}}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iE(n){return!!n&&"integerValue"in n}function rf(n){return!!n&&"arrayValue"in n}function IR(n){return!!n&&"nullValue"in n}function RR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $m(n){return!!n&&"mapValue"in n}function fy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||t===void 0?void 0:t.stringValue)===kb}function Md(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Md(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Md(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vO}const bO={mapValue:{fields:{[Nb]:{stringValue:kb},[ic]:{arrayValue:{}}}}};function R9(n){return"nullValue"in n?qm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cl(ja.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?fy(n)?bO:{mapValue:{}}:we(35942,{value:n})}function C9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cl(ja.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?bO:"mapValue"in n?fy(n)?{mapValue:{}}:xa:we(61959,{value:n})}function CR(n,e){const t=Ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xR(n,e){const t=Ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Md(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());$m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){io(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Md(this.value))}}function wO(n){const e=[];return io(n.fields,(t,r)=>{const i=new Ct([t]);if($m(r)){const o=wO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new bt(e,0,Ie.min(),Ie.min(),Ie.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new bt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new bt(e,2,t,Ie.min(),Ie.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,Ie.min(),Ie.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.position=e,this.inclusive=t}}function PR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Ha(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function x9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{}class Ge extends TO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P9(e,t,r):t==="array-contains"?new N9(e,r):t==="in"?new xO(e,r):t==="not-in"?new k9(e,r):t==="array-contains-any"?new M9(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new O9(e,r):new D9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ha(t,this.value)):t!==null&&qa(this.value)===qa(t)&&this.matchesComparison(Ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends TO{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lt(e,t)}matches(e){return ac(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ac(n){return n.op==="and"}function sE(n){return n.op==="or"}function Mb(n){return SO(n)&&ac(n)}function SO(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function aE(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+sc(n.value);if(Mb(n))return n.filters.map(e=>aE(e)).join(",");{const e=n.filters.map(t=>aE(t)).join(",");return`${n.op}(${e})`}}function AO(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Wi(r.value,i.value)}(n,e):n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&AO(u,i.filters[h]),!0):!1}(n,e):void we(19439)}function IO(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function RO(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${sc(t.value)}`}(n):n instanceof lt?function(t){return t.op.toString()+" {"+t.getFilters().map(RO).join(" ,")+"}"}(n):"Filter"}class P9 extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class O9 extends Ge{constructor(e,t){super(e,"in",t),this.keys=CO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D9 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=CO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class N9 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rf(t)&&nf(t.arrayValue,this.value)}}class xO extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nf(this.value.arrayValue,t)}}class k9 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nf(this.value.arrayValue,t)}}class M9 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function oE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new V9(n,e,t,r,i,o,u)}function hl(n){const e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>aE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sc(r)).join(",")),e.Ie=t}return e.Ie}function Of(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OR(n.startAt,e.startAt)&&OR(n.endAt,e.endAt)}function wg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Tg(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function DR(n,e,t){let r=qm,i=!0;for(const o of Tg(n,e)){let u=qm,h=!0;switch(o.op){case"<":case"<=":u=R9(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=qm}CR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];CR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function NR(n,e,t){let r=xa,i=!0;for(const o of Tg(n,e)){let u=xa,h=!0;switch(o.op){case">=":case">":u=C9(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=xa}xR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];xR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PO(n,e,t,r,i,o,u,h){return new Hs(n,e,t,r,i,o,u,h)}function Cc(n){return new Hs(n)}function kR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vb(n){return n.collectionGroup!==null}function qu(n){const e=Ee(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(Ct.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new sf(o,r))}),t.has(Ct.keyField().canonicalString())||e.Ee.push(new sf(Ct.keyField(),r))}return e.Ee}function Jn(n){const e=Ee(n);return e.de||(e.de=L9(e,qu(n))),e.de}function L9(n,e){if(n.limitType==="F")return oE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new sf(i.field,o)});const t=n.endAt?new $a(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $a(n.startAt.position,n.startAt.inclusive):null;return oE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lE(n,e){const t=n.filters.concat([e]);return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sg(n,e,t){return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Df(n,e){return Of(Jn(n),Jn(e))&&n.limitType===e.limitType}function OO(n){return`${hl(Jn(n))}|lt:${n.limitType}`}function ku(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>RO(i)).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>sc(i)).join(",")),`Target(${r})`}(Jn(n))}; limitType=${n.limitType})`}function Nf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of qu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=PR(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,qu(r),i)||r.endAt&&!function(u,h,f){const d=PR(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,qu(r),i))}(n,e)}function DO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NO(n){return(e,t)=>{let r=!1;for(const i of qu(n)){const o=U9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function U9(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ha(f,d):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new Et(ve.comparator);function or(){return B9}const kO=new Et(ve.comparator);function Ed(...n){let e=kO;for(const t of n)e=e.insert(t.key,t);return e}function MO(n){let e=kO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fi(){return Vd()}function VO(){return Vd()}function Vd(){return new $s(n=>n.toString(),(n,e)=>n.isEqual(e))}const F9=new Et(ve.comparator),z9=new ut(ve.comparator);function Ve(...n){let e=z9;for(const t of n)e=e.add(t);return e}const j9=new ut(De);function Lb(){return j9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function LO(n){return{integerValue:""+n}}function UO(n,e){return nO(e)?LO(e):Ub(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this._=void 0}}function q9(n,e,t){return n instanceof oc?function(i,o){const u={fields:{[gO]:{stringValue:mO},[_O]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hy(o)&&(o=dy(o)),o&&(u.fields[yO]=o),{mapValue:u}}(t,e):n instanceof dl?FO(n,e):n instanceof fl?zO(n,e):function(i,o){const u=BO(i,o),h=MR(u)+MR(i.Re);return iE(u)&&iE(i.Re)?LO(h):Ub(i.serializer,h)}(n,e)}function H9(n,e,t){return n instanceof dl?FO(n,e):n instanceof fl?zO(n,e):t}function BO(n,e){return n instanceof lc?function(r){return iE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class oc extends py{}class dl extends py{constructor(e){super(),this.elements=e}}function FO(n,e){const t=jO(e);for(const r of n.elements)t.some(i=>Wi(i,r))||t.push(r);return{arrayValue:{values:t}}}class fl extends py{constructor(e){super(),this.elements=e}}function zO(n,e){let t=jO(e);for(const r of n.elements)t=t.filter(i=>!Wi(i,r));return{arrayValue:{values:t}}}class lc extends py{constructor(e,t){super(),this.serializer=e,this.Re=t}}function MR(n){return It(n.integerValue||n.doubleValue)}function jO(n){return rf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.field=e,this.transform=t}}function $9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof dl&&i instanceof dl||r instanceof fl&&i instanceof fl?Ju(r.elements,i.elements,Wi):r instanceof lc&&i instanceof lc?Wi(r.Re,i.Re):r instanceof oc&&i instanceof oc}(n.transform,e.transform)}class G9{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class my{}function qO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pc(n.key,xt.none()):new xc(n.key,n.data,xt.none());{const t=n.data,r=kn.empty();let i=new ut(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Gs(n.key,r,new ar(i.toArray()),xt.none())}}function K9(n,e,t){n instanceof xc?function(i,o,u){const h=i.value.clone(),f=LR(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Gs?function(i,o,u){if(!Gm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=LR(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(HO(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ld(n,e,t,r){return n instanceof xc?function(o,u,h,f){if(!Gm(o.precondition,u))return h;const d=o.value.clone(),g=UR(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Gs?function(o,u,h,f){if(!Gm(o.precondition,u))return h;const d=UR(o.fieldTransforms,f,u),g=u.data;return g.setAll(HO(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Gm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function W9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=BO(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function VR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(o,u)=>$9(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xc extends my{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gs extends my{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LR(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,H9(u,h,t[i]))}return r}function UR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,q9(o,u,e))}return r}class Pc extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&K9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=VO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=qO(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(t,r)=>VR(t,r))&&Ju(this.baseMutations,e.baseMutations,(t,r)=>VR(t,r))}}class zb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return F9}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new zb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Xe;function $O(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function GO(n){if(n===void 0)return Qt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case an.OK:return ie.OK;case an.CANCELLED:return ie.CANCELLED;case an.UNKNOWN:return ie.UNKNOWN;case an.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case an.INTERNAL:return ie.INTERNAL;case an.UNAVAILABLE:return ie.UNAVAILABLE;case an.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case an.NOT_FOUND:return ie.NOT_FOUND;case an.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case an.ABORTED:return ie.ABORTED;case an.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case an.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(Xe=an||(an={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new ka([4294967295,4294967295],0);function BR(n){const e=Ib().encode(n),t=new zP;return t.update(e),new Uint8Array(t.digest())}function FR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([t,r],0),new ka([i,o],0)]}class qb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bd(`Invalid padding: ${t}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ka.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ka.fromNumber(r)));return i.compare(Q9)===1&&(i=new ka([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=BR(e),[r,i]=FR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new qb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=BR(e),[r,i]=FR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mf(Ie.min(),i,new Et(De),or(),Ve())}}class Vf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class KO{constructor(e,t){this.targetId=e,this.Ce=t}}class WO{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zR{constructor(){this.Fe=0,this.Me=jR(),this.xe=jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we(38017,{changeType:o})}}),new Vf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=jR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class X9{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=wm(),this.Ye=wm(),this.Ze=new Et(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(wg(o))if(r===0){const u=new ve(o.path);this.tt(t,u,bt.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Us(r).toUint8Array()}catch(f){if(f instanceof pO)return Ki("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new qb(u,i,o)}catch(f){return Ki(f instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&wg(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,bt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Mf(e,t,this.Ze,this.He,r);return this.He=or(),this.Je=wm(),this.Ye=wm(),this.Ze=new Et(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new zR,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ut(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ut(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zR),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wm(){return new Et(ve.comparator)}function jR(){return new Et(ve.comparator)}const J9={asc:"ASCENDING",desc:"DESCENDING"},Z9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eB={and:"AND",or:"OR"};class tB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uE(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nB(n,e){return uc(n,e.toTimestamp())}function Xt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Ls(t);return new Pt(r.seconds,r.nanos)}(n))}function Hb(n,e){return cE(n,e).canonicalString()}function cE(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function QO(n){const e=$e.fromString(n);return Ae(aD(e),10190,{key:e.toString()}),e}function af(n,e){return Hb(n.databaseId,e.path)}function ji(n,e){const t=QO(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(ZO(t))}function XO(n,e){return Hb(n.databaseId,e)}function JO(n){const e=QO(n);return e.length===4?$e.emptyPath():ZO(e)}function hE(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZO(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qR(n,e,t){return{name:af(n,e),fields:t.value.mapValue.fields}}function eD(n,e,t){const r=ji(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ie.min(),u=new kn({mapValue:{fields:e.fields}}),h=bt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function rB(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=ji(r,i.found.name),u=Xt(i.found.updateTime),h=i.found.createTime?Xt(i.found.createTime):Ie.min(),f=new kn({mapValue:{fields:i.found.fields}});return bt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=ji(r,i.missing),u=Xt(i.readTime);return bt.newNoDocument(o,u)}(n,e):we(7234,{result:e})}function iB(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),jt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ie.UNKNOWN:GO(d.code);return new fe(g,d.message||"")}(u);t=new WO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ji(n,r.document.name),o=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ie.min(),h=new kn({mapValue:{fields:r.document.fields}}),f=bt.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Km(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ji(n,r.document),o=r.readTime?Xt(r.readTime):Ie.min(),u=bt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Km([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ji(n,r.document),o=r.removedTargetIds||[];t=new Km([],o,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new Y9(i,o),h=r.targetId;t=new KO(h,u)}}return t}function of(n,e){let t;if(e instanceof xc)t={update:qR(n,e.key,e.value)};else if(e instanceof Pc)t={delete:af(n,e.key)};else if(e instanceof Gs)t={update:qR(n,e.key,e.data),updateMask:cB(e.fieldMask)};else{if(!(e instanceof Bb))return we(16599,{ft:e.type});t={verify:af(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof oc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(n,e.precondition)),t}function dE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?xt.updateTime(Xt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new oc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new dl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new fl(g)}else"increment"in h?f=new lc(u,h.increment):we(16584,{proto:h});const d=Ct.fromServerFormat(h.fieldPath);return new kf(d,f)}(n,i)):[];if(e.update){e.update.name;const i=ji(n,e.update.name),o=new kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new ar(d.map(g=>Ct.fromServerFormat(g)))}(e.updateMask);return new Gs(i,o,u,t,r)}return new xc(i,o,t,r)}if(e.delete){const i=ji(n,e.delete);return new Pc(i,t)}if(e.verify){const i=ji(n,e.verify);return new Bb(i,t)}return we(1463,{proto:e})}function sB(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Xt(i.updateTime):Xt(o);return u.isEqual(Ie.min())&&(u=Xt(o)),new G9(u,i.transformResults||[])}(t,e))):[]}function tD(n,e){return{documents:[XO(n,e.path)]}}function nD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XO(n,i);const o=function(d){if(d.length!==0)return sD(lt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Mu(v.field),direction:oB(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=uE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function rD(n){let e=JO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=iD(_);return v instanceof lt&&Mb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(b){return new sf(Vu(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,xf(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(_){const v=!!_.before,T=_.values||[];return new $a(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,T=_.values||[];return new $a(T,v)}(t.endAt)),PO(e,i,u,o,h,"F",f,d)}function aB(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vu(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vu(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Vu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lt.create(t.compositeFilter.filters.map(r=>iD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function oB(n){return J9[n]}function lB(n){return Z9[n]}function uB(n){return eB[n]}function Mu(n){return{fieldPath:n.canonicalString()}}function Vu(n){return Ct.fromServerFormat(n.fieldPath)}function sD(n){return n instanceof Ge?function(t){if(t.op==="=="){if(RR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NAN"}};if(IR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NAN"}};if(IR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(t.field),op:lB(t.op),value:t.value}}}(n):n instanceof lt?function(t){const r=t.getFilters().map(i=>sD(i));return r.length===1?r[0]:{compositeFilter:{op:uB(t.op),filters:r}}}(n):we(54877,{filter:n})}function cB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.wt=e}}function hB(n,e){let t;if(e.document)t=eD(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=ml(e.noDocument.readTime);t=bt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=ml(e.unknownDocument.version);t=bt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Pt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function HR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:af(o,u.key),fields:u.data.value.mapValue.fields,updateTime:uc(o,u.version.toTimestamp()),createTime:uc(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pl(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:pl(e.version)}}return r}function Ag(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(n){const e=new Pt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Yo(n,e){const t=(e.baseMutations||[]).map(o=>dE(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>dE(n.wt,o)),i=Pt.fromMillis(e.localWriteTimeMs);return new Fb(e.batchId,i,t,r)}function wd(n){const e=ml(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ml(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),Jn(Cc(JO(o.documents[0])))}(n.query):function(o){return Jn(rD(o))}(n.query),new xs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function lD(n,e){const t=pl(e.snapshotVersion),r=pl(e.lastLimboFreeSnapshotVersion);let i;i=wg(e.target)?tD(n.wt,e.target):nD(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $b(n){const e=rD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sg(e,e.limit,"L"):e}function g0(n,e){return new jb(e.largestBatchId,dE(n.wt,e.overlayMutation))}function $R(n,e){const t=e.path.lastSegment();return[n,qn(e.path.popLast()),t]}function GR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:pl(r.readTime),documentKey:qn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{getBundleMetadata(e,t){return KR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ml(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return KR(e).put(function(i){return{bundleId:i.id,createTime:pl(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return WR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:$b(o.bundledQuery),readTime:ml(o.readTime)}}(r)})}saveNamedQuery(e,t){return WR(e).put(function(i){return{name:i.name,readTime:pl(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function KR(n){return yn(n,ly)}function WR(n){return yn(n,uy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new gy(e,r)}getOverlay(e,t){return Xh(e).get($R(this.userId,t)).next(r=>r?g0(this.serializer,r):null)}getOverlays(e,t){const r=Fi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new jb(t,u);i.push(this.bt(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(qn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Xh(e).X(eE,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Fi(),o=qn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Xh(e).J(eE,u).next(h=>{for(const f of h){const d=g0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Fi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xh(e).te({index:lO,range:h},(f,d,g)=>{const _=g0(this.serializer,d);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}bt(e,t){return Xh(e).put(function(i,o,u){const[h,f,d]=$R(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:of(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function Xh(n){return yn(n,cy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{Dt(e){return yn(e,Ob)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?jt.fromUint8Array(r):jt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Xd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Ls(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Us(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?EO(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):fy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):we(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=ic,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(It(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Qo.Wt=new Qo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=255;function pB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function YR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=pB(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class mB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=YR(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=YR(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(Tu),this._n(255)}an(){this.un(Tu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Tu?(this._n(Tu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Tu?(this.un(Tu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class gB{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class yB{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Jh{constructor(){this.ln=new mB,this.hn=new gB(this.ln),this.Pn=new yB(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t,r,i){this.In=e,this.En=t,this.dn=r,this.An=i}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new Xo(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Wm(this.dn),directionalValue:Wm(this.An),orderedDocumentKey:Wm(t),documentKey:r.path.toArray()}}mn(e,t,r){const i=this.Vn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Ta(n,e){let t=n.In-e.In;return t!==0?t:(t=QR(n.dn,e.dn),t!==0?t:(t=QR(n.An,e.An),t!==0?t:ve.comparator(n.En,e.En)))}function QR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Wm(n){return Ox()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function XR(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class JR{constructor(e){this.fn=new ut((t,r)=>Ct.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=X0(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Go(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new ut(Ct.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Fm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Fm(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Fm(r.field,r.dir==="asc"?0:1)));return new _g(_g.UNKNOWN_ID,this.collectionId,t,Qd.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){var e,t;if(Ae(n instanceof Ge||n instanceof lt,20012),n instanceof Ge){if(n instanceof xO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ge.create(n.field,"==",o)))||[];return lt.create(i,"or")}return n}const r=n.filters.map(i=>uD(i));return lt.create(r,n.op)}function _B(n){if(n.getFilters().length===0)return[];const e=mE(uD(n));return Ae(cD(e),7391),fE(e)||pE(e)?[e]:e.getFilters()}function fE(n){return n instanceof Ge}function pE(n){return n instanceof lt&&Mb(n)}function cD(n){return fE(n)||pE(n)||function(t){if(t instanceof lt&&sE(t)){for(const r of t.getFilters())if(!fE(r)&&!pE(r))return!1;return!0}return!1}(n)}function mE(n){if(Ae(n instanceof Ge||n instanceof lt,34018),n instanceof Ge)return n;if(n.filters.length===1)return mE(n.filters[0]);const e=n.filters.map(r=>mE(r));let t=lt.create(e,n.op);return t=Ig(t),cD(t)?t:(Ae(t instanceof lt,64498),Ae(ac(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>Gb(r,i)))}function Gb(n,e){let t;return Ae(n instanceof Ge||n instanceof lt,38388),Ae(e instanceof Ge||e instanceof lt,25473),t=n instanceof Ge?e instanceof Ge?function(i,o){return lt.create([i,o],"and")}(n,e):ZR(n,e):e instanceof Ge?ZR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),ac(i)&&ac(o))return IO(i,o.getFilters());const u=sE(i)?i:o,h=sE(i)?o:i,f=u.filters.map(d=>Gb(d,h));return lt.create(f,"or")}(n,e),Ig(t)}function ZR(n,e){if(ac(e))return IO(e,n.getFilters());{const t=e.filters.map(r=>Gb(n,r));return lt.create(t,"or")}}function Ig(n){if(Ae(n instanceof Ge||n instanceof lt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Ig(e[0]);if(SO(n))return n;const t=e.map(i=>Ig(i)),r=[];return t.forEach(i=>{i instanceof Ge?r.push(i):i instanceof lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.Cn=new Kb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Cr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="IndexedDbIndexManager",Tm=new Uint8Array(0);class EB{constructor(e,t){this.databaseId=t,this.Fn=new Kb,this.Mn=new $s(r=>hl(r),(r,i)=>Of(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:qn(i)};return t1(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[QP(t),""],!1,!0);return t1(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Bi(u.parent))}return r})}addFieldIndex(e,t){const r=Zh(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Au(e);return o.next(h=>{u.put(GR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Zh(e),i=Au(e),o=Su(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Zh(e),r=Su(e),i=Au(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.xn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new JR(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Su(e);let i=!0;const o=new Map;return X.forEach(this.xn(t),u=>this.On(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(e1,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(f)} to execute ${hl(t)}`);const g=function(U,$){const F=X0($);if(F===void 0)return null;for(const K of Tg(U,F.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(d,f),_=function(U,$){const F=new Map;for(const K of Go($))for(const M of Tg(U,K.fieldPath))switch(M.op){case"==":case"in":F.set(K.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return F.set(K.fieldPath.canonicalString(),M.value),Array.from(F.values())}return null}(d,f),v=function(U,$){const F=[];let K=!0;for(const M of Go($)){const R=M.kind===0?DR(U,M.fieldPath,U.startAt):NR(U,M.fieldPath,U.startAt);F.push(R.value),K&&(K=R.inclusive)}return new $a(F,K)}(d,f),T=function(U,$){const F=[];let K=!0;for(const M of Go($)){const R=M.kind===0?NR(U,M.fieldPath,U.endAt):DR(U,M.fieldPath,U.endAt);F.push(R.value),K&&(K=R.inclusive)}return new $a(F,K)}(d,f),b=this.Nn(f,d,v),A=this.Nn(f,d,T),x=this.Bn(f,d,_),V=this.Ln(f.indexId,g,b,v.inclusive,A,T.inclusive,x);return X.forEach(V,L=>r.Z(L,t.limit).next(U=>{U.forEach($=>{const F=ve.fromSegments($.documentKey);u.has(F)||(u=u.add(F),h.push(F))})}))}).next(()=>h)}return X.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=_B(lt.create(e.filters,"and")).map(r=>oE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let _=0;_<f;++_){const v=t?this.kn(t[_/d]):Tm,T=this.qn(e,v,r[_%d],i),b=this.Qn(e,v,o[_%d],u),A=h.map(x=>this.qn(e,v,x,!0));g.push(...this.createRange(T,b,A))}return g}qn(e,t,r,i){const o=new Xo(e,ve.empty(),t,r);return i?o:o.Rn()}Qn(e,t,r,i){const o=new Xo(e,ve.empty(),t,r);return i?o.Rn():o}On(e,t){const r=new JR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.xn(t);return X.forEach(i,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new ut(Ct.comparator),g=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}$n(e,t){const r=new Jh;for(const i of Go(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);Qo.Wt.vt(o,u)}return r.cn()}kn(e){const t=new Jh;return Qo.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new Jh;return Qo.Wt.vt(cl(this.databaseId,t),r.Tn(function(o){const u=Go(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let i=[];i.push(new Jh);let o=0;for(const u of Go(e)){const h=r[o++];for(const f of i)if(this.Kn(t,u.fieldPath)&&rf(h))i=this.Wn(i,u,h);else{const d=f.Tn(u.kind);Qo.Wt.vt(h,d)}}return this.Gn(i)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new Jh;f.seed(h.cn()),Qo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Zh(e),i=Au(e);return(t?r.J(Z0,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,_){const v=_?new Qd(_.sequenceNumber,new Cr(ml(_.readTime),new ve(Bi(_.documentKey)),_.largestBatchId)):Qd.empty(),T=g.fields.map(([b,A])=>new Fm(Ct.fromServerFormat(b),A));return new _g(g.indexId,g.collectionGroup,T,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Zh(e),o=Au(e);return this.zn(e).next(u=>i.J(Z0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(GR(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.jn(e,i,f).next(d=>{const g=this.Hn(o,f);return d.isEqual(g)?X.resolve():this.Jn(e,o,f,d,g)}))))})}Yn(e,t,r,i){return Su(e).put(i.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,i){return Su(e).delete(i.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const i=Su(e);let o=new ut(Ta);return i.te({index:oO,range:IDBKeyRange.only([r.indexId,this.uid,Wm(this.Un(r,t))])},(u,h)=>{o=o.add(new Xo(r.indexId,t,XR(h.arrayValue),XR(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new ut(Ta);const i=this.$n(t,e);if(i==null)return r;const o=X0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(rf(u))for(const h of u.arrayValue.values||[])r=r.add(new Xo(t.indexId,e.key,this.kn(h),i))}else r=r.add(new Xo(t.indexId,e.key,Tm,i));return r}Jn(e,t,r,i,o){pe(e1,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,_,v){const T=f.getIterator(),b=d.getIterator();let A=wu(T),x=wu(b);for(;A||x;){let V=!1,L=!1;if(A&&x){const U=g(A,x);U<0?L=!0:U>0&&(V=!0)}else A!=null?L=!0:V=!0;V?(_(x),x=wu(b)):L?(v(A),A=wu(T)):(A=wu(T),x=wu(b))}}(i,o,Ta,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),X.waitFor(u)}zn(e){let t=1;return Au(e).te({index:aO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Ta(u,h)).filter((u,h,f)=>!h||Ta(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Ta(u,e),f=Ta(u,t);if(h===0)i[0]=e.Rn();else if(h>0&&f<0)i.push(u),i.push(u.Rn());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Xn(i[u],i[u+1]))return[];const h=i[u].mn(this.uid,Tm,ve.empty()),f=i[u+1].mn(this.uid,Tm,ve.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return Ta(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(n1)}getMinOffset(e,t){return X.mapArray(this.xn(t),r=>this.On(e,r).next(i=>i||we(44426))).next(n1)}}function t1(n){return yn(n,ef)}function Su(n){return yn(n,kd)}function Zh(n){return yn(n,Pb)}function Au(n){return yn(n,Nd)}function n1(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Rb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Cr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hD=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(n,e,t){const r=n.store(ii),i=n.store(ec),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,_,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const _=rO(e,g.key.path,t.batchId);o.push(i.delete(_)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function Rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(hD,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class yy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.er={}}static St(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new yy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).te({index:el,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Lu(e),u=Sa(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new Fb(h,t,r,i),d=function(T,b,A){const x=A.baseMutations.map(L=>of(T.wt,L)),V=A.mutations.map(L=>of(T.wt,L));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:x,mutations:V}}(this.serializer,this.userId,f),g=[];let _=new ut((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=rO(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(T,e9))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Sa(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Yo(this.serializer,r)):null)}tr(e,t){return this.er[t]?X.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.er[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Sa(e).te({index:el,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{nr:r}),o=Yo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ma;return Sa(e).te({index:el,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ma],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).J(el,t).next(r=>r.map(i=>Yo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Lu(e).te({range:i},(u,h,f)=>{const[d,g,_]=u,v=Bi(g);if(d===this.userId&&t.path.isEqual(v))return Sa(e).get(_).next(T=>{if(!T)throw we(61480,{rr:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Yo(this.serializer,T))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);const i=[];return t.forEach(o=>{const u=zm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Lu(e).te({range:h},(d,g,_)=>{const[v,T,b]=d,A=Bi(T);v===this.userId&&o.path.isEqual(A)?r=r.add(b):_.done()});i.push(f)}),X.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=zm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(De);return Lu(e).te({range:u},(f,d,g)=>{const[_,v,T]=f,b=Bi(v);_===this.userId&&r.isPrefixOf(b)?b.length===i&&(h=h.add(T)):g.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Sa(e).get(o).next(u=>{if(u===null)throw we(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Yo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return dD(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Lu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=Bi(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{_r:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return fD(e,this.userId,t)}ar(e){return pD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ma,lastStreamToken:""})}}function fD(n,e,t){const r=zm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Lu(n).te({range:o,ee:!0},(h,f,d)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),d.done()}).next(()=>u)}function Sa(n){return yn(n,ii)}function Lu(n){return yn(n,ec)}function pD(n){return yn(n,Jd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new gl(0)}static lr(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new gl(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ie.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pr(e,i)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Iu(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Iu(e).te((u,h)=>{const f=wd(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Iu(e).te((r,i)=>{const o=wd(i);t(o)})}hr(e){return i1(e).get(bg).next(t=>(Ae(t!==null,2888),t))}Pr(e,t){return i1(e).put(bg,t)}Tr(e,t){return Iu(e).put(lD(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Iu(e).te({range:i,index:sO},(u,h,f)=>{const d=wd(h);Of(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Ca(e);return t.forEach(u=>{const h=qn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ca(e);return X.forEach(t,o=>{const u=qn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Ca(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ca(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=Bi(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=qn(t.path),i=IDBKeyRange.bound([r],[QP(r)],!1,!0);let o=0;return Ca(e).te({index:xb,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Iu(e).get(t).next(r=>r?wd(r):null)}}function Iu(n){return yn(n,tc)}function i1(n){return yn(n,al)}function Ca(n){return yn(n,nc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LruGarbageCollector",wB=1048576;function a1([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class TB{constructor(e){this.Er=e,this.buffer=new ut(a1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();a1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(s1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ro(t)?pe(s1,"Ignoring IndexedDB error during garbage collection: ",t):await no(t)}await this.mr(3e5)})}}class SB{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(sr.le);const r=new TB(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(r1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Nu()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function gD(n,e){return new SB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,t){this.db=e,this.garbageCollector=gD(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,i)=>t(i))}addReference(e,t,r){return Sm(e,r)}removeReference(e,t,r){return Sm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Sm(e,t)}Dr(e,t){return function(i,o){let u=!1;return pD(i).ne(h=>fD(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),Ca(e).delete(function(_){return[0,qn(_.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Sm(e,t)}br(e,t){const r=Ca(e);let i,o=sr.le;return r.te({index:xb},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==sr.le&&t(new ve(Bi(i)),o),o=d,i=f):o=sr.le}).next(()=>{o!==sr.le&&t(new ve(Bi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sm(n,e){return Ca(n).put(function(r,i){return{targetId:0,path:qn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new $s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qo(e).put(r)}removeEntry(e,t,r){return qo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Ag(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=bt.newInvalidDocument(t);return qo(e).te({index:jm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:bt.newInvalidDocument(t)};return qo(e).te({index:jm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r={document:this.Cr(t,o),size:Rg(o)}}).next(()=>r)}getEntries(e,t){let r=or();return this.Mr(e,t,(i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u)}).next(()=>r)}Or(e,t){let r=or(),i=new Et(ve.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),i=i.insert(o,Rg(u))}).next(()=>({documents:r,Nr:i}))}Mr(e,t,r){if(t.isEmpty())return X.resolve();let i=new ut(u1);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(ed(i.first()),ed(i.last())),u=i.getIterator();let h=u.getNext();return qo(e).te({index:jm,range:o},(f,d,g)=>{const _=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&u1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(ed(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=or();for(const _ of d){const v=this.Cr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Nf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=or();const u=l1(t,r),h=l1(t,Cr.max());return qo(e).te({index:iO,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const _=this.Cr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new RB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return o1(e).get(J0).next(t=>(Ae(!!t,20021),t))}vr(e,t){return o1(e).put(J0,t)}Cr(e,t){if(t){const r=hB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return bt.newInvalidDocument(e)}}function _D(n){return new IB(n)}class RB extends yD{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new $s(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=HR(this.Br.serializer,u);i=i.add(o.path.popLast());const d=Rg(f);r+=d-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=HR(this.Br.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Br.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:i})=>(i.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function o1(n){return yn(n,Zd)}function qo(n){return yn(n,Eg)}function ed(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l1(n,e){const t=e.documentKey.path.toArray();return[n,Ag(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function u1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ld(r.mutation,i,ar.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Ed();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=or();const u=Vd(),h=function(){return Vd()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Gs)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ld(g.mutation,d,g.mutation.getFieldMask(),Pt.now())):u.set(d.key,ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var _;return h.set(d,new CB(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Vd();let i=new Et((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||ar.empty();g=h.applyToLocalView(d,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=VO();g.forEach(v=>{if(!o.has(v)){const T=qO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Fi());let h=Zu,f=o;return u.next(d=>X.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:MO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Ed();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(_,v){return new Hs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,bt.newInvalidDocument(g)))});let h=Ed();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Ld(g.mutation,d,ar.empty(),Pt.now()),Nf(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:$b(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.overlays=new Et(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Fi(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Fi(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Fi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jb(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.$r=new ut(Tn.Ur),this.Kr=new ut(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Tn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Tn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ve(new $e([])),r=new Tn(t,e),i=new Tn(t,e+1),o=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new $e([])),r=new Tn(t,e),i=new Tn(t,e+1);let o=Ve();return this.Kr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Tn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ut(Tn.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Fb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Xr=this.Xr.add(new Tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ma:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],u=>{const h=this.ei(u.Zr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);return t.forEach(i=>{const o=new Tn(i,0),u=new Tn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new Tn(new ve(o),0);let h=new ut(De);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Zr)),!0)},u),X.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(t.mutations,i=>{const o=new Tn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Tn(t,0),i=this.Xr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.ii=e,this.docs=function(){return new Et(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let r=or();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=or();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Rb(JP(g),r)<=0||(i.has(g.key)||Nf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we(9500)}si(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kB(this)}getSize(e){return X.resolve(this.size)}}class kB extends yD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.persistence=e,this.oi=new $s(t=>hl(t),Of),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Wb,this.targetCount=0,this.ui=gl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new gl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.ci={},this.overlays={},this.li=new sr(0),this.hi=!1,this.hi=!0,this.Pi=new OB,this.referenceDelegate=e(this),this.Ti=new MB(this),this.indexManager=new vB,this.remoteDocumentCache=function(i){return new NB(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new oD(t),this.Ei=new xB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new DB(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new VB(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class VB extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Vi=new Wb,this.mi=null}static fi(e){return new _y(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const i=ve.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Cg{constructor(e,t){this.persistence=e,this.yi=new $s(r=>qn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gD(this,t)}static fi(e,t){return new Cg(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hm(e.data.value)),t}Dr(e,t,r){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.serializer=e}q(e,t,r,i){const o=new oy("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(Pf)}(e),function(f){f.createObjectStore(Jd,{keyPath:Z5}),f.createObjectStore(ii,{keyPath:ER,autoIncrement:!0}).createIndex(el,bR,{unique:!0}),f.createObjectStore(ec)}(e),c1(e),function(f){f.createObjectStore(Ko)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(nc),f.deleteObjectStore(tc),f.deleteObjectStore(al)}(e),c1(e)),u=u.next(()=>function(f){const d=f.store(al),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(bg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ii).J().next(_=>{f.deleteObjectStore(ii),f.createObjectStore(ii,{keyPath:ER,autoIncrement:!0}).createIndex(el,bR,{unique:!0});const v=d.store(ii),T=_.map(b=>v.put(b));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(rc,{keyPath:l9})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.wi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Zd)}(e),this.Si(o)))),r<7&&i>=7&&(u=u.next(()=>this.bi(o))),r<8&&i>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ci(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(ly,{keyPath:u9})})(e),function(f){f.createObjectStore(uy,{keyPath:c9})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(cy,{keyPath:y9});d.createIndex(eE,_9,{unique:!1}),d.createIndex(lO,v9,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(Eg,{keyPath:t9});d.createIndex(jm,n9),d.createIndex(iO,r9)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(Ko))),r<14&&i>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Pb,{keyPath:h9,autoIncrement:!0}).createIndex(Z0,d9,{unique:!1}),f.createObjectStore(Nd,{keyPath:f9}).createIndex(aO,p9,{unique:!1}),f.createObjectStore(kd,{keyPath:m9}).createIndex(oO,g9,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Nd).clear()}).next(()=>{t.objectStore(kd).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(Ob,{keyPath:E9})})(e)})),r<18&&i>=18&&Ox()&&(u=u.next(()=>{t.objectStore(Nd).clear()}).next(()=>{t.objectStore(kd).clear()})),u}Si(e){let t=0;return e.store(Ko).te((r,i)=>{t+=Rg(i)}).next(()=>{const r={byteSize:t};return e.store(Zd).put(J0,r)})}wi(e){const t=e.store(Jd),r=e.store(ii);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ma],[o.userId,o.lastAcknowledgedBatchId]);return r.J(el,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Yo(this.serializer,f);return dD(e,o.userId,d).next(()=>{})}))}))}bi(e){const t=e.store(nc),r=e.store(Ko);return e.store(al).get(bg).next(i=>{const o=[];return r.te((u,h)=>{const f=new $e(u),d=function(_){return[0,qn(_)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:qn(_),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}Di(e,t){e.createObjectStore(ef,{keyPath:o9});const r=t.store(ef),i=new Kb,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:qn(f)})}};return t.store(Ko).te({ee:!0},(u,h)=>{const f=new $e(u);return o(f.popLast())}).next(()=>t.store(ec).te({ee:!0},([u,h,f],d)=>{const g=Bi(h);return o(g.popLast())}))}Ci(e){const t=e.store(tc);return t.te((r,i)=>{const o=wd(i),u=lD(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(Ko),i=[];return r.te((o,u)=>{const h=t.store(Eg),f=function(_){return _.document?new ve($e.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):we(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}Mi(e,t){const r=t.store(ii),i=_D(this.serializer),o=new Yb(_y.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();Yo(this.serializer,f).keys().forEach(_=>g=g.add(_)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new Sn(d),_=gy.St(this.serializer,g),v=o.getIndexManager(g),T=yy.St(g,this.serializer,v,o.referenceDelegate);return new vD(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new tE(t,sr.le),f).next()})})}}function c1(n){n.createObjectStore(nc,{keyPath:s9}).createIndex(xb,a9,{unique:!0}),n.createObjectStore(tc,{keyPath:"targetId"}).createIndex(sO,i9,{unique:!0}),n.createObjectStore(al)}const Aa="IndexedDbPersistence",y0=18e5,_0=5e3,v0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ED="main";class Qb{constructor(e,t,r,i,o,u,h,f,d,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=d,this.Ni=g,this.Bi=_,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=v=>Promise.resolve(),!Qb.C())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AB(this,i),this.Ui=t+ED,this.serializer=new oD(f),this.Ki=new zi(this.Ui,this.Bi,new LB(this.serializer)),this.Pi=new fB,this.Ti=new bB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_D(this.serializer),this.Ei=new dB,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,g===!1&&Qt(Aa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,v0);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new sr(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Am(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(ro(e))return pe(Aa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Aa,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return td(e).get(bu).next(t=>X.resolve(this.ts(t)))}ns(e){return Am(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,y0)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=yn(t,rc);return r.J().next(i=>{const o=this._s(i,y0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?X.resolve(!0):td(e).get(bu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,_0)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,v0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Am(e).J().next(r=>this._s(r,_0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Aa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Pf,rc],e=>{const t=new tE(e,sr.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Am(e).J().next(t=>this._s(t,y0).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return yy.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new EB(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return gy.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe(Aa,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?T9:f===17?dO:f===16?w9:f===15?Db:f===14?hO:f===13?cO:f===12?b9:f===11?uO:void we(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,i,o,h=>(u=new tE(h,this.li?this.li.next():sr.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new fe(ie.FAILED_PRECONDITION,ZP);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return td(e).get(bu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,_0)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,v0)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(e).put(bu,t)}static C(){return zi.C()}Xi(e){const t=td(e);return t.get(bu).next(r=>this.ts(r)?(pe(Aa,"Releasing primary lease."),t.delete(bu)):X.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;Px()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return pe(Aa,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt(Aa,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function td(n){return yn(n,Pf)}function Am(n){return yn(n,rc)}function Xb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Px()?8:tO(Vt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new UB;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Nu()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ku(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Nu()<=He.DEBUG&&pe("QueryEngine","Query:",ku(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Nu()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ku(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):X.resolve())}ws(e,t){if(kR(t))return X.resolve(null);let r=Jn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Sg(t,null,"F"),r=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(t,h);return this.Cs(t,d,u,f.readTime)?this.ws(e,Sg(t,null,"F")):this.Fs(e,d,t,f)}))})))}Ss(e,t,r,i){return kR(t)||i.isEqual(Ie.min())?X.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,i)?X.resolve(null):(Nu()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(t)),this.Fs(e,u,t,XP(i,Zu)).next(h=>h))})}vs(e,t){let r=new ut(NO(e));return t.forEach((i,o)=>{Nf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Nu()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ku(t)),this.ys.getDocumentsMatchingQuery(e,t,Cr.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="LocalStore",BB=3e8;class FB{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Et(De),this.Os=new $s(o=>hl(o),Of),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function wD(n,e,t,r){return new FB(n,e,t,r)}async function TD(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:h}))})})}function zB(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,v=_.keys();let T=X.resolve();return v.forEach(b=>{T=T.next(()=>g.getEntry(f,b)).next(A=>{const x=d.docVersions.get(b);Ae(x!==null,48541),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SD(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function jB(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(A,x,V){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=BB?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(v,T,g)&&h.push(t.Ti.updateTargetData(o,T))});let f=or(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(AD(o,u,e.documentUpdates).next(g=>{f=g.qs,d=g.Qs})),!r.isEqual(Ie.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.xs=i,o))}function AD(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=or();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(Zb,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:i}})}function qB(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ma),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Ti.allocateTargetId(r).next(u=>(i=new xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function hc(n,e,t){const r=Ee(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ro(u))throw u;pe(Zb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function xg(n,e,t){const r=Ee(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=Ee(f),v=_.Os.get(g);return v!==void 0?X.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(r,u,Jn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>(CD(r,DO(e),h),{documents:h,$s:o})))}function ID(n,e){const t=Ee(n),r=Ee(t.Ti),i=t.xs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function RD(n,e){const t=Ee(n),r=t.Ns.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Bs.getAllFromCollectionGroup(i,e,XP(r,Zu),Number.MAX_SAFE_INTEGER)).then(i=>(CD(t,e,i),i))}function CD(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function HB(n,e,t,r){const i=Ee(n);let o=Ve(),u=or();for(const d of t){const g=e.Us(d.metadata.name);d.document&&(o=o.add(g));const _=e.Ks(d);_.setReadTime(e.Ws(d.metadata.readTime)),u=u.insert(g,_)}const h=i.Bs.newChangeBuffer({trackRemovals:!0}),f=await cc(i,function(g){return Jn(Cc($e.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>AD(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.Ti.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.Ti.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.qs,g.Qs)).next(()=>g.qs)))}async function $B(n,e,t=Ve()){const r=await cc(n,Jn($b(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(jt.EMPTY_BYTE_STRING,u);return i.xs=i.xs.insert(h.targetId,h),i.Ti.updateTargetData(o,h).next(()=>i.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="firestore_clients";function h1(n,e){return`${xD}_${n}_${e}`}const PD="firestore_mutations";function d1(n,e,t){let r=`${PD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const OD="firestore_targets";function E0(n,e){return`${OD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="SharedClientState";class Pg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Gs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new Pg(e,t,i.state,o):(Qt(Oi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new Ud(e,r.state,i):(Qt(Oi,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Og{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Lb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=nO(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Og(e,o):(Qt(Oi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class ew{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new ew(t.clientId,t.onlineState):(Qt(Oi,`Failed to parse online state: ${e}`),null)}}class gE{constructor(){this.activeTargetIds=Lb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b0{constructor(e,t,r,i,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new Et(De),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=h1(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new gE),this.io=new RegExp(`^${xD}_${u}_([^_]*)$`),this.so=new RegExp(`^${PD}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${OD}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const i=this.getItem(h1(this.persistenceKey,r));if(i){const o=Og.Gs(r,i);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(E0(this.persistenceKey,e));if(i){const o=Ud.Gs(e,i);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(E0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.To(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Oi,"READ",e,t),t}setItem(e,t){pe(Oi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Oi,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(pe(Oi,"EVENT",t.key,t.newValue),t.key===this.no)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=sr.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{bo:o}),u=h}catch(h){Qt(Oi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==sr.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(i=>this.syncEngine.vo(i)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const i=new Pg(this.currentUser,e,t,r),o=d1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.zs())}To(e){const t=d1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const i=E0(this.persistenceKey,e),o=new Ud(e,t,r);this.setItem(i,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Og.Gs(r,t)}po(e,t){const r=this.so.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Pg.Gs(new Sn(o),i,t)}wo(e,t){const r=this.oo.exec(e),i=Number(r[1]);return Ud.Gs(i,t)}co(e){return ew.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Oi,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),i=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=Lb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class DD{constructor(){this.xo=new gE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new gE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="ConnectivityMonitor";class p1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(f1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(f1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function yE(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="RestConnection",KB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WB{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===nE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const u=yE(),h=this.jo(e,t.toUriEncodedString());pe(w0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:d}=new URL(h),g=bf(d);return this.Jo(e,h,f,r,g).then(_=>(pe(w0,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Ki(w0,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,t,r,i,o,u){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=KB[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class QB extends WB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const u=yE();return new Promise((h,f)=>{const d=new jP;d.setWithCredentials(!0),d.listenOnce(qP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bm.NO_ERROR:const _=d.getResponseJson();pe(Bn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Bm.TIMEOUT:pe(Bn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const v=d.getStatus();if(pe(Bn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const A=function(V){const L=V.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN}(b.status);f(new fe(A,b.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(Bn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(Bn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}T_(e,t,r){const i=yE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=GP(),h=$P(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(Bn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let v=!1,T=!1;const b=new YB({Zo:x=>{T?pe(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(Bn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(Bn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Xo:()=>_.close()}),A=(x,V,L)=>{x.listen(V,U=>{try{L(U)}catch($){setTimeout(()=>{throw $},0)}})};return A(_,vd.EventType.OPEN,()=>{T||(pe(Bn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),A(_,vd.EventType.CLOSE,()=>{T||(T=!0,pe(Bn,`RPC '${e}' stream ${i} transport closed`),b.u_())}),A(_,vd.EventType.ERROR,x=>{T||(T=!0,Ki(Bn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.u_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),A(_,vd.EventType.MESSAGE,x=>{var V;if(!T){const L=x.data[0];Ae(!!L,16349);const U=L,$=(U==null?void 0:U.error)||((V=U[0])===null||V===void 0?void 0:V.error);if($){pe(Bn,`RPC '${e}' stream ${i} received error:`,$);const F=$.status;let K=function(P){const w=an[P];if(w!==void 0)return GO(w)}(F),M=$.message;K===void 0&&(K=ie.INTERNAL,M="Unknown error status: "+F+" with message "+$.message),T=!0,b.u_(new fe(K,M)),_.close()}else pe(Bn,`RPC '${e}' stream ${i} received:`,L),b.c_(L)}}),A(h,HP.STAT_EVENT,x=>{x.stat===Y0.PROXY?pe(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Y0.NOPROXY&&pe(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return typeof window<"u"?window:null}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new tB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="PersistentStream";class kD{constructor(e,t,r,i,o,u,h,f){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new tw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Qt(t.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return pe(m1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(pe(m1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XB extends kD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=iB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Xt(u.readTime):Ie.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=hE(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=wg(f)?{documents:tD(o,f)}:{query:nD(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=YO(o,u.resumeToken);const d=uE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=uc(o,u.snapshotVersion.toTimestamp());const d=uE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=aB(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=hE(this.serializer),t.removeTarget=e,this.L_(t)}}class JB extends kD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=sB(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=hE(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>of(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{}class eF extends ZB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,cE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,cE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class tF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qt(t),this.oa=!1):pe("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class nF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{so(this)&&(pe(yl,"Restarting streams for network reachability change."),await async function(f){const d=Ee(f);d.Ta.add(4),await Oc(d),d.da.set("Unknown"),d.Ta.delete(4),await Uf(d)}(this))})}),this.da=new tF(r,i)}}async function Uf(n){if(so(n))for(const e of n.Ia)await e(!0)}async function Oc(n){for(const e of n.Ia)await e(!1)}function vy(n,e){const t=Ee(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),iw(t)?rw(t):Nc(t).M_()&&nw(t,e))}function dc(n,e){const t=Ee(n),r=Nc(t);t.Pa.delete(e),r.M_()&&MD(t,e),t.Pa.size===0&&(r.M_()?r.N_():so(t)&&t.da.set("Unknown"))}function nw(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nc(n).H_(e)}function MD(n,e){n.Aa.Ke(e),Nc(n).J_(e)}function rw(n){n.Aa=new X9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Nc(n).start(),n.da._a()}function iw(n){return so(n)&&!Nc(n).F_()&&n.Pa.size>0}function so(n){return Ee(n).Ta.size===0}function VD(n){n.Aa=void 0}async function rF(n){n.da.set("Online")}async function iF(n){n.Pa.forEach((e,t)=>{nw(n,e)})}async function sF(n,e){VD(n),iw(n)?(n.da.ca(e),rw(n)):n.da.set("Unknown")}async function aF(n,e,t){if(n.da.set("Online"),e instanceof WO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.Pa.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Pa.delete(h),i.Aa.removeTarget(h))}(n,e)}catch(r){pe(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dg(n,r)}else if(e instanceof Km?n.Aa.Xe(e):e instanceof KO?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const r=await SD(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Pa.get(d);g&&o.Pa.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.Pa.get(f);if(!g)return;o.Pa.set(f,g.withResumeToken(jt.EMPTY_BYTE_STRING,g.snapshotVersion)),MD(o,f);const _=new xs(g.target,f,d,g.sequenceNumber);nw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(yl,"Failed to raise snapshot:",r),await Dg(n,r)}}async function Dg(n,e,t){if(!ro(e))throw e;n.Ta.add(1),await Oc(n),n.da.set("Offline"),t||(t=()=>SD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(yl,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Uf(n)})}function LD(n,e){return e().catch(t=>Dg(n,t,e))}async function Dc(n){const e=Ee(n),t=Ga(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Ma;for(;oF(e);)try{const i=await qB(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,lF(e,i)}catch(i){await Dg(e,i)}UD(e)&&BD(e)}function oF(n){return so(n)&&n.ha.length<10}function lF(n,e){n.ha.push(e);const t=Ga(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function UD(n){return so(n)&&!Ga(n).F_()&&n.ha.length>0}function BD(n){Ga(n).start()}async function uF(n){Ga(n).ta()}async function cF(n){const e=Ga(n);for(const t of n.ha)e.Z_(t.mutations)}async function hF(n,e,t){const r=n.ha.shift(),i=zb.from(r,e,t);await LD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Dc(n)}async function dF(n,e){e&&Ga(n).Y_&&await async function(r,i){if(function(u){return $O(u)&&u!==ie.ABORTED}(i.code)){const o=r.ha.shift();Ga(r).O_(),await LD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Dc(r)}}(n,e),UD(n)&&BD(n)}async function g1(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(yl,"RemoteStore received new credentials");const r=so(t);t.Ta.add(3),await Oc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Uf(t)}async function _E(n,e){const t=Ee(n);e?(t.Ta.delete(2),await Uf(t)):e||(t.Ta.add(2),await Oc(t),t.da.set("Unknown"))}function Nc(n){return n.Ra||(n.Ra=function(t,r,i){const o=Ee(t);return o.ra(),new XB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:rF.bind(null,n),n_:iF.bind(null,n),i_:sF.bind(null,n),j_:aF.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),iw(n)?rw(n):n.da.set("Unknown")):(await n.Ra.stop(),VD(n))})),n.Ra}function Ga(n){return n.Va||(n.Va=function(t,r,i){const o=Ee(t);return o.ra(),new JB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:uF.bind(null,n),i_:dF.bind(null,n),X_:cF.bind(null,n),ea:hF.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Dc(n)):(await n.Va.stop(),n.ha.length>0&&(pe(yl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new sw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kc(n,e){if(Qt("AsyncQueue",`${e}: ${n}`),ro(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Ed(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ma=new Et(ve.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class fc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new fc(e,t,Hu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class pF{constructor(){this.queries=_1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=_1(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function _1(){return new $s(n=>OO(n),Df)}async function aw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new fF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(i,!0);break;case 1:o.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=kc(u,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&lw(t)}async function ow(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function mF(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(i)&&(r=!0);u.pa=i}}r&&lw(t)}function gF(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(t);r.queries.delete(e)}function lw(n){n.ba.forEach(e=>{e.next()})}var vE,v1;(v1=vE||(vE={})).Ca="default",v1.Cache="cache";class uw{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==vE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.serializer=e}Us(e){return ji(this.serializer,e)}Ks(e){return e.metadata.exists?eD(this.serializer,e.document,!1):bt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Xt(e)}}class _F{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FD(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=$e.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new E1(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Us(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await HB(this.localStore,new E1(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await $B(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function FD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.key=e}}class jD{constructor(e){this.key=e}}class qD{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=NO(e),this.Ja=new Hu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new y1,i=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Nf(this.query,_)?_:null,b=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?b!==A&&(r.track({type:3,doc:T}),x=!0):this.eu(v,T)||(r.track({type:2,doc:T}),x=!0,(f&&this.Ha(T,f)>0||d&&this.Ha(T,d)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(f||d)&&(h=!0)),x&&(T?(u=u.add(T),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((g,_)=>function(T,b){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:x})}};return A(T)-A(b)}(g.type,_.type)||this.Ha(g.doc,_.doc)),this.tu(r),i=i!=null&&i;const h=t&&!i?this.nu():[],f=this.ja.size===0&&this.current&&!i?1:0,d=f!==this.za;return this.za=f,u.length!==0||d?{snapshot:new fc(this.query,e.Ja,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new y1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new jD(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new zD(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return fc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const ao="SyncEngine";class vF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EF{constructor(e){this.key=e,this._u=!1}}class bF{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new $s(h=>OO(h),Df),this.cu=new Map,this.lu=new Set,this.hu=new Et(ve.comparator),this.Pu=new Map,this.Tu=new Wb,this.Iu={},this.Eu=new Map,this.du=gl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function wF(n,e,t=!0){const r=Ey(n);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await HD(r,e,t,!0),i}async function TF(n,e){const t=Ey(n);await HD(t,e,!0,!1)}async function HD(n,e,t,r){const i=await cc(n.localStore,Jn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await cw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&vy(n.remoteStore,i),h}async function cw(n,e,t,r,i){n.Ru=(_,v,T)=>async function(A,x,V,L){let U=x.view.Za(V);U.Cs&&(U=await xg(A.localStore,x.query,!1).then(({documents:M})=>x.view.Za(M,U)));const $=L&&L.targetChanges.get(x.targetId),F=L&&L.targetMismatches.get(x.targetId)!=null,K=x.view.applyChanges(U,A.isPrimaryClient,$,F);return EE(A,x.targetId,K.ru),K.snapshot}(n,_,v,T);const o=await xg(n.localStore,e,!0),u=new qD(e,o.$s),h=u.Za(o.documents),f=Vf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);EE(n,t,d.ru);const g=new vF(e,t,u);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),d.snapshot}async function SF(n,e,t){const r=Ee(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(u=>!Df(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dc(r.remoteStore,i.targetId),pc(r,i.targetId)}).catch(no)):(pc(r,i.targetId),await hc(r.localStore,i.targetId,!0))}async function AF(n,e){const t=Ee(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dc(t.remoteStore,r.targetId))}async function IF(n,e,t){const r=pw(n);try{const i=await function(u,h){const f=Ee(u),d=Pt.now(),g=h.reduce((T,b)=>T.add(b.key),Ve());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=or(),A=Ve();return f.Bs.getEntries(T,g).next(x=>{b=x,b.forEach((V,L)=>{L.isValidDocument()||(A=A.add(V))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,b)).next(x=>{_=x;const V=[];for(const L of h){const U=W9(L,_.get(L.key).overlayedDocument);U!=null&&V.push(new Gs(L.key,U,wO(U.value.mapValue),xt.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,V,h)}).next(x=>{v=x;const V=x.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(T,x.batchId,V)})}).then(()=>({batchId:v.batchId,changes:MO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.Iu[u.currentUser.toKey()];d||(d=new Et(De)),d=d.insert(h,f),u.Iu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Ks(r,i.changes),await Dc(r.remoteStore)}catch(i){const o=kc(i,"Failed to persist write");t.reject(o)}}async function $D(n,e){const t=Ee(n);try{const r=await jB(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Pu.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u._u=!0:i.modifiedDocuments.size>0?Ae(u._u,14607):i.removedDocuments.size>0&&(Ae(u._u,42227),u._u=!1))}),await Ks(t,r,e)}catch(r){await no(r)}}function b1(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ee(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const v of _.ya)v.Da(h)&&(d=!0)}),d&&lw(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RF(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),o=i&&i.key;if(o){let u=new Et(ve.comparator);u=u.insert(o,bt.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Mf(Ie.min(),new Map,new Et(De),u,h);await $D(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),fw(r)}else await hc(r.localStore,e,!1).then(()=>pc(r,e,t)).catch(no)}async function CF(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await zB(t.localStore,e);dw(t,r,null),hw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ks(t,i)}catch(i){await no(i)}}async function xF(n,e,t){const r=Ee(n);try{const i=await function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(Ae(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);dw(r,e,t),hw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ks(r,i)}catch(i){await no(i)}}async function PF(n,e){const t=Ee(n);so(t.remoteStore)||pe(ao,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Ma)return void e.resolve();const i=t.Eu.get(r)||[];i.push(e),t.Eu.set(r,i)}catch(r){const i=kc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function hw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function dw(n,e,t){const r=Ee(n);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function pc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||GD(n,r)})}function GD(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(dc(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),fw(n))}function EE(n,e,t){for(const r of t)r instanceof zD?(n.Tu.addReference(r.key,e),OF(n,r)):r instanceof jD?(pe(ao,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||GD(n,r.key)):we(19791,{mu:r})}function OF(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(pe(ao,"New document in limbo: "+t),n.lu.add(r),fw(n))}function fw(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve($e.fromString(e)),r=n.du.next();n.Pu.set(r,new EF(t)),n.hu=n.hu.insert(t,r),vy(n.remoteStore,new xs(Jn(Cc(t.path)),r,"TargetPurposeLimboResolution",sr.le))}}async function Ks(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){i.push(d);const _=Jb.Rs(f.targetId,d);o.push(_)}}))}),await Promise.all(u),r.au.j_(i),await async function(f,d){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(d,v=>X.forEach(v.ds,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.As,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!ro(_))throw _;pe(Zb,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.xs.get(v),b=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(b);g.xs=g.xs.insert(v,A)}}}(r.localStore,o))}async function DF(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(ao,"User change. New user:",e.toKey());const r=await TD(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new fe(ie.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ks(t,r.ks)}}function NF(n,e){const t=Ee(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let i=Ve();const o=t.cu.get(e);if(!o)return i;for(const u of o){const h=t.uu.get(u);i=i.unionWith(h.view.Ya)}return i}}async function kF(n,e){const t=Ee(n),r=await xg(t.localStore,e.query,!0),i=e.view.su(r);return t.isPrimaryClient&&EE(t,e.targetId,i.ru),i}async function MF(n,e){const t=Ee(n);return RD(t.localStore,e).then(r=>Ks(t,r))}async function VF(n,e,t,r){const i=Ee(n),o=await function(h,f){const d=Ee(h),g=Ee(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.tr(_,f).next(v=>v?d.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Dc(i.remoteStore):t==="acknowledged"||t==="rejected"?(dw(i,e,r||null),hw(i,e),function(h,f){Ee(Ee(h).mutationQueue).sr(f)}(i.localStore,e)):we(6720,"Unknown batchState",{fu:t}),await Ks(i,o)):pe(ao,"Cannot apply mutation batch with id: "+e)}async function LF(n,e){const t=Ee(n);if(Ey(t),pw(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await w1(t,r.toArray());t.Au=!0,await _E(t.remoteStore,!0);for(const o of i)vy(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let i=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(pc(t,u),hc(t.localStore,u,!0))),dc(t.remoteStore,u)}),await i,await w1(t,r),function(u){const h=Ee(u);h.Pu.forEach((f,d)=>{dc(h.remoteStore,d)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new Et(ve.comparator)}(t),t.Au=!1,await _E(t.remoteStore,!1)}}async function w1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await cc(r.localStore,Jn(f[0]));for(const d of f){const g=r.uu.get(d),_=await kF(r,g);_.snapshot&&o.push(_.snapshot)}}else{const d=await ID(r.localStore,u);h=await cc(r.localStore,d),await cw(r,KD(d),u,!1,h.resumeToken)}i.push(h)}return r.au.j_(o),i}function KD(n){return PO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UF(n){return function(t){return Ee(Ee(t).persistence).Is()}(Ee(n).localStore)}async function BF(n,e,t,r){const i=Ee(n);if(i.Au)return void pe(ao,"Ignoring unexpected query state notification.");const o=i.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await RD(i.localStore,DO(o[0])),h=Mf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",jt.EMPTY_BYTE_STRING);await Ks(i,u,h);break}case"rejected":await hc(i.localStore,e,!0),pc(i,e,r);break;default:we(64155,t)}}async function FF(n,e,t){const r=Ey(n);if(r.Au){for(const i of e){if(r.cu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(ao,"Adding an already active target "+i);continue}const o=await ID(r.localStore,i),u=await cc(r.localStore,o);await cw(r,KD(o),u.targetId,!1,u.resumeToken),vy(r.remoteStore,u)}for(const i of t)r.cu.has(i)&&await hc(r.localStore,i,!1).then(()=>{dc(r.remoteStore,i),pc(r,i)}).catch(no)}}function Ey(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RF.bind(null,e),e.au.j_=mF.bind(null,e.eventManager),e.au.Vu=gF.bind(null,e.eventManager),e}function pw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xF.bind(null,e),e}function zF(n,e,t){const r=Ee(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(T,b){const A=Ee(T),x=Xt(b.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",V=>A.Ei.getBundleMetadata(V,b.id)).then(V=>!!V&&V.createTime.compareTo(x)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(FD(f));const d=new _F(f,o.localStore,u.serializer);let g=await u.gu();for(;g;){const v=await d.$a(g);v&&h._updateProgress(v),g=await u.gu()}const _=await d.complete();return await Ks(o,_.Wa,void 0),await function(T,b){const A=Ee(T);return A.persistence.runTransaction("Save bundle","readwrite",x=>A.Ei.saveBundleMetadata(x,b))}(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ka)}catch(f){return Ki(ao,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return wD(this.persistence,new bD,e.initialUser,this.serializer)}yu(e){return new Yb(_y.fi,this.serializer)}pu(e){return new DD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class jF extends lf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ae(this.persistence.referenceDelegate instanceof Cg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mD(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Yb(r=>Cg.fi(r,t),this.serializer)}}class WD extends lf{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await pw(this.Du.syncEngine),await Dc(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return wD(this.persistence,new bD,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new mD(r,e.asyncQueue,t)}bu(e,t){const r=new X5(t,this.persistence);return new Q5(e.asyncQueue,r)}yu(e){const t=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Qb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ND(),Ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new DD}}class qF extends WD{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof b0&&(this.sharedClientState.syncEngine={Co:VF.bind(null,t),Fo:BF.bind(null,t),Mo:FF.bind(null,t),Is:UF.bind(null,t),vo:MF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await LF(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=ND();if(!b0.C(t))throw new fe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new b0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class uf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DF.bind(null,this.syncEngine),await _E(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pF}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(o){return new QB(o)}(e.databaseInfo);return function(o,u,h,f){return new eF(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new nF(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>b1(this.syncEngine,t,0),function(){return p1.C()?new p1:new GB}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const _=new bF(i,o,u,h,f,d);return g&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(yl,"RemoteStore shutting down."),o.Ta.add(5),await Oc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}uf.provider={build:()=>new uf};function T1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new Mn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const i=await this.Bu(r);return new yF(JSON.parse(i),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>af(u.serializer,_))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),d=new Map;f.forEach(_=>{const v=rB(u.serializer,_);d.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=d.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new Bb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>of(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,$e.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{qu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new tw(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new $F(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Wu(i)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!xf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!$O(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class KF{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=YP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(Ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function T0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ka,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function S1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mw(n);pe(Ka,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>g1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>g1(e.remoteStore,i)),n._onlineComponents=e}async function mw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ka,"Using user provided OfflineComponentProvider");try{await T0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ki("Error using user provided cache. Falling back to memory cache: "+t),await T0(n,new lf)}}else pe(Ka,"Using default OfflineComponentProvider"),await T0(n,new jF(void 0));return n._offlineComponents}async function wy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ka,"Using user provided OnlineComponentProvider"),await S1(n,n._uninitializedComponentsProvider._online)):(pe(Ka,"Using default OnlineComponentProvider"),await S1(n,new uf))),n._onlineComponents}function YD(n){return mw(n).then(e=>e.persistence)}function gw(n){return mw(n).then(e=>e.localStore)}function QD(n){return wy(n).then(e=>e.remoteStore)}function yw(n){return wy(n).then(e=>e.syncEngine)}function WF(n){return wy(n).then(e=>e.datastore)}async function mc(n){const e=await wy(n),t=e.eventManager;return t.onListen=wF.bind(null,e.syncEngine),t.onUnlisten=SF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AF.bind(null,e.syncEngine),t}function YF(n){return n.asyncQueue.enqueue(async()=>{const e=await YD(n),t=await QD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.Ta.delete(0),Uf(o)}(t)})}function QF(n){return n.asyncQueue.enqueue(async()=>{const e=await YD(n),t=await QD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.Ta.add(0),await Oc(o),o.da.set("Offline")}(t)})}function XF(n,e){const t=new Mn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const _=Ee(d);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=kc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await gw(n),e,t)),t.promise}function XD(n,e,t={}){const r=new Mn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new by({next:v=>{g.Cu(),u.enqueueAndForget(()=>ow(o,_));const T=v.docs.has(h);!T&&v.fromCache?d.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new uw(Cc(h.path),g,{includeMetadataChanges:!0,La:!0});return aw(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function JF(n,e){const t=new Mn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await xg(i,o,!0),f=new qD(o,h.$s),d=f.Za(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=kc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await gw(n),e,t)),t.promise}function JD(n,e,t={}){const r=new Mn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new by({next:v=>{g.Cu(),u.enqueueAndForget(()=>ow(o,_)),v.fromCache&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new uw(h,g,{includeMetadataChanges:!0,La:!0});return aw(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function ZF(n,e){const t=new by(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.add(o),o.next()}(await mc(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.delete(o)}(await mc(n),t))}}function ez(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?Ib().encode(u):u,function(g,_){return new HF(g,_)}(function(g,_){if(g instanceof Uint8Array)return T1(g,_);if(g instanceof ArrayBuffer)return T1(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Lf(e));n.asyncQueue.enqueueAndForget(async()=>{zF(await yw(n),i,r)})}function tz(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,i))}(await gw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function e2(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I1(n){if(!ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R1(n){if(ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ty(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ty(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t2(n,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="firestore.googleapis.com",C1=!0;class x1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n2,this.ssl=C1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wB)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B5;switch(r.type){case"firstParty":return new q5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=A1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),A1.delete(t),r.terminate())}(this),Promise.resolve()}}function nz(n,e,t,r={}){var i;n=Ze(n,Bf);const o=bf(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(Ax(`https://${f}`),Ix("Firestore",!0)),u.host!==n2&&u.host!==f&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!ks(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Sn.MOCK_USER;else{g=qL(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(v)}n._authCredentials=new F5(new WP(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class r2{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new r2(this.firestore,e,this._query)}},Mt=class i2{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new i2(this.firestore,e,this._key)}},Va=class s2 extends Zn{constructor(e,t,r){super(e,t,Cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ve(e))}withConverter(e){return new s2(this.firestore,e,this._path)}};function a2(n,e,...t){if(n=Ce(n),_w("collection","path",e),n instanceof Bf){const r=$e.fromString(e,...t);return R1(r),new Va(n,null,r)}{if(!(n instanceof Mt||n instanceof Va))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return R1(r),new Va(n.firestore,null,r)}}function rz(n,e){if(n=Ze(n,Bf),_w("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zn(n,null,function(r){return new Hs($e.emptyPath(),r)}(e))}function Ng(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=YP.newId()),_w("doc","path",e),n instanceof Bf){const r=$e.fromString(e,...t);return I1(r),new Mt(n,null,new ve(r))}{if(!(n instanceof Mt||n instanceof Va))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return I1(r),new Mt(n.firestore,n instanceof Va?n.converter:null,new ve(r))}}function o2(n,e){return n=Ce(n),e=Ce(e),(n instanceof Mt||n instanceof Va)&&(e instanceof Mt||e instanceof Va)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function l2(n,e){return n=Ce(n),e=Ce(e),n instanceof Zn&&e instanceof Zn&&n.firestore===e.firestore&&Df(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new tw(this,"async_queue_retry"),this.ec=()=>{const r=Ym();r&&pe(P1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Mn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ro(e))throw e;pe(P1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Qt("INTERNAL UNHANDLED ERROR: ",D1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=sw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&we(47125,{_c:D1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function D1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class iz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=-1;let Jt=class extends Bf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new O1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}};function Hn(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||u2(n),n._firestoreClient}function u2(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new I9(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ZD(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new KF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function az(n,e){Ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return c2(n,uf.provider,{build:r=>new WD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function oz(n){Ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();c2(n,uf.provider,{build:t=>new qF(t,e.cacheSizeBytes)})}function c2(n,e,t){if((n=Ze(n,Jt))._firestoreClient||n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},u2(n)}function lz(n){if(n._initialized&&!n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.C())return Promise.resolve();const i=r+ED;await zi.delete(i)}(Xb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function uz(n){return function(t){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>PF(await yw(t),r)),r.promise}(Hn(n=Ze(n,Jt)))}function cz(n){return YF(Hn(n=Ze(n,Jt)))}function hz(n){return QF(Hn(n=Ze(n,Jt)))}function dz(n,e){const t=Hn(n=Ze(n,Jt)),r=new iz;return ez(t,n._databaseId,e,r),r}function fz(n,e){return tz(Hn(n=Ze(n,Jt)),e).then(t=>t?new Zn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(jt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=/^__.*__$/;class mz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class h2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:n})}}class Ay{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return kg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(d2(this.hc)&&pz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class gz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}gc(e,t,r,i=!1){return new Ay({hc:e,methodName:t,fc:r,path:Ct.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Il(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new gz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Iy(n,e,t,r,i,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,i);Iw("Data must be an object, but it was:",u,r);const h=m2(r,u);let f,d;if(o.merge)f=new ar(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=wE(e,_,t);if(!u.contains(v))throw new fe(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);y2(g,v)||g.push(v)}f=new ar(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new mz(new kn(h),f,d)}class Ff extends Al{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function f2(n,e,t){return new Ay({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ew extends Al{_toFieldTransform(e){return new kf(e.path,new oc)}isEqual(e){return e instanceof Ew}}class bw extends Al{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=f2(this,e,!0),r=this.yc.map(o=>Rl(o,t)),i=new dl(r);return new kf(e.path,i)}isEqual(e){return e instanceof bw&&ks(this.yc,e.yc)}}class ww extends Al{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=f2(this,e,!0),r=this.yc.map(o=>Rl(o,t)),i=new fl(r);return new kf(e.path,i)}isEqual(e){return e instanceof ww&&ks(this.yc,e.yc)}}class Tw extends Al{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new lc(e.serializer,UO(e.serializer,this.wc));return new kf(e.path,t)}isEqual(e){return e instanceof Tw&&this.wc===e.wc}}function Sw(n,e,t,r){const i=n.gc(1,e,t);Iw("Data must be an object, but it was:",i,r);const o=[],u=kn.empty();io(r,(f,d)=>{const g=Rw(e,f,t);d=Ce(d);const _=i.Ac(g);if(d instanceof Ff)o.push(g);else{const v=Rl(d,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ar(o);return new h2(u,h,i.fieldTransforms)}function Aw(n,e,t,r,i,o){const u=n.gc(1,e,t),h=[wE(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(wE(e,o[v])),f.push(o[v+1]);const d=[],g=kn.empty();for(let v=h.length-1;v>=0;--v)if(!y2(d,h[v])){const T=h[v];let b=f[v];b=Ce(b);const A=u.Ac(T);if(b instanceof Ff)d.push(T);else{const x=Rl(b,A);x!=null&&(d.push(T),g.set(T,x))}}const _=new ar(d);return new h2(g,_,u.fieldTransforms)}function p2(n,e,t,r=!1){return Rl(t,n.gc(r?4:3,e))}function Rl(n,e){if(g2(n=Ce(n)))return Iw("Unsupported field value:",e,n),m2(n,e);if(n instanceof Al)return function(r,i){if(!d2(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=Rl(h,i.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:uc(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,o)}}if(r instanceof Sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:YO(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vw)return function(u,h){return{mapValue:{fields:{[Nb]:{stringValue:kb},[ic]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Vc("VectorValues must only contain numeric values.");return Ub(h.serializer,d)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Ty(r)}`)}(n,e)}function m2(n,e){const t={};return fO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,(r,i)=>{const o=Rl(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function g2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Sy||n instanceof Yi||n instanceof Mt||n instanceof Al||n instanceof vw)}function Iw(n,e,t){if(!g2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ty(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function wE(n,e,t){if((e=Ce(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return Rw(n,e);throw kg("Field path arguments must be of type string or ",n,!1,void 0,t)}const yz=new RegExp("[~\\*/\\[\\]]");function Rw(n,e,t){if(e.search(yz)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wa(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function y2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ry("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _z extends cf{data(){return super.data()}}function Ry(n,e){return typeof e=="string"?Rw(n,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cw{}class zf extends Cw{}function Ia(n,e,...t){let r=[];e instanceof Cw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof xw).length,h=o.filter(f=>f instanceof Cy).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Cy extends zf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cy(e,t,r)}_apply(e){const t=this._parse(e);return E2(e._query,t),new Zn(e.firestore,e.converter,lE(e._query,t))}_parse(e){const t=Il(e.firestore);return function(o,u,h,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){k1(_,g);const b=[];for(const A of _)b.push(N1(f,o,A));v={arrayValue:{values:b}}}else v=N1(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||k1(_,g),v=p2(h,u,_,g==="in"||g==="not-in");return Ge.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vz(n,e,t){const r=e,i=Ry("where",n);return Cy._create(i,r,t)}class xw extends Cw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)E2(u,f),u=lE(u,f)}(e._query,t),new Zn(e.firestore,e.converter,lE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pw extends zf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sf(o,u)}(e._query,this._field,this._direction);return new Zn(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Hs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Ez(n,e="asc"){const t=e,r=Ry("orderBy",n);return Pw._create(r,t)}class xy extends zf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xy(e,t,r)}_apply(e){return new Zn(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function bz(n){return t2("limit",n),xy._create("limit",n,"F")}function wz(n){return t2("limitToLast",n),xy._create("limitToLast",n,"L")}class Py extends zf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Py(e,t,r)}_apply(e){const t=v2(e,this.type,this._docOrFields,this._inclusive);return new Zn(e.firestore,e.converter,function(i,o){return new Hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function Tz(...n){return Py._create("startAt",n,!0)}function Sz(...n){return Py._create("startAfter",n,!1)}class Oy extends zf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Oy(e,t,r)}_apply(e){const t=v2(e,this.type,this._docOrFields,this._inclusive);return new Zn(e.firestore,e.converter,function(i,o){return new Hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Az(...n){return Oy._create("endBefore",n,!1)}function Iz(...n){return Oy._create("endAt",n,!0)}function v2(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof cf)return function(o,u,h,f,d){if(!f)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of qu(o))if(_.field.isKeyField())g.push(cl(u,f.key));else{const v=f.data.field(_.field);if(hy(v))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new $a(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Il(n.firestore);return function(u,h,f,d,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let b=0;b<g.length;b++){const A=g[b];if(v[b].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!Vb(u)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const x=u.path.child($e.fromString(A));if(!ve.isDocumentKey(x))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const V=new ve(x);T.push(cl(h,V))}else{const x=p2(f,d,A);T.push(x)}}return new $a(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function N1(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cl(n,new ve(r))}if(t instanceof Mt)return cl(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ty(t)}.`)}function k1(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E2(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ow{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return io(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>It(u.doubleValue));return new vw(o)}convertGeoPoint(e){return new Sy(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(aD(r),9688,{name:e});const i=new ja(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Qt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Rz extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Bs=class extends cf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Bd=class extends Bs{data(e={}){return super.data(e)}},Ya=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bd(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new Bd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new tl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Bd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new tl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Cz(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Cz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function b2(n,e){return n instanceof Bs&&e instanceof Bs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ya&&e instanceof Ya&&n._firestore===e._firestore&&l2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return XD(Hn(e),n._key).then(t=>Dw(e,n,t))}class Cl extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function Pz(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt),t=Hn(e),r=new Cl(e);return XF(t,n._key).then(i=>new Bs(e,r,n._key,i,new tl(i!==null&&i.hasLocalMutations,!0),n.converter))}function Oz(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return XD(Hn(e),n._key,{source:"server"}).then(t=>Dw(e,n,t))}function Dz(n){n=Ze(n,Zn);const e=Ze(n.firestore,Jt),t=Hn(e),r=new Cl(e);return _2(n._query),JD(t,n._query).then(i=>new Ya(e,r,n,i))}function Nz(n){n=Ze(n,Zn);const e=Ze(n.firestore,Jt),t=Hn(e),r=new Cl(e);return JF(t,n._query).then(i=>new Ya(e,r,n,i))}function kz(n){n=Ze(n,Zn);const e=Ze(n.firestore,Jt),t=Hn(e),r=new Cl(e);return JD(t,n._query,{source:"server"}).then(i=>new Ya(e,r,n,i))}function M1(n,e,t){n=Ze(n,Mt);const r=Ze(n.firestore,Jt),i=Dy(n.converter,e,t);return jf(r,[Iy(Il(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xt.none())])}function V1(n,e,t,...r){n=Ze(n,Mt);const i=Ze(n.firestore,Jt),o=Il(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof Wa?Aw(o,"updateDoc",n._key,e,t,r):Sw(o,"updateDoc",n._key,e),jf(i,[u.toMutation(n._key,xt.exists(!0))])}function Mz(n){return jf(Ze(n.firestore,Jt),[new Pc(n._key,xt.none())])}function Vz(n,e){const t=Ze(n.firestore,Jt),r=Ng(n),i=Dy(n.converter,e);return jf(t,[Iy(Il(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function w2(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||bE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,d,g;if(n instanceof Mt)d=Ze(n.firestore,Jt),g=Cc(n._key.path),f={next:_=>{e[u]&&e[u](Dw(d,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Ze(n,Zn);d=Ze(_.firestore,Jt),g=_._query;const v=new Cl(d);f={next:T=>{e[u]&&e[u](new Ya(d,v,_,T))},error:e[u+1],complete:e[u+2]},_2(n._query)}return function(v,T,b,A){const x=new by(A),V=new uw(T,x,b);return v.asyncQueue.enqueueAndForget(async()=>aw(await mc(v),V)),()=>{x.Cu(),v.asyncQueue.enqueueAndForget(async()=>ow(await mc(v),V))}}(Hn(d),g,h,f)}function Lz(n,e){return ZF(Hn(n=Ze(n,Jt)),bE(e)?e:{next:e})}function jf(n,e){return function(r,i){const o=new Mn;return r.asyncQueue.enqueueAndForget(async()=>IF(await yw(r),i,o)),o.promise}(Hn(n),e)}function Dw(n,e,t){const r=t.docs.get(e._key),i=new Cl(n);return new Bs(n,i,e._key,r,new tl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bz=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Il(e)}set(e,t,r){this._verifyNotCommitted();const i=Pa(e,this._firestore),o=Dy(i.converter,t,r),u=Iy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,xt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Pa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Wa?Aw(this._dataReader,"WriteBatch.update",o._key,t,r,i):Sw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new Pc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Pa(n,e){if((n=Ce(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Il(e)}get(e){const t=Pa(e,this._firestore),r=new Rz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we(24041);const o=i[0];if(o.isFoundDocument())return new cf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new cf(this._firestore,r,t._key,null,t.converter);throw we(18433,{doc:o})})}set(e,t,r){const i=Pa(e,this._firestore),o=Dy(i.converter,t,r),u=Iy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Pa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Wa?Aw(this._dataReader,"Transaction.update",o._key,t,r,i):Sw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Pa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zz=class extends Fz{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pa(e,this._firestore),r=new Cl(this._firestore);return super.get(e).then(i=>new Bs(this._firestore,r,t._key,i._document,new tl(!1,!1),t.converter))}};function jz(n,e,t){n=Ze(n,Jt);const r=Object.assign(Object.assign({},Uz),t);return function(o){if(o.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Mn;return o.asyncQueue.enqueueAndForget(async()=>{const d=await WF(o);new GF(o.asyncQueue,d,h,u,f).$u()}),f.promise}(Hn(n),i=>e(new zz(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(){return new Ff("deleteField")}function Hz(){return new Ew("serverTimestamp")}function $z(...n){return new bw("arrayUnion",n)}function Gz(...n){return new ww("arrayRemove",n)}function Kz(n){return new Tw("increment",n)}(function(e,t=!0){(function(i){Rc=i})(eo),Ba(new $i("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Jt(new z5(r.getProvider("auth-internal")),new H5(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),oi(hR,dR,e),oi(hR,dR,"esm2017")})();const Wz="@firebase/firestore-compat",Yz="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function U1(){if(!S9())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let T2=class TE{constructor(e){this._delegate=e}static fromBase64String(e){return U1(),new TE(Yi.fromBase64String(e))}static fromUint8Array(e){return L1(),new TE(Yi.fromUint8Array(e))}toBase64(){return U1(),this._delegate.toBase64()}toUint8Array(){return L1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){return Qz(n,["next","error","complete"])}function Qz(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{enableIndexedDbPersistence(e,t){return az(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return oz(e._delegate)}clearIndexedDbPersistence(e){return lz(e._delegate)}}class S2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){nz(this._delegate,e,t,r)}enableNetwork(){return cz(this._delegate)}disableNetwork(){return hz(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,e2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return uz(this._delegate)}onSnapshotsInSync(e){return Lz(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gc(this,a2(this._delegate,e))}catch(t){throw Qn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Hr(this,Ng(this._delegate,e))}catch(t){throw Qn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yn(this,rz(this._delegate,e))}catch(t){throw Qn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return jz(this._delegate,t=>e(new A2(this,t)))}batch(){return Hn(this._delegate),new I2(new Bz(this._delegate,e=>jf(this._delegate,e)))}loadBundle(e){return dz(this._delegate,e)}namedQuery(e){return fz(this._delegate,e).then(t=>t?new Yn(this,t):null)}}class Ny extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new T2(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hr.forKey(t,this.firestore,null)}}function Jz(n){L5(n)}class A2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}get(e){const t=nl(e);return this._delegate.get(t).then(r=>new hf(this._firestore,new Bs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=nl(e);return r?(Nw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=nl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=nl(e);return this._delegate.delete(t),this}}class I2{constructor(e){this._delegate=e}set(e,t,r){const i=nl(e);return r?(Nw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=nl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=nl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _l{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new df(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_l.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new _l(e,new Ny(e),t),i.set(t,o)),o}}_l.INSTANCES=new WeakMap;class Hr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hr(t,new Mt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new Hr(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gc(this.firestore,a2(this._delegate,e))}catch(t){throw Qn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Mt?o2(this._delegate,e):!1}set(e,t){t=Nw("DocumentReference.set",t);try{return t?M1(this._delegate,e,t):M1(this._delegate,e)}catch(r){throw Qn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?V1(this._delegate,e):V1(this._delegate,e,t,...r)}catch(i){throw Qn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Mz(this._delegate)}onSnapshot(...e){const t=R2(e),r=C2(e,i=>new hf(this.firestore,new Bs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return w2(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Pz(this._delegate):(e==null?void 0:e.source)==="server"?t=Oz(this._delegate):t=xz(this._delegate),t.then(r=>new hf(this.firestore,new Bs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Hr(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Qn(n,e,t){return n.message=n.message.replace(e,t),n}function R2(n){for(const e of n)if(typeof e=="object"&&!SE(e))return e;return{}}function C2(n,e){var t,r;let i;return SE(n[0])?i=n[0]:SE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class hf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return b2(this._delegate,e._delegate)}}class df extends hf{data(e){const t=this._delegate.data(e);return this._delegate._converter||U5(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Yn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}where(e,t,r){try{return new Yn(this.firestore,Ia(this._delegate,vz(e,t,r)))}catch(i){throw Qn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yn(this.firestore,Ia(this._delegate,Ez(e,t)))}catch(r){throw Qn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yn(this.firestore,Ia(this._delegate,bz(e)))}catch(t){throw Qn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yn(this.firestore,Ia(this._delegate,wz(e)))}catch(t){throw Qn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yn(this.firestore,Ia(this._delegate,Tz(...e)))}catch(t){throw Qn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yn(this.firestore,Ia(this._delegate,Sz(...e)))}catch(t){throw Qn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yn(this.firestore,Ia(this._delegate,Az(...e)))}catch(t){throw Qn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yn(this.firestore,Ia(this._delegate,Iz(...e)))}catch(t){throw Qn(t,"endAt()","Query.endAt()")}}isEqual(e){return l2(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Nz(this._delegate):(e==null?void 0:e.source)==="server"?t=kz(this._delegate):t=Dz(this._delegate),t.then(r=>new AE(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=R2(e),r=C2(e,i=>new AE(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return w2(this._delegate,t,r)}withConverter(e){return new Yn(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Zz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new df(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new df(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Zz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new df(this._firestore,r))})}isEqual(e){return b2(this._delegate,e._delegate)}}class gc extends Yn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hr(this.firestore,e):null}doc(e){try{return e===void 0?new Hr(this.firestore,Ng(this._delegate)):new Hr(this.firestore,Ng(this._delegate,e))}catch(t){throw Qn(t,"doc()","CollectionReference.doc()")}}add(e){return Vz(this._delegate,e).then(t=>new Hr(this.firestore,t))}isEqual(e){return o2(this._delegate,e._delegate)}withConverter(e){return new gc(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nl(n){return Ze(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(...e){this._delegate=new Wa(...e)}static documentId(){return new kw(Ct.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Wa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static serverTimestamp(){const e=Hz();return e._methodName="FieldValue.serverTimestamp",new Jo(e)}static delete(){const e=qz();return e._methodName="FieldValue.delete",new Jo(e)}static arrayUnion(...e){const t=$z(...e);return t._methodName="FieldValue.arrayUnion",new Jo(t)}static arrayRemove(...e){const t=Gz(...e);return t._methodName="FieldValue.arrayRemove",new Jo(t)}static increment(e){const t=Kz(e);return t._methodName="FieldValue.increment",new Jo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={Firestore:S2,GeoPoint:Sy,Timestamp:Pt,Blob:T2,Transaction:A2,WriteBatch:I2,DocumentReference:Hr,DocumentSnapshot:hf,Query:Yn,QueryDocumentSnapshot:df,QuerySnapshot:AE,CollectionReference:gc,FieldPath:kw,FieldValue:Jo,setLogLevel:Jz,CACHE_SIZE_UNLIMITED:sz};function tj(n,e){n.INTERNAL.registerComponent(new $i("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ej)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(n){tj(n,(e,t)=>new S2(e,t,new Xz)),n.registerVersion(Wz,Yz)}nj(Tl);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=2e3;async function ij(n,e,t){var r;const{BuildInfo:i}=vl();li(e.sessionId,"AuthEvent did not contain a session ID");const o=await uj(e.sessionId),u={};return Sf()?u.ibi=i.packageName:Tf()?u.apn=i.packageName:In(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,W0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function sj(n){const{BuildInfo:e}=vl(),t={};Sf()?t.iosBundleId=e.packageName:Tf()?t.androidPackageName=e.packageName:In(n,"operation-not-supported-in-this-environment"),await UP(n,t)}function aj(n){const{cordova:e}=vl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,H3()?"_blank":"_system","location=yes"),t(i)})})}async function oj(n,e,t){const{cordova:r}=vl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(gn(n,"redirect-cancelled-by-user"))},rj))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),Tf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function lj(n){var e,t,r,i,o,u,h,f,d,g;const _=vl();ye(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(d=_==null?void 0:_.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function uj(n){const e=cj(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function cj(n){if(li(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=20;class dj extends VP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function fj(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:gj(),postBody:null,tenantId:n.tenantId,error:gn(n,"no-auth-event")}}function pj(n,e){return IE()._set(RE(n),e)}async function B1(n){const e=await IE()._get(RE(n));return e&&await IE()._remove(RE(n)),e}function mj(n,e){var t,r;const i=_j(e);if(i.includes("/__/auth/callback")){const o=Qm(i),u=o.firebaseError?yj(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?gn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function gj(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<hj;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function IE(){return Ar(ny)}function RE(n){return il("authEvent",n.config.apiKey,n.name)}function yj(n){try{return JSON.parse(n)}catch{return null}}function _j(n){const e=Qm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Qm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Qm(i).link||i||r||t||n}function Qm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Uu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=500;class Ej{constructor(){this._redirectPersistence=Fa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ay,this._overrideRedirectResult=Tb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new dj(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){In(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){lj(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),GU(),await this._originValidation(e);const u=fj(e,r,i);await pj(e,u);const h=await ij(e,u,t),f=await aj(h);return oj(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sj(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=vl(),u=setTimeout(async()=>{await B1(e),t.onEvent(F1())},vj),h=async g=>{clearTimeout(u);const _=await B1(e);let v=null;_&&(g!=null&&g.url)&&(v=mj(_,g.url)),t.onEvent(v||F1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;vl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const bj=Ej;function F1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n,e){Lt(n)._logFramework(e)}var Tj="@firebase/auth-compat",Sj="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=1e3;function Fd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function Ij(){return Fd()==="http:"||Fd()==="https:"}function x2(n=Vt()){return!!((Fd()==="file:"||Fd()==="ionic:"||Fd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rj(){return nb()||Kg()}function Cj(){return xx()&&(document==null?void 0:document.documentMode)===11}function xj(n=Vt()){return/Edge\/\d+/.test(n)}function Pj(n=Vt()){return Cj()||xj(n)}function P2(){try{const n=self.localStorage,e=Rf();if(n)return n.setItem(e,"1"),n.removeItem(e),Pj()?Hd():!0}catch{return Mw()&&Hd()}return!1}function Mw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function S0(){return(Ij()||Cx()||x2())&&!Rj()&&P2()&&!Mw()}function O2(){return x2()&&typeof document<"u"}async function Oj(){return O2()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Aj);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function Dj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},nd=ye,D2="persistence";function Nj(n,e){if(nd(Object.values(Tr).includes(e),n,"invalid-persistence-type"),nb()){nd(e!==Tr.SESSION,n,"unsupported-persistence-type");return}if(Kg()){nd(e===Tr.NONE,n,"unsupported-persistence-type");return}if(Mw()){nd(e===Tr.NONE||e===Tr.LOCAL&&Hd(),n,"unsupported-persistence-type");return}nd(e===Tr.NONE||P2(),n,"unsupported-persistence-type")}async function CE(n){await n._initializationPromise;const e=N2(),t=il(D2,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function kj(n,e){const t=N2();if(!t)return[];const r=il(D2,n,e);switch(t.getItem(r)){case Tr.NONE:return[Yu];case Tr.LOCAL:return[Xu,Fa];case Tr.SESSION:return[Fa];default:return[]}}function N2(){var n;try{return((n=Dj())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=ye;class Oa{constructor(){this.browserResolver=Ar(BP),this.cordovaResolver=Ar(bj),this.underlyingResolver=null,this._redirectPersistence=Fa,this._completeRedirectFn=ay,this._overrideRedirectResult=Tb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return O2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Oj();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n){return n.unwrap()}function Vj(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){return M2(n)}function Uj(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Bj(n,oU(n,e))}else if(r){const i=M2(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function M2(n){const{_tokenResponse:e}=n instanceof Xn?n.customData:n;if(!e)return null;if(!(n instanceof Xn)&&"temporaryProof"in e&&"phoneNumber"in e)return ul.credentialFromResult(n);const t=e.providerId;if(!t||t===Yh.PASSWORD)return null;let r;switch(t){case Yh.GOOGLE:r=Mi;break;case Yh.FACEBOOK:r=ki;break;case Yh.GITHUB:r=Vi;break;case Yh.TWITTER:r=Li;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Qu._create(t,h):Gi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new zu(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof Xn?r.credentialFromError(n):r.credentialFromResult(n)}function ir(n,e){return e.catch(t=>{throw t instanceof Xn&&Uj(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Lj(t),additionalUserInfo:iU(t),user:Ps.getOrCreate(i)}})}async function xE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>ir(n,t.confirm(r))}}class Bj{constructor(e,t){this.resolver=t,this.auth=Vj(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ir(k2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._delegate=e,this.multiFactor=cU(e)}static getOrCreate(e){return Ps.USER_MAP.has(e)||Ps.USER_MAP.set(e,new Ps(e)),Ps.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ir(this.auth,vP(this._delegate,e))}async linkWithPhoneNumber(e,t){return xE(this.auth,NU(this._delegate,e,t))}async linkWithPopup(e){return ir(this.auth,jU(this._delegate,e,Oa))}async linkWithRedirect(e){return await CE(Lt(this.auth)),XU(this._delegate,e,Oa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ir(this.auth,EP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return xE(this.auth,kU(this._delegate,e,t))}reauthenticateWithPopup(e){return ir(this.auth,zU(this._delegate,e,Oa))}async reauthenticateWithRedirect(e){return await CE(Lt(this.auth)),YU(this._delegate,e,Oa)}sendEmailVerification(e){return K6(this._delegate,e)}async unlink(e){return await M6(this._delegate,e),this}updateEmail(e){return X6(this._delegate,e)}updatePassword(e){return J6(this._delegate,e)}updatePhoneNumber(e){return MU(this._delegate,e)}updateProfile(e){return Q6(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return W6(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=ye;let PE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rd(r,"invalid-api-key",{appName:e.name}),rd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Oa:void 0;this._delegate=t.initialize({options:{persistence:Fj(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(S3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){hP(this._delegate,e,t)}applyActionCode(e){return F6(this._delegate,e)}checkActionCode(e){return bP(this._delegate,e)}confirmPasswordReset(e,t){return B6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ir(this._delegate,wP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return G6(this._delegate,e)}isSignInWithEmailLink(e){return q6(this._delegate,e)}async getRedirectResult(){rd(S0(),this._delegate,"operation-not-supported-in-this-environment");const e=await ZU(this._delegate,Oa);return e?ir(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){wj(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=z1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=z1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return j6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return U6(this._delegate,e,t||void 0)}async setPersistence(e){Nj(this._delegate,e);let t;switch(e){case Tr.SESSION:t=Fa;break;case Tr.LOCAL:t=await Ar(Xu)._isAvailable()?Xu:ny;break;case Tr.NONE:t=Yu;break;default:return In("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ir(this._delegate,k6(this._delegate))}signInWithCredential(e){return ir(this._delegate,ey(this._delegate,e))}signInWithCustomToken(e){return ir(this._delegate,L6(this._delegate,e))}signInWithEmailAndPassword(e,t){return ir(this._delegate,TP(this._delegate,e,t))}signInWithEmailLink(e,t){return ir(this._delegate,H6(this._delegate,e,t))}signInWithPhoneNumber(e,t){return xE(this._delegate,DU(this._delegate,e,t))}async signInWithPopup(e){return rd(S0(),this._delegate,"operation-not-supported-in-this-environment"),ir(this._delegate,FU(this._delegate,e,Oa))}async signInWithRedirect(e){return rd(S0(),this._delegate,"operation-not-supported-in-this-environment"),await CE(this._delegate),KU(this._delegate,e,Oa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return z6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};PE.Persistence=Tr;function z1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ps.getOrCreate(u)),error:e,complete:t}}function Fj(n,e){const t=kj(n,e);if(typeof self<"u"&&!t.includes(Xu)&&t.push(Xu),typeof window<"u")for(const r of[ny,Fa])t.includes(r)||t.push(r);return t.includes(Yu)||t.push(Yu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{static credential(e,t){return ul.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ul(k2(Tl.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Vw.PHONE_SIGN_IN_METHOD=ul.PHONE_SIGN_IN_METHOD;Vw.PROVIDER_ID=ul.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=ye;class jj{constructor(e,t,r=Tl.app()){var i;zj((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new PU(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="auth-compat";function Hj(n){n.INTERNAL.registerComponent(new $i(qj,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new PE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Eu.EMAIL_SIGNIN,PASSWORD_RESET:Eu.PASSWORD_RESET,RECOVER_EMAIL:Eu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Eu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Eu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Eu.VERIFY_EMAIL}},EmailAuthProvider:to,FacebookAuthProvider:ki,GithubAuthProvider:Vi,GoogleAuthProvider:Mi,OAuthProvider:zu,SAMLAuthProvider:pg,PhoneAuthProvider:Vw,PhoneMultiFactorGenerator:FP,RecaptchaVerifier:jj,TwitterAuthProvider:Li,Auth:PE,AuthCredential:Ac,Error:Xn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Tj,Sj)}Hj(Tl);const $j={apiKey:"AIzaSyD7L3cxPGmkmWU10YD_2-bGPo-v0dzjboM",authDomain:"clone-b9284.firebaseapp.com",projectId:"clone-b9284",storageBucket:"clone-b9284.firebasestorage.app",messagingSenderId:"76682161259",appId:"1:76682161259:web:952a76a024e628295e152e"},Gj=Tl.initializeApp($j),Mg=M5(Gj),V2=Tl.firestore();function Kj(n){return wc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function Wj(n){return wc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function Yj(n){return wc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function Qj(){var i;const[{user:n,basket:e},t]=W.useContext(zs),r=e==null?void 0:e.reduce((o,u)=>u.amount+o,0);return console.log(e),q.jsxs("section",{className:Is.fixed,children:[q.jsx("section",{children:q.jsxs("div",{className:Is.header__container,children:[q.jsxs("div",{className:Is.logo__container,children:[q.jsx(si,{to:"/",children:q.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),q.jsxs("div",{className:Is.delivery,children:[q.jsx("span",{children:q.jsx(Kj,{})}),q.jsxs("div",{children:[q.jsx("p",{children:"Deliver to"}),q.jsx("span",{children:"Maryland"})]})]})]}),q.jsxs("div",{className:Is.search,children:[q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"All"})}),q.jsx("input",{type:"text",name:"",id:"",placeholder:"search Amazon"}),q.jsx(Wj,{size:38})]}),q.jsxs("div",{className:Is.order__container,children:[q.jsxs(si,{to:"",className:Is.language,children:[q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Flag_of_the_United_States.png/800px-Flag_of_the_United_States.png",alt:"USA"}),q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"EN"})})]}),q.jsx(si,{to:!n&&"/auth",children:q.jsx("div",{children:n?q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:["Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),q.jsx("span",{onClick:()=>Mg.signOut(),children:"Sign Out"})]}):q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"Hello, Sign In"}),q.jsx("span",{children:"Account & Lists"})]})})}),q.jsxs(si,{to:"/orders",children:[q.jsx("p",{children:"returns"}),q.jsx("span",{children:"& Orders"})]}),q.jsxs(si,{to:"/cart",className:Is.cart,children:[q.jsx(Yj,{size:35}),q.jsx("span",{children:r})]})]})]})}),q.jsx(OL,{})]})}const Mc=({children:n})=>q.jsxs("div",{children:[q.jsx(Qj,{}),n]});var A0={},id={},Rm={},Cm={},I0={exports:{}},R0,j1;function Xj(){if(j1)return R0;j1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R0=n,R0}var C0,q1;function Jj(){if(q1)return C0;q1=1;var n=Xj();function e(){}function t(){}return t.resetWarningCache=e,C0=function(){function r(u,h,f,d,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},C0}var H1;function L2(){return H1||(H1=1,I0.exports=Jj()()),I0.exports}var $1;function Zj(){return $1||($1=1,function(n){(function(e,t){t(n,Ja(),L2())})(Cm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=b;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var U=1;U<arguments.length;U++){var $=arguments[U];for(var F in $)Object.prototype.hasOwnProperty.call($,F)&&(L[F]=$[F])}return L};function f(L,U){var $={};for(var F in L)U.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(L,F)&&($[F]=L[F]);return $}function d(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(U,$){for(var F=0;F<$.length;F++){var K=$[F];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}return function(U,$,F){return $&&L(U.prototype,$),F&&L(U,F),U}}();function _(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function v(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var T=!1;function b(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){b(!0)}}))}catch{}function A(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function x(L){if("touches"in L){var U=L.touches[0],$=U.pageX,F=U.pageY;return{x:$,y:F}}var K=L.screenX,M=L.screenY;return{x:K,y:M}}var V=function(L){v(U,L);function U(){var $;d(this,U);for(var F=arguments.length,K=Array(F),M=0;M<F;M++)K[M]=arguments[M];var R=_(this,($=U.__proto__||Object.getPrototypeOf(U)).call.apply($,[this].concat(K)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var K=x(F),M=K.x,R=K.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var K=x(F),M=K.x,R=K.y,P=M-this.moveStart.x,w=R-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:P,y:w},F);O&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:P,deltaY:w}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var K=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-K?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>K&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-K?this.props.onSwipeUp(1,F):this.movePosition.deltaY>K&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var K=F.className,M=F.style,R=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var P=f(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:K,style:M},P),R)}}]),U}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(Cm)),Cm}var G1;function U2(){return G1||(G1=1,function(n){(function(e,t){t(n,Zj())})(Rm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Rm)),Rm}var sd={},x0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var K1;function e8(){return K1||(K1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(x0)),x0.exports}var W1;function B2(){if(W1)return sd;W1=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var n=e(e8());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return sd.default=r,sd}var ad={},od={},Y1;function t8(){if(Y1)return od;Y1=1,Object.defineProperty(od,"__esModule",{value:!0}),od.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return od.outerWidth=n,od}var ld={},Q1;function Lw(){if(Q1)return ld;Q1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return ld.default=n,ld}var ud={},X1;function F2(){if(X1)return ud;X1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=function(){return window};return ud.default=n,ud}var J1;function z2(){if(J1)return ad;J1=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var n=f(Ja()),e=u(B2()),t=t8(),r=u(Lw()),i=u(U2()),o=u(F2());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var P=h();if(P&&P.has(R))return P.get(R);var w={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in R)if(Object.prototype.hasOwnProperty.call(R,C)){var D=O?Object.getOwnPropertyDescriptor(R,C):null;D&&(D.get||D.set)?Object.defineProperty(w,C,D):w[C]=R[C]}return w.default=R,P&&P.set(R,w),w}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(w){return typeof w}:d=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(R)}function g(){return g=Object.assign||function(R){for(var P=1;P<arguments.length;P++){var w=arguments[P];for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(R[O]=w[O])}return R},g.apply(this,arguments)}function _(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function v(R,P){for(var w=0;w<P.length;w++){var O=P[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function T(R,P,w){return P&&v(R.prototype,P),R}function b(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),P&&A(R,P)}function A(R,P){return A=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},A(R,P)}function x(R){var P=U();return function(){var O=$(R),C;if(P){var D=$(this).constructor;C=Reflect.construct(O,arguments,D)}else C=O.apply(this,arguments);return V(this,C)}}function V(R,P){return P&&(d(P)==="object"||typeof P=="function")?P:L(R)}function L(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(R){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},$(R)}function F(R,P,w){return P in R?Object.defineProperty(R,P,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[P]=w,R}var K=function(P){return P.hasOwnProperty("key")},M=function(R){b(w,R);var P=x(w);function w(O){var C;return _(this,w),C=P.call(this,O),F(L(C),"itemsWrapperRef",void 0),F(L(C),"itemsListRef",void 0),F(L(C),"thumbsRef",void 0),F(L(C),"setItemsWrapperRef",function(D){C.itemsWrapperRef=D}),F(L(C),"setItemsListRef",function(D){C.itemsListRef=D}),F(L(C),"setThumbsRef",function(D,ae){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[ae]=D}),F(L(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var D=n.Children.count(C.props.children),ae=C.itemsWrapperRef.clientWidth,B=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),H=Math.floor(ae/B),J=H<D,le=J?D-H:0;C.setState(function(be,j){return{itemSize:B,visibleItems:H,firstItem:J?C.getFirstItem(j.selectedItem):0,lastPosition:le,showArrows:J}})}}),F(L(C),"handleClickItem",function(D,ae,B){if(!K(B)||B.key==="Enter"){var H=C.props.onSelectItem;typeof H=="function"&&H(D,ae)}}),F(L(C),"onSwipeStart",function(){C.setState({swiping:!0})}),F(L(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),F(L(C),"onSwipeMove",function(D){var ae=D.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var B=0,H=n.Children.count(C.props.children),J=-(C.state.firstItem*100)/C.state.visibleItems,le=Math.max(H-C.state.visibleItems,0),be=-le*100/C.state.visibleItems;J===B&&ae>0&&(ae=0),J===be&&ae<0&&(ae=0);var j=C.itemsWrapperRef.clientWidth,re=J+100/(j/ae);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){C.itemsListRef.style[ge]=(0,r.default)(re,"%",C.props.axis)}),!0}),F(L(C),"slideRight",function(D){C.moveTo(C.state.firstItem-(typeof D=="number"?D:1))}),F(L(C),"slideLeft",function(D){C.moveTo(C.state.firstItem+(typeof D=="number"?D:1))}),F(L(C),"moveTo",function(D){D=D<0?0:D,D=D>=C.state.lastPosition?C.state.lastPosition:D,C.setState({firstItem:D})}),C.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return T(w,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var D=C;return C>=this.state.lastPosition&&(D=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),C<this.state.firstItem&&(D=C),D}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(D,ae){var B=e.default.ITEM(!1,ae===C.state.selectedItem),H={key:ae,ref:function(le){return C.setThumbsRef(le,ae)},className:B,onClick:C.handleClickItem.bind(C,ae,C.props.children[ae]),onKeyDown:C.handleClickItem.bind(C,ae,C.props.children[ae]),"aria-label":"".concat(C.props.labels.item," ").concat(ae+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",g({},H,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,ae=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,H={},J=-this.state.firstItem*(this.state.itemSize||0),le=(0,r.default)(J,"px",this.props.axis),be=this.props.transitionTime+"ms";return H={WebkitTransform:le,MozTransform:le,MsTransform:le,OTransform:le,transform:le,msTransform:le,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ae),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:H,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(re){return C.setItemsListRef(re)},style:H},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),w}(n.Component);return ad.default=M,F(M,"displayName","Thumbs"),F(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ad}var cd={},Z1;function n8(){if(Z1)return cd;Z1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=function(){return document};return cd.default=n,cd}var Er={},eC;function j2(){if(eC)return Er;eC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.setPosition=Er.getPosition=Er.isKeyboardEvent=Er.defaultStatusFormatter=Er.noop=void 0;var n=Ja(),e=t(Lw());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};Er.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};Er.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};Er.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,T=_-1;return d&&(d!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===T&&(v+=100-g.centerSlidePercentage),v}return-d*100};Er.getPosition=u;var h=function(d,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(d,"%",g)}),_};return Er.setPosition=h,Er}var ri={},tC;function r8(){if(tC)return ri;tC=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.fadeAnimationHandler=ri.slideStopSwipingHandler=ri.slideSwipeAnimationHandler=ri.slideAnimationHandler=void 0;var n=Ja(),e=r(Lw()),t=j2();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);v&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(_,A).enumerable})),T.push.apply(T,b)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(b){u(_,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(T,b))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var b={},A=T.selectedItem,x=A,V=n.Children.count(v.children)-1,L=v.infiniteLoop&&(A<0||A>V);if(L)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?b.itemListStyle=(0,t.setPosition)(-(V+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):b.itemListStyle=(0,t.setPosition)(-(V+2)*100,v.axis):x>V&&(b.itemListStyle=(0,t.setPosition)(0,v.axis)),b;var U=(0,t.getPosition)(A,v),$=(0,e.default)(U,"%",v.axis),F=v.transitionTime+"ms";return b.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(b.itemListStyle=o(o({},b.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),b};ri.slideAnimationHandler=h;var f=function(v,T,b,A){var x={},V=T.axis==="horizontal",L=n.Children.count(T.children),U=0,$=(0,t.getPosition)(b.selectedItem,T),F=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),K=V?v.x:v.y,M=K;$===U&&K>0&&(M=0),$===F&&K<0&&(M=0);var R=$+100/(b.itemSize/M),P=Math.abs(K)>T.swipeScrollTolerance;return T.infiniteLoop&&P&&(b.selectedItem===0&&R>-100?R-=L*100:b.selectedItem===L-1&&R<-L*100&&(R+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||P||b.swipeMovementStarted)&&(b.swipeMovementStarted||A({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(R,T.axis)),P&&!b.cancelClick&&A({cancelClick:!0}),x};ri.slideSwipeAnimationHandler=f;var d=function(v,T){var b=(0,t.getPosition)(T.selectedItem,v),A=(0,t.setPosition)(b,v.axis);return{itemListStyle:A}};ri.slideStopSwipingHandler=d;var g=function(v,T){var b=v.transitionTime+"ms",A="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:b,MozTransitionDuration:b,OTransitionDuration:b,transitionDuration:b,msTransitionDuration:b})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return ri.fadeAnimationHandler=g,ri}var nC;function i8(){if(nC)return id;nC=1,Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var n=g(Ja()),e=f(U2()),t=f(B2()),r=f(z2()),i=f(n8()),o=f(F2()),u=j2(),h=r8();function f(O){return O&&O.__esModule?O:{default:O}}function d(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return d=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var C=d();if(C&&C.has(O))return C.get(O);var D={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in O)if(Object.prototype.hasOwnProperty.call(O,B)){var H=ae?Object.getOwnPropertyDescriptor(O,B):null;H&&(H.get||H.set)?Object.defineProperty(D,B,H):D[B]=O[B]}return D.default=O,C&&C.set(O,D),D}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(O)}function v(){return v=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var ae in D)Object.prototype.hasOwnProperty.call(D,ae)&&(O[ae]=D[ae])}return O},v.apply(this,arguments)}function T(O,C){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(O);C&&(ae=ae.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),D.push.apply(D,ae)}return D}function b(O){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?T(Object(D),!0).forEach(function(ae){P(O,ae,D[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(ae){Object.defineProperty(O,ae,Object.getOwnPropertyDescriptor(D,ae))})}return O}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function x(O,C){for(var D=0;D<C.length;D++){var ae=C[D];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(O,ae.key,ae)}}function V(O,C,D){return C&&x(O.prototype,C),O}function L(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&U(O,C)}function U(O,C){return U=Object.setPrototypeOf||function(ae,B){return ae.__proto__=B,ae},U(O,C)}function $(O){var C=M();return function(){var ae=R(O),B;if(C){var H=R(this).constructor;B=Reflect.construct(ae,arguments,H)}else B=ae.apply(this,arguments);return F(this,B)}}function F(O,C){return C&&(_(C)==="object"||typeof C=="function")?C:K(O)}function K(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(O){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(O)}function P(O,C,D){return C in O?Object.defineProperty(O,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[C]=D,O}var w=function(O){L(D,O);var C=$(D);function D(ae){var B;A(this,D),B=C.call(this,ae),P(K(B),"thumbsRef",void 0),P(K(B),"carouselWrapperRef",void 0),P(K(B),"listRef",void 0),P(K(B),"itemsRef",void 0),P(K(B),"timer",void 0),P(K(B),"animationHandler",void 0),P(K(B),"setThumbsRef",function(J){B.thumbsRef=J}),P(K(B),"setCarouselWrapperRef",function(J){B.carouselWrapperRef=J}),P(K(B),"setListRef",function(J){B.listRef=J}),P(K(B),"setItemsRef",function(J,le){B.itemsRef||(B.itemsRef=[]),B.itemsRef[le]=J}),P(K(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),P(K(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),P(K(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),P(K(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),P(K(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),P(K(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),P(K(B),"navigateWithKeyboard",function(J){if(B.isFocusWithinTheCarousel()){var le=B.props.axis,be=le==="horizontal",j={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},re=be?j.ArrowRight:j.ArrowDown,ge=be?j.ArrowLeft:j.ArrowUp;re===J.keyCode?B.increment():ge===J.keyCode&&B.decrement()}}),P(K(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var J=B.props.axis==="horizontal",le=B.itemsRef[0];if(le){var be=J?le.clientWidth:le.clientHeight;B.setState({itemSize:be}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),P(K(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),P(K(B),"handleClickItem",function(J,le){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(J,le),J!==B.state.selectedItem&&B.setState({selectedItem:J})}}),P(K(B),"handleOnChange",function(J,le){n.Children.count(B.props.children)<=1||B.props.onChange(J,le)}),P(K(B),"handleClickThumb",function(J,le){B.props.onClickThumb(J,le),B.moveTo(J)}),P(K(B),"onSwipeStart",function(J){B.setState({swiping:!0}),B.props.onSwipeStart(J)}),P(K(B),"onSwipeEnd",function(J){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(J),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),P(K(B),"onSwipeMove",function(J,le){B.props.onSwipeMove(le);var be=B.props.swipeAnimationHandler(J,B.props,B.state,B.setState.bind(K(B)));return B.setState(b({},be)),!!Object.keys(be).length}),P(K(B),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof J=="number"?J:1))}),P(K(B),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof J=="number"?J:1))}),P(K(B),"moveTo",function(J){if(typeof J=="number"){var le=n.Children.count(B.props.children)-1;J<0&&(J=B.props.infiniteLoop?le:0),J>le&&(J=B.props.infiniteLoop?0:le),B.selectItem({selectedItem:J}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),P(K(B),"onClickNext",function(){B.increment(1)}),P(K(B),"onClickPrev",function(){B.decrement(1)}),P(K(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P(K(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P(K(B),"changeItem",function(J){return function(le){(!(0,u.isKeyboardEvent)(le)||le.key==="Enter")&&B.moveTo(J)}}),P(K(B),"selectItem",function(J){B.setState(b({previousItem:B.state.selectedItem},J),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(J.selectedItem,n.Children.toArray(B.props.children)[J.selectedItem])}),P(K(B),"getInitialImage",function(){var J=B.props.selectedItem,le=B.itemsRef&&B.itemsRef[J],be=le&&le.getElementsByTagName("img")||[];return be[0]}),P(K(B),"getVariableItemHeight",function(J){var le=B.itemsRef&&B.itemsRef[J];if(B.state.hasMount&&le&&le.children.length){var be=le.children[0].getElementsByTagName("img")||[];if(be.length>0){var j=be[0];if(!j.complete){var re=function Te(){B.forceUpdate(),j.removeEventListener("load",Te)};j.addEventListener("load",re)}}var ge=be[0]||le.children[0],me=ge.clientHeight;return me>0?me:null}return null});var H={initialized:!1,previousItem:ae.selectedItem,selectedItem:ae.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ae.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof ae.animationHandler=="function"&&ae.animationHandler||ae.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=b(b({},H),B.animationHandler(ae,H)),B}return V(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,H){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),H.swiping&&!this.state.swiping&&this.setState(b({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var H=B.getInitialImage();H&&!H.complete?H.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var H=this;return this.props.children?n.Children.map(this.props.children,function(J,le){var be=le===H.state.selectedItem,j=le===H.state.previousItem,re=be&&H.state.selectedStyle||j&&H.state.prevStyle||H.state.slideStyle||{};H.props.centerMode&&H.props.axis==="horizontal"&&(re=b(b({},re),{},{minWidth:H.props.centerSlidePercentage+"%"})),H.state.swiping&&H.state.swipeMovementStarted&&(re=b(b({},re),{},{pointerEvents:"none"}));var ge={ref:function(Te){return H.setItemsRef(Te,le)},key:"itemKey"+le+(B?"clone":""),className:t.default.ITEM(!0,le===H.state.selectedItem,le===H.state.previousItem),onClick:H.handleClickItem.bind(H,le,J),style:re};return n.default.createElement("li",ge,H.props.renderItem(J,{isSelected:le===H.state.selectedItem,isPrevious:le===H.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,H=this.props,J=H.showIndicators,le=H.labels,be=H.renderIndicator,j=H.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(j,function(re,ge){return be&&be(B.changeItem(ge),ge===B.state.selectedItem,ge,le.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var H=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",le=this.props.showArrows&&n.Children.count(this.props.children)>1,be=le&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,j=le&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,re=this.renderItems(!0),ge=re.shift(),me=re.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(J){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);ke.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=b(b({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},H?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(rt){return B.setListRef(rt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge)),this.props.renderArrowNext(this.onClickNext,j,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return id.default=w,P(w,"displayName","Carousel"),P(w,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,D,ae){return n.default.createElement("button",{type:"button","aria-label":ae,className:t.default.ARROW_PREV(!D),onClick:C})},renderArrowNext:function(C,D,ae){return n.default.createElement("button",{type:"button","aria-label":ae,className:t.default.ARROW_NEXT(!D),onClick:C})},renderIndicator:function(C,D,ae,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:C,onKeyDown:C,value:ae,key:ae,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(ae+1)})},renderItem:function(C){return C},renderThumbs:function(C){var D=n.Children.map(C,function(ae){var B=ae;if(ae.type!=="img"&&(B=n.Children.toArray(ae.props.children).find(function(H){return H.type==="img"})),!!B)return B});return D.filter(function(ae){return ae}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),id}var rC={},iC;function s8(){return iC||(iC=1),rC}var sC;function a8(){return sC||(sC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(i8()),t=s8(),r=i(z2());function i(o){return o&&o.__esModule?o:{default:o}}}(A0)),A0}var o8=a8();const l8="/assets/10001--Qo32Hzc.jpg",u8="/assets/10002-CO6XiwvK.jpg",c8="/assets/10003-CKEg0SWO.jpg",h8="/assets/10004-Fp0oaH3y.jpg",d8="/assets/10005-bl35EseN.jpg",f8=[l8,u8,c8,h8,d8],p8="_hero_img_1wp82_1",m8={hero_img:p8},g8=()=>q.jsxs("div",{children:[q.jsx(o8.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:f8.map(n=>q.jsx("img",{src:n},n))}),q.jsx("div",{className:m8.hero_img,children:" "})]}),y8=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81QpkIctqPL._AC_SX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/81XH0e8fefL._AC_UY879_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg"}],_8="_category_wz9qk_1",v8="_category_container_wz9qk_57",q2={category:_8,category_container:v8};function E8({data:n}){return console.log(n),q.jsx("div",{className:q2.category,children:q.jsxs(si,{to:`/category/${n.name}`,children:[q.jsx("span",{children:q.jsx("h2",{children:n==null?void 0:n.title})}),q.jsx("img",{src:n==null?void 0:n.imgLink,alt:"Product image"}),q.jsx("p",{children:" Shop now"})]})})}function b8(){return q.jsx("section",{className:q2.category_container,children:y8.map((n,e)=>q.jsx(E8,{data:n},e))})}function H2(n,e){return function(){return n.apply(e,arguments)}}const{toString:w8}=Object.prototype,{getPrototypeOf:Uw}=Object,{iterator:ky,toStringTag:$2}=Symbol,My=(n=>e=>{const t=w8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ui=n=>(n=n.toLowerCase(),e=>My(e)===n),Vy=n=>e=>typeof e===n,{isArray:Vc}=Array,ff=Vy("undefined");function T8(n){return n!==null&&!ff(n)&&n.constructor!==null&&!ff(n.constructor)&&lr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const G2=ui("ArrayBuffer");function S8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&G2(n.buffer),e}const A8=Vy("string"),lr=Vy("function"),K2=Vy("number"),Ly=n=>n!==null&&typeof n=="object",I8=n=>n===!0||n===!1,Xm=n=>{if(My(n)!=="object")return!1;const e=Uw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($2 in n)&&!(ky in n)},R8=ui("Date"),C8=ui("File"),x8=ui("Blob"),P8=ui("FileList"),O8=n=>Ly(n)&&lr(n.pipe),D8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||lr(n.append)&&((e=My(n))==="formdata"||e==="object"&&lr(n.toString)&&n.toString()==="[object FormData]"))},N8=ui("URLSearchParams"),[k8,M8,V8,L8]=["ReadableStream","Request","Response","Headers"].map(ui),U8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Vc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function W2(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y2=n=>!ff(n)&&n!==rl;function OE(){const{caseless:n}=Y2(this)&&this||{},e={},t=(r,i)=>{const o=n&&W2(e,i)||i;Xm(e[o])&&Xm(r)?e[o]=OE(e[o],r):Xm(r)?e[o]=OE({},r):Vc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qf(arguments[r],t);return e}const B8=(n,e,t,{allOwnKeys:r}={})=>(qf(e,(i,o)=>{t&&lr(i)?n[o]=H2(i,t):n[o]=i},{allOwnKeys:r}),n),F8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),z8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},j8=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Uw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},q8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},H8=n=>{if(!n)return null;if(Vc(n))return n;let e=n.length;if(!K2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},$8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Uw(Uint8Array)),G8=(n,e)=>{const r=(n&&n[ky]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},K8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},W8=ui("HTMLFormElement"),Y8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),aC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Q8=ui("RegExp"),Q2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};qf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},X8=n=>{Q2(n,(e,t)=>{if(lr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(lr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},J8=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Vc(n)?r(n):r(String(n).split(e)),t},Z8=()=>{},eq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function tq(n){return!!(n&&lr(n.append)&&n[$2]==="FormData"&&n[ky])}const nq=n=>{const e=new Array(10),t=(r,i)=>{if(Ly(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Vc(r)?[]:{};return qf(r,(u,h)=>{const f=t(u,i+1);!ff(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},rq=ui("AsyncFunction"),iq=n=>n&&(Ly(n)||lr(n))&&lr(n.then)&&lr(n.catch),X2=((n,e)=>n?setImmediate:e?((t,r)=>(rl.addEventListener("message",({source:i,data:o})=>{i===rl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),rl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",lr(rl.postMessage)),sq=typeof queueMicrotask<"u"?queueMicrotask.bind(rl):typeof process<"u"&&process.nextTick||X2,aq=n=>n!=null&&lr(n[ky]),oe={isArray:Vc,isArrayBuffer:G2,isBuffer:T8,isFormData:D8,isArrayBufferView:S8,isString:A8,isNumber:K2,isBoolean:I8,isObject:Ly,isPlainObject:Xm,isReadableStream:k8,isRequest:M8,isResponse:V8,isHeaders:L8,isUndefined:ff,isDate:R8,isFile:C8,isBlob:x8,isRegExp:Q8,isFunction:lr,isStream:O8,isURLSearchParams:N8,isTypedArray:$8,isFileList:P8,forEach:qf,merge:OE,extend:B8,trim:U8,stripBOM:F8,inherits:z8,toFlatObject:j8,kindOf:My,kindOfTest:ui,endsWith:q8,toArray:H8,forEachEntry:G8,matchAll:K8,isHTMLForm:W8,hasOwnProperty:aC,hasOwnProp:aC,reduceDescriptors:Q2,freezeMethods:X8,toObjectSet:J8,toCamelCase:Y8,noop:Z8,toFiniteNumber:eq,findKey:W2,global:rl,isContextDefined:Y2,isSpecCompliantForm:tq,toJSONObject:nq,isAsyncFn:rq,isThenable:iq,setImmediate:X2,asap:sq,isIterable:aq};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const J2=Me.prototype,Z2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Z2[n]={value:n}});Object.defineProperties(Me,Z2);Object.defineProperty(J2,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(J2);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const oq=null;function DE(n){return oe.isPlainObject(n)||oe.isArray(n)}function eN(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function oC(n,e,t){return n?n.concat(e).map(function(i,o){return i=eN(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function lq(n){return oe.isArray(n)&&!n.some(DE)}const uq=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Uy(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!oe.isUndefined(x[A])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(!f&&oe.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,A,x){let V=b;if(b&&!x&&typeof b=="object"){if(oe.endsWith(A,"{}"))A=r?A:A.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&lq(b)||(oe.isFileList(b)||oe.endsWith(A,"[]"))&&(V=oe.toArray(b)))return A=eN(A),V.forEach(function(U,$){!(oe.isUndefined(U)||U===null)&&e.append(u===!0?oC([A],$,o):u===null?A:A+"[]",d(U))}),!1}return DE(b)?!0:(e.append(oC(x,A,o),d(b)),!1)}const _=[],v=Object.assign(uq,{defaultVisitor:g,convertValue:d,isVisitable:DE});function T(b,A){if(!oe.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(b),oe.forEach(b,function(V,L){(!(oe.isUndefined(V)||V===null)&&i.call(e,V,oe.isString(L)?L.trim():L,A,v))===!0&&T(V,A?A.concat(L):[L])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return T(n),e}function lC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Bw(n,e){this._pairs=[],n&&Uy(n,this,e)}const tN=Bw.prototype;tN.append=function(e,t){this._pairs.push([e,t])};tN.toString=function(e){const t=e?function(r){return e.call(this,r,lC)}:lC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function cq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nN(n,e,t){if(!e)return n;const r=t&&t.encode||cq;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new Bw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class uC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hq=typeof URLSearchParams<"u"?URLSearchParams:Bw,dq=typeof FormData<"u"?FormData:null,fq=typeof Blob<"u"?Blob:null,pq={isBrowser:!0,classes:{URLSearchParams:hq,FormData:dq,Blob:fq},protocols:["http","https","file","blob","url","data"]},Fw=typeof window<"u"&&typeof document<"u",NE=typeof navigator=="object"&&navigator||void 0,mq=Fw&&(!NE||["ReactNative","NativeScript","NS"].indexOf(NE.product)<0),gq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yq=Fw&&window.location.href||"http://localhost",_q=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fw,hasStandardBrowserEnv:mq,hasStandardBrowserWebWorkerEnv:gq,navigator:NE,origin:yq},Symbol.toStringTag,{value:"Module"})),jn={..._q,...pq};function vq(n,e){return Uy(n,new jn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return jn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Eq(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bq(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function iN(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(i)?i.length:u,f?(oe.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!oe.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&oe.isArray(i[u])&&(i[u]=bq(i[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(Eq(r),i,t,0)}),t}return null}function wq(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Hf={transitional:rN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(iN(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vq(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Uy(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),wq(e)):e}],transformResponse:[function(e){const t=this.transitional||Hf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Hf.headers[n]={}});const Tq=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&Tq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},cC=Symbol("internals");function hd(n){return n&&String(n).trim().toLowerCase()}function Jm(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Jm):String(n)}function Aq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Iq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function P0(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function Rq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Cq(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let ur=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=hd(f);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||f]=Jm(h))}const u=(h,f)=>oe.forEach(h,(d,g)=>o(d,g,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!Iq(e))u(Sq(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,d;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?oe.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=hd(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Aq(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=hd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||P0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=hd(u),u){const h=oe.findKey(r,u);h&&(!t||P0(r,r[h],h,t))&&(delete r[h],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||P0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,o)=>{const u=oe.findKey(r,o);if(u){t[u]=Jm(i),delete t[o];return}const h=e?Rq(o):String(o).trim();h!==o&&delete t[o],t[h]=Jm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[cC]=this[cC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=hd(u);r[h]||(Cq(i,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(ur.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(ur);function O0(n,e){const t=this||Hf,r=e||t,i=ur.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function sN(n){return!!(n&&n.__CANCEL__)}function Lc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Lc,Me,{__CANCEL__:!0});function aN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function xq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Pq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const T=g&&d-g;return T?Math.round(v*1e3/T):void 0}}function Oq(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Vg=(n,e,t=3)=>{let r=0;const i=Pq(50,250);return Oq(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},hC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},dC=n=>(...e)=>oe.asap(()=>n(...e)),Dq=jn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,jn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,Nq=jn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Mq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function oN(n,e,t){let r=!kq(e);return n&&(r||t==!1)?Mq(n,e):e}const fC=n=>n instanceof ur?{...n}:n;function El(n,e){e=e||{};const t={};function r(d,g,_,v){return oe.isPlainObject(d)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},d,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(d,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d,_,v)}else return r(d,g,_,v)}function o(d,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(d,g){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,_){if(_ in e)return r(d,g);if(_ in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,_)=>i(fC(d),fC(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=f[g]||i,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const lN=n=>{const e=El({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=ur.from(u),e.url=nN(oN(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if(jn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&Dq(e.url))){const d=i&&o&&Nq.read(o);d&&u.set(i,d)}return e},Vq=typeof XMLHttpRequest<"u",Lq=Vq&&function(n){return new Promise(function(t,r){const i=lN(n);let o=i.data;const u=ur.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,_,v,T,b;function A(){T&&T(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function V(){if(!x)return;const U=ur.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};aN(function(M){t(M),A()},function(M){r(M),A()},F),x=null}"onloadend"in x?x.onloadend=V:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(V)},x.onabort=function(){x&&(r(new Me("Request aborted",Me.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||rN;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Me($,F.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&oe.forEach(u.toJSON(),function($,F){x.setRequestHeader(F,$)}),oe.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),d&&([v,b]=Vg(d,!0),x.addEventListener("progress",v)),f&&x.upload&&([_,T]=Vg(f),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=U=>{x&&(r(!U||U.type?new Lc(null,n,x):U),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=xq(i.url);if(L&&jn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}x.send(o||null)})},Uq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new Lc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},Bq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Fq=async function*(n,e){for await(const t of zq(n))yield*Bq(t,e)},zq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},pC=(n,e,t,r)=>{const i=Fq(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},By=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uN=By&&typeof ReadableStream=="function",jq=By&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),cN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},qq=uN&&cN(()=>{let n=!1;const e=new Request(jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),mC=64*1024,kE=uN&&cN(()=>oe.isReadableStream(new Response("").body)),Lg={stream:kE&&(n=>n.body)};By&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lg[e]&&(Lg[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const Hq=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(jn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await jq(n)).byteLength},$q=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??Hq(e)},Gq=By&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=lN(n);d=d?(d+"").toLowerCase():"text";let T=Uq([i,o&&o.toAbortSignal()],u),b;const A=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(f&&qq&&t!=="get"&&t!=="head"&&(x=await $q(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(oe.isFormData(r)&&(K=F.headers.get("content-type"))&&g.setContentType(K),F.body){const[M,R]=hC(x,Vg(dC(f)));r=pC(F.body,mC,M,R)}}oe.isString(_)||(_=_?"include":"omit");const V="credentials"in Request.prototype;b=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:V?_:void 0});let L=await fetch(b);const U=kE&&(d==="stream"||d==="response");if(kE&&(h||U&&A)){const F={};["status","statusText","headers"].forEach(P=>{F[P]=L[P]});const K=oe.toFiniteNumber(L.headers.get("content-length")),[M,R]=h&&hC(K,Vg(dC(h),!0))||[];L=new Response(pC(L.body,mC,M,()=>{R&&R(),A&&A()}),F)}d=d||"text";let $=await Lg[oe.findKey(Lg,d)||"text"](L,n);return!U&&A&&A(),await new Promise((F,K)=>{aN(F,K,{data:$,headers:ur.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:b})})}catch(V){throw A&&A(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,b),{cause:V.cause||V}):Me.from(V,V&&V.code,n,b)}}),ME={http:oq,xhr:Lq,fetch:Gq};oe.forEach(ME,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const gC=n=>`- ${n}`,Kq=n=>oe.isFunction(n)||n===null||n===!1,hN={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!Kq(t)&&(r=ME[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(gC).join(`
`):" "+gC(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:ME};function D0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lc(null,n)}function yC(n){return D0(n),n.headers=ur.from(n.headers),n.data=O0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hN.getAdapter(n.adapter||Hf.adapter)(n).then(function(r){return D0(n),r.data=O0.call(n,n.transformResponse,r),r.headers=ur.from(r.headers),r},function(r){return sN(r)||(D0(n),r&&r.response&&(r.response.data=O0.call(n,n.transformResponse,r.response),r.response.headers=ur.from(r.response.headers))),Promise.reject(r)})}const dN="1.9.0",Fy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Fy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const _C={};Fy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+dN+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!_C[u]&&(_C[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Fy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Wq(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Zm={assertOptions:Wq,validators:Fy},Ci=Zm.validators;let ol=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uC,response:new uC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=El(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Zm.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:Zm.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zm.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=ur.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!f){const b=[yC.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,d),v=b.length,g=Promise.resolve(t);_<v;)g=g.then(b[_++],b[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const b=h[_++],A=h[_++];try{T=b(T)}catch(x){A.call(this,x);break}}try{g=yC.call(this,T)}catch(b){return Promise.reject(b)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=El(this.defaults,e);const t=oN(e.baseURL,e.url,e.allowAbsoluteUrls);return nN(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){ol.prototype[e]=function(t,r){return this.request(El(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(El(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ol.prototype[e]=t(),ol.prototype[e+"Form"]=t(!0)});let Yq=class fN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Lc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new fN(function(i){e=i}),cancel:e}}};function Qq(n){return function(t){return n.apply(null,t)}}function Xq(n){return oe.isObject(n)&&n.isAxiosError===!0}const VE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VE).forEach(([n,e])=>{VE[e]=n});function pN(n){const e=new ol(n),t=H2(ol.prototype.request,e);return oe.extend(t,ol.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return pN(El(n,i))},t}const Ot=pN(Hf);Ot.Axios=ol;Ot.CanceledError=Lc;Ot.CancelToken=Yq;Ot.isCancel=sN;Ot.VERSION=dN;Ot.toFormData=Uy;Ot.AxiosError=Me;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=Qq;Ot.isAxiosError=Xq;Ot.mergeConfig=El;Ot.AxiosHeaders=ur;Ot.formToJSON=n=>iN(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=hN.getAdapter;Ot.HttpStatusCode=VE;Ot.default=Ot;const{Axios:bW,AxiosError:wW,CanceledError:TW,isCancel:SW,CancelToken:AW,VERSION:IW,all:RW,Cancel:CW,isAxiosError:xW,spread:PW,toFormData:OW,AxiosHeaders:DW,HttpStatusCode:NW,formToJSON:kW,getAdapter:MW,mergeConfig:VW}=Ot;var Jq=L2();const Nt=WE(Jq);function mN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=mN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ll(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=mN(n))&&(r&&(r+=" "),r+=e);return r}function gN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const Zq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function yN(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const e7=W.createContext(),t7=()=>W.useContext(e7)??!1;function vC(n){try{return n.matches(":focus-visible")}catch{}return!1}const EC=n=>n,n7=()=>{let n=EC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=EC}}},r7=n7();function bl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Qa(n){if(typeof n!="string")throw new Error(bl(7));return n.charAt(0).toUpperCase()+n.slice(1)}var N0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function i7(){if(bC)return pt;bC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function b(A){if(typeof A=="object"&&A!==null){var x=A.$$typeof;switch(x){case n:switch(A=A.type,A){case t:case i:case r:case f:case d:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case _:case g:return A;case o:return A;default:return x}}case e:return x}}}return pt.ContextConsumer=o,pt.ContextProvider=u,pt.Element=n,pt.ForwardRef=h,pt.Fragment=t,pt.Lazy=_,pt.Memo=g,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=f,pt.SuspenseList=d,pt.isContextConsumer=function(A){return b(A)===o},pt.isContextProvider=function(A){return b(A)===u},pt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},pt.isForwardRef=function(A){return b(A)===h},pt.isFragment=function(A){return b(A)===t},pt.isLazy=function(A){return b(A)===_},pt.isMemo=function(A){return b(A)===g},pt.isPortal=function(A){return b(A)===e},pt.isProfiler=function(A){return b(A)===i},pt.isStrictMode=function(A){return b(A)===r},pt.isSuspense=function(A){return b(A)===f},pt.isSuspenseList=function(A){return b(A)===d},pt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===g||A.$$typeof===u||A.$$typeof===o||A.$$typeof===h||A.$$typeof===T||A.getModuleId!==void 0)},pt.typeOf=b,pt}var wC;function s7(){return wC||(wC=1,N0.exports=i7()),N0.exports}var _N=s7();function Rs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function vN(n){if(W.isValidElement(n)||_N.isValidElementType(n)||!Rs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=vN(n[t])}),e}function Ir(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Rs(n)&&Rs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||_N.isValidElementType(e[i])?r[i]=e[i]:Rs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Rs(n[i])?r[i]=Ir(n[i],e[i],t):t.clone?r[i]=Rs(e[i])?vN(e[i]):e[i]:r[i]=e[i]}),r}function zd(n,e){return e?Ir(n,e,{clone:!1}):n}function a7(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function o7(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function l7(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function u7(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const zy={xs:0,sm:600,md:900,lg:1200,xl:1536},TC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${zy[n]}px)`},c7={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:zy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Fs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||TC;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||TC;return Object.keys(e).reduce((u,h)=>{if(o7(o.keys,h)){const f=l7(r.containerQueries?r:c7,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||zy).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function h7(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function d7(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function jy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ug(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=jy(n,t)||r,e&&(i=e(i,r,n)),i}function Zt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=jy(f,r)||{};return Fs(u,h,_=>{let v=Ug(d,i,_);return _===v&&typeof _=="string"&&(v=Ug(d,i,`${e}${_==="default"?"":Qa(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function f7(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const p7={m:"margin",p:"padding"},m7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},g7=f7(n=>{if(n.length>2)if(SC[n])n=SC[n];else return[n];const[e,t]=n.split(""),r=p7[e],i=m7[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),zw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zw,...jw];function $f(n,e,t,r){const i=jy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function qw(n){return $f(n,"spacing",8)}function Gf(n,e){return typeof e=="string"||e==null?e:n(e)}function y7(n,e){return t=>n.reduce((r,i)=>(r[i]=Gf(e,t),r),{})}function _7(n,e,t,r){if(!e.includes(t))return null;const i=g7(t),o=y7(i,r),u=n[t];return Fs(n,u,o)}function EN(n,e){const t=qw(n.theme);return Object.keys(n).map(r=>_7(n,e,r,t)).reduce(zd,{})}function Ft(n){return EN(n,zw)}Ft.propTypes={};Ft.filterProps=zw;function zt(n){return EN(n,jw)}zt.propTypes={};zt.filterProps=jw;function qy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?zd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function qr(n){return typeof n!="number"?n:`${n}px solid`}function Wr(n,e){return Zt({prop:n,themeKey:"borders",transform:e})}const v7=Wr("border",qr),E7=Wr("borderTop",qr),b7=Wr("borderRight",qr),w7=Wr("borderBottom",qr),T7=Wr("borderLeft",qr),S7=Wr("borderColor"),A7=Wr("borderTopColor"),I7=Wr("borderRightColor"),R7=Wr("borderBottomColor"),C7=Wr("borderLeftColor"),x7=Wr("outline",qr),P7=Wr("outlineColor"),Hy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=$f(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Gf(e,r)});return Fs(n,n.borderRadius,t)}return null};Hy.propTypes={};Hy.filterProps=["borderRadius"];qy(v7,E7,b7,w7,T7,S7,A7,I7,R7,C7,Hy,x7,P7);const $y=n=>{if(n.gap!==void 0&&n.gap!==null){const e=$f(n.theme,"spacing",8),t=r=>({gap:Gf(e,r)});return Fs(n,n.gap,t)}return null};$y.propTypes={};$y.filterProps=["gap"];const Gy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=$f(n.theme,"spacing",8),t=r=>({columnGap:Gf(e,r)});return Fs(n,n.columnGap,t)}return null};Gy.propTypes={};Gy.filterProps=["columnGap"];const Ky=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=$f(n.theme,"spacing",8),t=r=>({rowGap:Gf(e,r)});return Fs(n,n.rowGap,t)}return null};Ky.propTypes={};Ky.filterProps=["rowGap"];const O7=Zt({prop:"gridColumn"}),D7=Zt({prop:"gridRow"}),N7=Zt({prop:"gridAutoFlow"}),k7=Zt({prop:"gridAutoColumns"}),M7=Zt({prop:"gridAutoRows"}),V7=Zt({prop:"gridTemplateColumns"}),L7=Zt({prop:"gridTemplateRows"}),U7=Zt({prop:"gridTemplateAreas"}),B7=Zt({prop:"gridArea"});qy($y,Gy,Ky,O7,D7,N7,k7,M7,V7,L7,U7,B7);function $u(n,e){return e==="grey"?e:n}const F7=Zt({prop:"color",themeKey:"palette",transform:$u}),z7=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$u}),j7=Zt({prop:"backgroundColor",themeKey:"palette",transform:$u});qy(F7,z7,j7);function Sr(n){return n<=1&&n!==0?`${n*100}%`:n}const q7=Zt({prop:"width",transform:Sr}),Hw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||zy[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Sr(t)}};return Fs(n,n.maxWidth,e)}return null};Hw.filterProps=["maxWidth"];const H7=Zt({prop:"minWidth",transform:Sr}),$7=Zt({prop:"height",transform:Sr}),G7=Zt({prop:"maxHeight",transform:Sr}),K7=Zt({prop:"minHeight",transform:Sr});Zt({prop:"size",cssProperty:"width",transform:Sr});Zt({prop:"size",cssProperty:"height",transform:Sr});const W7=Zt({prop:"boxSizing"});qy(q7,Hw,H7,$7,G7,K7,W7);const Wy={border:{themeKey:"borders",transform:qr},borderTop:{themeKey:"borders",transform:qr},borderRight:{themeKey:"borders",transform:qr},borderBottom:{themeKey:"borders",transform:qr},borderLeft:{themeKey:"borders",transform:qr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hy},color:{themeKey:"palette",transform:$u},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$u},backgroundColor:{themeKey:"palette",transform:$u},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$y},rowGap:{style:Ky},columnGap:{style:Gy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Sr},maxWidth:{style:Hw},minWidth:{transform:Sr},height:{transform:Sr},maxHeight:{transform:Sr},minHeight:{transform:Sr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Y7(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Q7(n,e){return typeof n=="function"?n(e):n}function X7(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:_}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=jy(i,d)||{};return _?_(u):Fs(u,r,b=>{let A=Ug(v,g,b);return b===A&&typeof b=="string"&&(A=Ug(v,g,`${t}${b==="default"?"":Qa(b)}`,b)),f===!1?A:{[f]:A}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Wy;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=h7(i.breakpoints),g=Object.keys(d);let _=d;return Object.keys(f).forEach(v=>{const T=Q7(f[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=zd(_,n(v,T,i,o));else{const b=Fs({theme:i},T,A=>({[v]:A}));Y7(b,T)?_[v]=e({sx:T,theme:i}):_=zd(_,b)}else _=zd(_,n(v,T,i,o))}),a7(i,d7(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const yc=X7();yc.filterProps=["sx"];function LE(){return LE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LE.apply(null,arguments)}function J7(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Z7(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var eH=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Z7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=J7(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Fn="-ms-",Bg="-moz-",tt="-webkit-",bN="comm",$w="rule",Gw="decl",tH="@import",wN="@keyframes",nH="@layer",rH=Math.abs,Yy=String.fromCharCode,iH=Object.assign;function sH(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function TN(n){return n.trim()}function aH(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function UE(n,e){return n.indexOf(e)}function Nn(n,e){return n.charCodeAt(e)|0}function pf(n,e,t){return n.slice(e,t)}function Di(n){return n.length}function Kw(n){return n.length}function xm(n,e){return e.push(n),n}function oH(n,e){return n.map(e).join("")}var Qy=1,_c=1,SN=0,cr=0,ln=0,Uc="";function Xy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Qy,column:_c,length:u,return:""}}function dd(n,e){return iH(Xy("",null,null,"",null,null,0),n,{length:-n.length},e)}function lH(){return ln}function uH(){return ln=cr>0?Nn(Uc,--cr):0,_c--,ln===10&&(_c=1,Qy--),ln}function Rr(){return ln=cr<SN?Nn(Uc,cr++):0,_c++,ln===10&&(_c=1,Qy++),ln}function qi(){return Nn(Uc,cr)}function eg(){return cr}function Kf(n,e){return pf(Uc,n,e)}function mf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AN(n){return Qy=_c=1,SN=Di(Uc=n),cr=0,[]}function IN(n){return Uc="",n}function tg(n){return TN(Kf(cr-1,BE(n===91?n+2:n===40?n+1:n)))}function cH(n){for(;(ln=qi())&&ln<33;)Rr();return mf(n)>2||mf(ln)>3?"":" "}function hH(n,e){for(;--e&&Rr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return Kf(n,eg()+(e<6&&qi()==32&&Rr()==32))}function BE(n){for(;Rr();)switch(ln){case n:return cr;case 34:case 39:n!==34&&n!==39&&BE(ln);break;case 40:n===41&&BE(n);break;case 92:Rr();break}return cr}function dH(n,e){for(;Rr()&&n+ln!==57;)if(n+ln===84&&qi()===47)break;return"/*"+Kf(e,cr-1)+"*"+Yy(n===47?n:Rr())}function fH(n){for(;!mf(qi());)Rr();return Kf(n,cr)}function pH(n){return IN(ng("",null,null,null,[""],n=AN(n),0,[0],n))}function ng(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,_=u,v=0,T=0,b=0,A=1,x=1,V=1,L=0,U="",$=i,F=o,K=r,M=U;x;)switch(b=L,L=Rr()){case 40:if(b!=108&&Nn(M,_-1)==58){UE(M+=nt(tg(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:M+=tg(L);break;case 9:case 10:case 13:case 32:M+=cH(b);break;case 92:M+=hH(eg()-1,7);continue;case 47:switch(qi()){case 42:case 47:xm(mH(dH(Rr(),eg()),e,t),f);break;default:M+="/"}break;case 123*A:h[d++]=Di(M)*V;case 125*A:case 59:case 0:switch(L){case 0:case 125:x=0;case 59+g:V==-1&&(M=nt(M,/\f/g,"")),T>0&&Di(M)-_&&xm(T>32?IC(M+";",r,t,_-1):IC(nt(M," ","")+";",r,t,_-2),f);break;case 59:M+=";";default:if(xm(K=AC(M,e,t,d,g,i,h,U,$=[],F=[],_),o),L===123)if(g===0)ng(M,e,K,K,$,o,_,h,F);else switch(v===99&&Nn(M,3)===110?100:v){case 100:case 108:case 109:case 115:ng(n,K,K,r&&xm(AC(n,K,K,0,0,i,h,U,i,$=[],_),F),i,F,_,h,r?$:F);break;default:ng(M,K,K,K,[""],F,0,h,F)}}d=g=T=0,A=V=1,U=M="",_=u;break;case 58:_=1+Di(M),T=b;default:if(A<1){if(L==123)--A;else if(L==125&&A++==0&&uH()==125)continue}switch(M+=Yy(L),L*A){case 38:V=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(Di(M)-1)*V,V=1;break;case 64:qi()===45&&(M+=tg(Rr())),v=qi(),g=_=Di(U=M+=fH(eg())),L++;break;case 45:b===45&&Di(M)==2&&(A=0)}}return o}function AC(n,e,t,r,i,o,u,h,f,d,g){for(var _=i-1,v=i===0?o:[""],T=Kw(v),b=0,A=0,x=0;b<r;++b)for(var V=0,L=pf(n,_+1,_=rH(A=u[b])),U=n;V<T;++V)(U=TN(A>0?v[V]+" "+L:nt(L,/&\f/g,v[V])))&&(f[x++]=U);return Xy(n,e,t,i===0?$w:h,f,d,g)}function mH(n,e,t){return Xy(n,e,t,bN,Yy(lH()),pf(n,2,-2),0)}function IC(n,e,t,r){return Xy(n,e,t,Gw,pf(n,0,r),pf(n,r+1,-1),r)}function Gu(n,e){for(var t="",r=Kw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function gH(n,e,t,r){switch(n.type){case nH:if(n.children.length)break;case tH:case Gw:return n.return=n.return||n.value;case bN:return"";case wN:return n.return=n.value+"{"+Gu(n.children,r)+"}";case $w:n.value=n.props.join(",")}return Di(t=Gu(n.children,r))?n.return=n.value+"{"+t+"}":""}function yH(n){var e=Kw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function _H(n){return function(e){e.root||(e=e.return)&&n(e)}}function RN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var vH=function(e,t,r){for(var i=0,o=0;i=o,o=qi(),i===38&&o===12&&(t[r]=1),!mf(o);)Rr();return Kf(e,cr)},EH=function(e,t){var r=-1,i=44;do switch(mf(i)){case 0:i===38&&qi()===12&&(t[r]=1),e[r]+=vH(cr-1,t,r);break;case 2:e[r]+=tg(i);break;case 4:if(i===44){e[++r]=qi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Yy(i)}while(i=Rr());return e},bH=function(e,t){return IN(EH(AN(e),t))},RC=new WeakMap,wH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!RC.get(r))&&!i){RC.set(e,!0);for(var o=[],u=bH(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},TH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function CN(n,e){switch(sH(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Bg+n+Fn+n+n;case 6828:case 4268:return tt+n+Fn+n+n;case 6165:return tt+n+Fn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Fn+"flex-$1$2")+n;case 5443:return tt+n+Fn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+Fn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+Fn+nt(n,"shrink","negative")+n;case 5292:return tt+n+Fn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+Fn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Bg+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~UE(n,"stretch")?CN(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nn(n,e+1)!==115)break;case 6444:switch(Nn(n,Di(n)-3-(~UE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Nn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Fn+"$2box$3")+n}break;case 5936:switch(Nn(n,e+11)){case 114:return tt+n+Fn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+Fn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+Fn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+Fn+n+n}return n}var SH=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Gw:e.return=CN(e.value,e.length);break;case wN:return Gu([dd(e,{value:nt(e.value,"@","@"+tt)})],i);case $w:if(e.length)return oH(e.props,function(o){switch(aH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Gu([dd(e,{props:[nt(o,/:(read-\w+)/,":"+Bg+"$1")]})],i);case"::placeholder":return Gu([dd(e,{props:[nt(o,/:(plac\w+)/,":"+tt+"input-$1")]}),dd(e,{props:[nt(o,/:(plac\w+)/,":"+Bg+"$1")]}),dd(e,{props:[nt(o,/:(plac\w+)/,Fn+"input-$1")]})],i)}return""})}},AH=[SH],IH=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var x=A.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||AH,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var x=A.getAttribute("data-emotion").split(" "),V=1;V<x.length;V++)o[x[V]]=!0;h.push(A)});var f,d=[wH,TH];{var g,_=[gH,_H(function(A){g.insert(A)})],v=yH(d.concat(i,_)),T=function(x){return Gu(pH(x),v)};f=function(x,V,L,U){g=L,T(x?x+"{"+V.styles+"}":V.styles),U&&(b.inserted[V.name]=!0)}}var b={key:t,sheet:new eH({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return b.sheet.hydrate(h),b},RH=!0;function CH(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var xN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||RH===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},xH=function(e,t,r){xN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function PH(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var OH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DH=/[A-Z]|^ms/g,NH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PN=function(e){return e.charCodeAt(1)===45},CC=function(e){return e!=null&&typeof e!="boolean"},k0=RN(function(n){return PN(n)?n:n.replace(DH,"-$&").toLowerCase()}),xC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(NH,function(r,i,o){return Ni={name:i,styles:o,next:Ni},i})}return OH[e]!==1&&!PN(e)&&typeof t=="number"&&t!==0?t+"px":t};function gf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ni={name:u.name,styles:u.styles,next:Ni},u=u.next;var h=o.styles+";";return h}return kH(n,e,t)}case"function":{if(n!==void 0){var f=Ni,d=t(n);return Ni=f,gf(n,e,d)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function kH(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=gf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":CC(h)&&(r+=k0(o)+":"+xC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)CC(u[f])&&(r+=k0(o)+":"+xC(o,u[f])+";");else{var d=gf(n,e,u);switch(o){case"animation":case"animationName":{r+=k0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var PC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function ON(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ni=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=gf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=gf(t,e,n[h]),r){var f=o;i+=f[h]}PC.lastIndex=0;for(var d="",g;(g=PC.exec(i))!==null;)d+="-"+g[1];var _=PH(i)+d;return{name:_,styles:i,next:Ni}}var MH=function(e){return e()},VH=B0.useInsertionEffect?B0.useInsertionEffect:!1,LH=VH||MH,DN=W.createContext(typeof HTMLElement<"u"?IH({key:"css"}):null);DN.Provider;var UH=function(e){return W.forwardRef(function(t,r){var i=W.useContext(DN);return e(t,i,r)})},BH=W.createContext({}),FH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zH=RN(function(n){return FH.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),jH=zH,qH=function(e){return e!=="theme"},OC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jH:qH},DC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},HH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return xN(t,r,i),LH(function(){return xH(t,r,i)}),null},$H=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=DC(e,t,r),f=h||OC(i),d=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,b=1;b<T;b++)_.push(g[b],v[b])}var A=UH(function(x,V,L){var U=d&&x.as||i,$="",F=[],K=x;if(x.theme==null){K={};for(var M in x)K[M]=x[M];K.theme=W.useContext(BH)}typeof x.className=="string"?$=CH(V.registered,F,x.className):x.className!=null&&($=x.className+" ");var R=ON(_.concat(F),V.registered,K);$+=V.key+"-"+R.name,u!==void 0&&($+=" "+u);var P=d&&h===void 0?OC(U):f,w={};for(var O in x)d&&O==="as"||P(O)&&(w[O]=x[O]);return w.className=$,L&&(w.ref=L),W.createElement(W.Fragment,null,W.createElement(HH,{cache:V,serialized:R,isStringTag:typeof U=="string"}),W.createElement(U,w))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=_,A.__emotion_forwardProp=h,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(x,V){var L=n(x,LE({},t,V,{shouldForwardProp:DC(A,V,!0)}));return L.apply(void 0,_)},A}},GH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FE=$H.bind(null);GH.forEach(function(n){FE[n]=FE(n)});function KH(n,e){return FE(n,e)}function WH(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const NC=[];function kC(n){return NC[0]=n,ON(NC)}const YH=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function QH(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=YH(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,T){const b=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[u[b]]=="number"?e[u[b]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?f(u[T]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:_,unit:t,...i}}const XH={borderRadius:4};function NN(n=8,e=qw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function JH(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function kN(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=QH(t),f=NN(i);let d=Ir({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...XH,...o}},u);return d=u7(d),d.applyStyles=JH,d=e.reduce((g,_)=>Ir(g,_),d),d.unstable_sxConfig={...Wy,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(_){return yc({sx:_,theme:this})},d}const ZH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ww(n,e,t="Mui"){const r=ZH[e];return r?`${t}-${r}`:`${r7.generate(n)}-${e}`}function MN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Ww(n,i,t)}),r}function VN(n){const{variants:e,...t}=n,r={variants:e,style:kC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=kC(i.style))}),r}const e$=kN();function M0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function t$(n){return n?(e,t)=>t[n]:null}function n$(n,e,t){n.theme=s$(n.theme)?t:n.theme[e]||n.theme}function rg(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>rg(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return LN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function LN(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function r$(n={}){const{themeId:e,defaultTheme:t=e$,rootShouldForwardProp:r=M0,slotShouldForwardProp:i=M0}=n;function o(h){n$(h,e,t)}return(h,f={})=>{WH(h,F=>F.filter(K=>K!==yc));const{name:d,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=t$(o$(g)),...b}=f,A=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let V=M0;g==="Root"||g==="root"?V=r:g?V=i:a$(h)&&(V=void 0);const L=KH(h,{shouldForwardProp:V,label:i$(),...b}),U=F=>{if(typeof F=="function"&&F.__emotion_real!==F)return function(M){return rg(M,F)};if(Rs(F)){const K=VN(F);return K.variants?function(R){return rg(R,K)}:K.style}return F},$=(...F)=>{const K=[],M=F.map(U),R=[];if(K.push(o),d&&T&&R.push(function(C){var H,J;const ae=(J=(H=C.theme.components)==null?void 0:H[d])==null?void 0:J.styleOverrides;if(!ae)return null;const B={};for(const le in ae)B[le]=rg(C,ae[le]);return T(C,B)}),d&&!A&&R.push(function(C){var B,H;const D=C.theme,ae=(H=(B=D==null?void 0:D.components)==null?void 0:B[d])==null?void 0:H.variants;return ae?LN(C,ae):null}),x||R.push(yc),Array.isArray(M[0])){const O=M.shift(),C=new Array(K.length).fill(""),D=new Array(R.length).fill("");let ae;ae=[...C,...O,...D],ae.raw=[...C,...O.raw,...D],K.unshift(ae)}const P=[...K,...M,...R],w=L(...P);return h.muiName&&(w.muiName=h.muiName),w};return L.withConfig&&($.withConfig=L.withConfig),$}}function i$(n,e){return void 0}function s$(n){for(const e in n)return!1;return!0}function a$(n){return typeof n=="string"&&n.charCodeAt(0)>96}function o$(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function zE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=zE(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function Yw(n,e=0,t=1){return gN(n,e,t)}function l$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Xa(n){if(n.type)return n;if(n.charAt(0)==="#")return Xa(l$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(bl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(bl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const u$=n=>{const e=Xa(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Td=(n,e)=>{try{return u$(n)}catch{return n}};function Jy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function UN(n){n=Xa(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),Jy({type:h,values:f})}function jE(n){n=Xa(n);let e=n.type==="hsl"||n.type==="hsla"?Xa(UN(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function c$(n,e){const t=jE(n),r=jE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function h$(n,e){return n=Xa(n),e=Yw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Jy(n)}function Pm(n,e,t){try{return h$(n,e)}catch{return n}}function Qw(n,e){if(n=Xa(n),e=Yw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Jy(n)}function gt(n,e,t){try{return Qw(n,e)}catch{return n}}function Xw(n,e){if(n=Xa(n),e=Yw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Jy(n)}function yt(n,e,t){try{return Xw(n,e)}catch{return n}}function d$(n,e=.15){return jE(n)>.5?Qw(n,e):Xw(n,e)}function Om(n,e,t){try{return d$(n,e)}catch{return n}}const f$=W.createContext(void 0);function p$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?zE(i.defaultProps,r):!i.styleOverrides&&!i.variants?zE(i,r):r}function m$({props:n,name:e}){const t=W.useContext(f$);return p$({props:n,name:e,theme:{components:t}})}const MC={theme:void 0};function g$(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(MC.theme=i.theme,o=VN(n(MC)),e=o,t=i.theme),o}}function y$(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const VC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},_$=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},v$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function V0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return _$(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=v$(h,f);Object.assign(i,{[g]:_}),VC(o,h,`var(${g})`,d),VC(u,h,`var(${g}, ${_})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function E$(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:_}=V0(f,e);let v=_;const T={},{[h]:b,...A}=o;if(Object.entries(A||{}).forEach(([U,$])=>{const{vars:F,css:K,varsWithDefaults:M}=V0($,e);v=Ir(v,M),T[U]={css:K,vars:F}}),b){const{css:U,vars:$,varsWithDefaults:F}=V0(b,e);v=Ir(v,F),T[h]={css:U,vars:$}}function x(U,$){var K,M;let F=i;if(i==="class"&&(F=".%s"),i==="data"&&(F="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(F=`[${i}="%s"]`),U){if(F==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((M=(K=o[U])==null?void 0:K.palette)==null?void 0:M.mode)||U})`]:{":root":$}};if(F)return n.defaultColorScheme===U?`:root, ${F.replace("%s",String(U))}`:F.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...d};return Object.entries(T).forEach(([,{vars:$}])=>{U=Ir(U,$)}),U},generateStyleSheets:()=>{var R,P;const U=[],$=n.defaultColorScheme||"light";function F(w,O){Object.keys(O).length&&U.push(typeof w=="string"?{[w]:{...O}}:w)}F(t(void 0,{...g}),g);const{[$]:K,...M}=T;if(K){const{css:w}=K,O=(P=(R=o[$])==null?void 0:R.palette)==null?void 0:P.mode,C=!r&&O?{colorScheme:O,...w}:{...w};F(t($,{...C}),C)}return Object.entries(M).forEach(([w,{css:O}])=>{var ae,B;const C=(B=(ae=o[w])==null?void 0:ae.palette)==null?void 0:B.mode,D=!r&&C?{colorScheme:C,...O}:{...O};F(t(w,{...D}),D)}),U}}}function b$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const yf={black:"#000",white:"#fff"},w$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ru={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Cu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},xu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Pu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ou={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function BN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yf.white,default:yf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const T$=BN();function FN(){return{text:{primary:yf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const LC=FN();function UC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Xw(n.main,i):e==="dark"&&(n.dark=Qw(n.main,o)))}function S$(n="light"){return n==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[700],light:xu[400],dark:xu[800]}}function A$(n="light"){return n==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[500],light:Ru[300],dark:Ru[700]}}function I$(n="light"){return n==="dark"?{main:Cu[500],light:Cu[300],dark:Cu[700]}:{main:Cu[700],light:Cu[400],dark:Cu[800]}}function R$(n="light"){return n==="dark"?{main:Pu[400],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[500],dark:Pu[900]}}function C$(n="light"){return n==="dark"?{main:Ou[400],light:Ou[300],dark:Ou[700]}:{main:Ou[800],light:Ou[500],dark:Ou[900]}}function x$(n="light"){return n==="dark"?{main:fd[400],light:fd[300],dark:fd[700]}:{main:"#ed6c02",light:fd[500],dark:fd[900]}}function Jw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||S$(e),u=n.secondary||A$(e),h=n.error||I$(e),f=n.info||R$(e),d=n.success||C$(e),g=n.warning||x$(e);function _(A){return c$(A,LC.text.primary)>=t?LC.text.primary:T$.text.primary}const v=({color:A,name:x,mainShade:V=500,lightShade:L=300,darkShade:U=700})=>{if(A={...A},!A.main&&A[V]&&(A.main=A[V]),!A.hasOwnProperty("main"))throw new Error(bl(11,x?` (${x})`:"",V));if(typeof A.main!="string")throw new Error(bl(12,x?` (${x})`:"",JSON.stringify(A.main)));return UC(A,"light",L,r),UC(A,"dark",U,r),A.contrastText||(A.contrastText=_(A.main)),A};let T;return e==="light"?T=BN():e==="dark"&&(T=FN()),Ir({common:{...yf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:w$,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function P$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function O$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function D$(n){return Math.round(n*1e5)/1e5}const BC={textTransform:"uppercase"},FC='"Roboto", "Helvetica", "Arial", sans-serif';function N$(n,e){const{fontFamily:t=FC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/f*v}rem`),b=(x,V,L,U,$)=>({fontFamily:t,fontWeight:x,fontSize:T(V),lineHeight:L,...t===FC?{letterSpacing:`${D$(U/V)}em`}:{},...$,...d}),A={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(u,14,1.75,.4,BC),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,BC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ir({htmlFontSize:f,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...A},_,{clone:!1})}const k$=.2,M$=.14,V$=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${k$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${M$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${V$})`].join(",")}const L$=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],U$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},B$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function zC(n){return`${Math.round(n)}ms`}function F$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function z$(n){const e={...U$,...n.easing},t={...B$,...n.duration};return{getAutoHeightDuration:F$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:zC(u)} ${h} ${typeof f=="string"?f:zC(f)}`).join(",")},...n,easing:e,duration:t}}const j$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function q$(n){return Rs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function zN(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!q$(h)||u.startsWith("unstable_")?delete r[u]:Rs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function qE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(bl(20));const g=Jw(o),_=kN(n);let v=Ir(_,{mixins:O$(_.breakpoints,r),palette:g,shadows:L$.slice(),typography:N$(g,h),transitions:z$(u),zIndex:{...j$}});return v=Ir(v,d),v=e.reduce((T,b)=>Ir(T,b),v),v.unstable_sxConfig={...Wy,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(b){return yc({sx:b,theme:this})},v.toRuntimeSource=zN,v}function H$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const $$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=H$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function jN(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function qN(n){return n==="dark"?$$:[]}function G$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Jw(e);return{palette:o,opacity:{...jN(o.mode),...t},overlays:r||qN(o.mode),...i}}function K$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const W$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Y$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return W$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function Q$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Sd(n){return typeof n!="string"||!n.startsWith("hsl")?n:UN(n)}function Ss(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Td(Sd(n[e])))}function X$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},J$=(n="mui")=>y$(n);function L0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=G$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=qE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...jN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||qN(i)},u}function Z$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=K$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=J$(o),{[_]:T,light:b,dark:A,...x}=t,V={...x};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(bl(21,_));const U=L0(V,L,d,_);b&&!V.light&&L0(V,b,void 0,"light"),A&&!V.dark&&L0(V,A,void 0,"dark");let $={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:V,font:{...P$(U.typography),...U.font},spacing:X$(d.spacing)};Object.keys($.colorSchemes).forEach(P=>{const w=$.colorSchemes[P].palette,O=C=>{const D=C.split("-"),ae=D[1],B=D[2];return v(C,w[ae][B])};if(w.mode==="light"&&(ue(w.common,"background","#fff"),ue(w.common,"onBackground","#000")),w.mode==="dark"&&(ue(w.common,"background","#000"),ue(w.common,"onBackground","#fff")),Q$(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ue(w.Alert,"errorColor",gt(w.error.light,.6)),ue(w.Alert,"infoColor",gt(w.info.light,.6)),ue(w.Alert,"successColor",gt(w.success.light,.6)),ue(w.Alert,"warningColor",gt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-main")),ue(w.Alert,"infoFilledBg",O("palette-info-main")),ue(w.Alert,"successFilledBg",O("palette-success-main")),ue(w.Alert,"warningFilledBg",O("palette-warning-main")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.main))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.main))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.main))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.main))),ue(w.Alert,"errorStandardBg",yt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",yt(w.info.light,.9)),ue(w.Alert,"successStandardBg",yt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",yt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-100")),ue(w.Avatar,"defaultBg",O("palette-grey-400")),ue(w.Button,"inheritContainedBg",O("palette-grey-300")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),ue(w.Chip,"defaultBorder",O("palette-grey-400")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-700")),ue(w.Chip,"defaultIconColor",O("palette-grey-700")),ue(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(w.LinearProgress,"primaryBg",yt(w.primary.main,.62)),ue(w.LinearProgress,"secondaryBg",yt(w.secondary.main,.62)),ue(w.LinearProgress,"errorBg",yt(w.error.main,.62)),ue(w.LinearProgress,"infoBg",yt(w.info.main,.62)),ue(w.LinearProgress,"successBg",yt(w.success.main,.62)),ue(w.LinearProgress,"warningBg",yt(w.warning.main,.62)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),ue(w.Slider,"primaryTrack",yt(w.primary.main,.62)),ue(w.Slider,"secondaryTrack",yt(w.secondary.main,.62)),ue(w.Slider,"errorTrack",yt(w.error.main,.62)),ue(w.Slider,"infoTrack",yt(w.info.main,.62)),ue(w.Slider,"successTrack",yt(w.success.main,.62)),ue(w.Slider,"warningTrack",yt(w.warning.main,.62));const C=Om(w.background.default,.8);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Om(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-400")),ue(w.StepContent,"border",O("palette-grey-400")),ue(w.Switch,"defaultColor",O("palette-common-white")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-100")),ue(w.Switch,"primaryDisabledColor",yt(w.primary.main,.62)),ue(w.Switch,"secondaryDisabledColor",yt(w.secondary.main,.62)),ue(w.Switch,"errorDisabledColor",yt(w.error.main,.62)),ue(w.Switch,"infoDisabledColor",yt(w.info.main,.62)),ue(w.Switch,"successDisabledColor",yt(w.success.main,.62)),ue(w.Switch,"warningDisabledColor",yt(w.warning.main,.62)),ue(w.TableCell,"border",yt(Pm(w.divider,1),.88)),ue(w.Tooltip,"bg",Pm(w.grey[700],.92))}if(w.mode==="dark"){ue(w.Alert,"errorColor",yt(w.error.light,.6)),ue(w.Alert,"infoColor",yt(w.info.light,.6)),ue(w.Alert,"successColor",yt(w.success.light,.6)),ue(w.Alert,"warningColor",yt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-dark")),ue(w.Alert,"infoFilledBg",O("palette-info-dark")),ue(w.Alert,"successFilledBg",O("palette-success-dark")),ue(w.Alert,"warningFilledBg",O("palette-warning-dark")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.dark))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.dark))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.dark))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.dark))),ue(w.Alert,"errorStandardBg",gt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",gt(w.info.light,.9)),ue(w.Alert,"successStandardBg",gt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",gt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-900")),ue(w.AppBar,"darkBg",O("palette-background-paper")),ue(w.AppBar,"darkColor",O("palette-text-primary")),ue(w.Avatar,"defaultBg",O("palette-grey-600")),ue(w.Button,"inheritContainedBg",O("palette-grey-800")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),ue(w.Chip,"defaultBorder",O("palette-grey-700")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-300")),ue(w.Chip,"defaultIconColor",O("palette-grey-300")),ue(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(w.LinearProgress,"primaryBg",gt(w.primary.main,.5)),ue(w.LinearProgress,"secondaryBg",gt(w.secondary.main,.5)),ue(w.LinearProgress,"errorBg",gt(w.error.main,.5)),ue(w.LinearProgress,"infoBg",gt(w.info.main,.5)),ue(w.LinearProgress,"successBg",gt(w.success.main,.5)),ue(w.LinearProgress,"warningBg",gt(w.warning.main,.5)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),ue(w.Slider,"primaryTrack",gt(w.primary.main,.5)),ue(w.Slider,"secondaryTrack",gt(w.secondary.main,.5)),ue(w.Slider,"errorTrack",gt(w.error.main,.5)),ue(w.Slider,"infoTrack",gt(w.info.main,.5)),ue(w.Slider,"successTrack",gt(w.success.main,.5)),ue(w.Slider,"warningTrack",gt(w.warning.main,.5));const C=Om(w.background.default,.98);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Om(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-600")),ue(w.StepContent,"border",O("palette-grey-600")),ue(w.Switch,"defaultColor",O("palette-grey-300")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-600")),ue(w.Switch,"primaryDisabledColor",gt(w.primary.main,.55)),ue(w.Switch,"secondaryDisabledColor",gt(w.secondary.main,.55)),ue(w.Switch,"errorDisabledColor",gt(w.error.main,.55)),ue(w.Switch,"infoDisabledColor",gt(w.info.main,.55)),ue(w.Switch,"successDisabledColor",gt(w.success.main,.55)),ue(w.Switch,"warningDisabledColor",gt(w.warning.main,.55)),ue(w.TableCell,"border",gt(Pm(w.divider,1),.68)),ue(w.Tooltip,"bg",Pm(w.grey[700],.92))}Ss(w.background,"default"),Ss(w.background,"paper"),Ss(w.common,"background"),Ss(w.common,"onBackground"),Ss(w,"divider"),Object.keys(w).forEach(C=>{const D=w[C];C!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ue(w[C],"mainChannel",Td(Sd(D.main))),D.light&&ue(w[C],"lightChannel",Td(Sd(D.light))),D.dark&&ue(w[C],"darkChannel",Td(Sd(D.dark))),D.contrastText&&ue(w[C],"contrastTextChannel",Td(Sd(D.contrastText))),C==="text"&&(Ss(w[C],"primary"),Ss(w[C],"secondary")),C==="action"&&(D.active&&Ss(w[C],"active"),D.selected&&Ss(w[C],"selected")))})}),$=e.reduce((P,w)=>Ir(P,w),$);const F={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:Y$($)},{vars:K,generateThemeVars:M,generateStyleSheets:R}=E$($,F);return $.vars=K,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([P,w])=>{$[P]=w}),$.generateThemeVars=M,$.generateStyleSheets=R,$.generateSpacing=function(){return NN(d.spacing,qw(this))},$.getColorSchemeSelector=b$(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Wy,...d==null?void 0:d.unstable_sxConfig},$.unstable_sx=function(w){return yc({sx:w,theme:this})},$.toRuntimeSource=zN,$}function jC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Jw({...t===!0?{}:t.palette,mode:e})})}function eG(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return qE(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const _=qE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=d,_.palette.mode==="light"&&(_.colorSchemes.light={...d.light!==!0&&d.light,palette:_.palette},jC(_,"dark",d.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:_.palette},jC(_,"light",d.light)),_}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),Z$({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const tG=eG(),nG="$$material";function HN(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const rG=n=>HN(n)&&n!=="classes",Wf=r$({themeId:nG,defaultTheme:tG,rootShouldForwardProp:rG}),Zw=g$;function $N(n){return m$(n)}function iG(n){return Ww("MuiSvgIcon",n)}MN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sG=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Qa(e)}`,`fontSize${Qa(t)}`]};return yN(i,iG,r)},aG=Wf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Qa(t.color)}`],e[`fontSize${Qa(t.fontSize)}`]]}})(Zw(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,_,v,T,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var x,V;return{props:{color:A},style:{color:(V=(x=(n.vars??n).palette)==null?void 0:x[A])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),HE=W.forwardRef(function(e,t){const r=$N({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,b=W.isValidElement(i)&&i.type==="svg",A={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:b},x={};g||(x.viewBox=v);const V=sG(A);return q.jsxs(aG,{as:h,className:ll(V.root,o),focusable:"false",color:d,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...b&&i.props,ownerState:A,children:[b?i.props.children:i,_?q.jsx("title",{children:_}):null]})});HE.muiName="SvgIcon";function GN(n,e){function t(r,i){return q.jsx(HE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=HE.muiName,W.memo(W.forwardRef(t))}let qC=0;function oG(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(qC+=1,t(`mui-${qC}`))},[e]),r}const lG={...B0},HC=lG.useId;function KN(n){if(HC!==void 0){const e=HC();return n??e}return oG(n)}function uG(n){const{controlled:e,default:t}=n,{current:r}=W.useRef(e!==void 0),[i,o]=W.useState(t),u=r?e:i,h=W.useCallback(f=>{r||o(f)},[]);return[u,h]}function WN(...n){const e=W.useRef(void 0),t=W.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return W.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const cG=GN(q.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),hG=GN(q.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function dG(n){return Ww("MuiRating",n)}const pd=MN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function fG(n){return typeof n=="string"}function pG(n,e,t){return n===void 0||fG(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function mG(n,e,t){return typeof n=="function"?n(e,t):n}function gG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function $C(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function yG(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=ll(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},A={...t,...i,...r};return T.length>0&&(A.className=T),Object.keys(b).length>0&&(A.style=b),{props:A,internalRef:void 0}}const u=gG({...i,...r}),h=$C(r),f=$C(i),d=e(u),g=ll(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:d.ref}}function jd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,b=mG(_[n],i),{props:{component:A,...x},internalRef:V}=yG({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:b}),L=WN(V,b==null?void 0:b.ref,e.ref),U=n==="root"?A||d:A,$=pG(T,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...x,...U&&!h&&{as:U},...U&&h&&{component:U},ref:L},i);return[T,$]}function _G(n){const e=n.toString().split(".")[1];return e?e.length:0}function U0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(_G(e)))}const vG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Qa(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return yN(h,dG,e)},EG=Wf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Qa(t.size)}`],t.readOnly&&e.readOnly]}})(Zw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${pd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${pd.focusVisible} .${pd.iconActive}`]:{outline:"1px solid #999"},[`& .${pd.visuallyHidden}`]:Zq,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),YN=Wf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),bG=Wf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Zw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),wG=Wf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>HN(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function TG(n){const{value:e,...t}=n;return q.jsx("span",{...t})}function GC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:b,onChange:A,onClick:x,onFocus:V,readOnly:L,ownerState:U,ratingValue:$,ratingValueRounded:F,slots:K={},slotProps:M={}}=n,R=u?_===$:_<=$,P=_<=h,w=_<=i,O=_===F,C=`${T}-${KN()}`,D={slots:K,slotProps:M},[ae,B]=jd("icon",{elementType:bG,className:ll(e.icon,R?e.iconFilled:e.iconEmpty,P&&e.iconHover,w&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...U,iconEmpty:!R,iconFilled:R,iconHover:P,iconFocus:w,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:d}}),[H,J]=jd("label",{elementType:YN,externalForwardedProps:D,ownerState:{...U,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:C}}),le=q.jsx(ae,{...B,children:r&&!R?r:f});return L?q.jsx("span",{...v,children:le}):q.jsxs(W.Fragment,{children:[q.jsxs(H,{...J,children:[le,q.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),q.jsx("input",{className:e.visuallyHidden,onFocus:V,onBlur:b,onChange:A,onClick:x,disabled:t,value:_,id:C,type:"radio",name:T,checked:O})]})}const SG=q.jsx(cG,{fontSize:"inherit"}),AG=q.jsx(hG,{fontSize:"inherit"});function IG(n){return`${n||"0"} Star${n!==1?"s":""}`}const RG=W.forwardRef(function(e,t){const r=$N({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=AG,emptyLabelText:d="Empty",getLabelText:g=IG,highlightSelectedOnly:_=!1,icon:v=SG,IconContainerComponent:T=TG,max:b=5,name:A,onChange:x,onChangeActive:V,onMouseLeave:L,onMouseMove:U,precision:$=1,readOnly:F=!1,size:K="medium",value:M,slots:R={},slotProps:P={},...w}=r,O=KN(A),[C,D]=uG({controlled:M,default:u}),ae=U0(C,$),B=t7(),[{hover:H,focus:J},le]=W.useState({hover:-1,focus:-1});let be=ae;H!==-1&&(be=H),J!==-1&&(be=J);const[j,re]=W.useState(!1),ge=W.useRef(),me=WN(ge,t),Te=Fe=>{U&&U(Fe);const _t=ge.current,{right:wt,left:hi,width:Qr}=_t.getBoundingClientRect();let st;B?st=(wt-Fe.clientX)/Qr:st=(Fe.clientX-hi)/Qr;let Ue=U0(b*st+$/2,$);Ue=gN(Ue,$,b),le(Gt=>Gt.hover===Ue&&Gt.focus===Ue?Gt:{hover:Ue,focus:Ue}),re(!1),V&&H!==Ue&&V(Fe,Ue)},ke=Fe=>{L&&L(Fe);const _t=-1;le({hover:_t,focus:_t}),V&&H!==_t&&V(Fe,_t)},xe=Fe=>{let _t=Fe.target.value===""?null:parseFloat(Fe.target.value);H!==-1&&(_t=H),D(_t),x&&x(Fe,_t)},$t=Fe=>{Fe.clientX===0&&Fe.clientY===0||(le({hover:-1,focus:-1}),D(null),x&&parseFloat(Fe.target.value)===ae&&x(Fe,null))},rt=Fe=>{vC(Fe.target)&&re(!0);const _t=parseFloat(Fe.target.value);le(wt=>({hover:wt.hover,focus:_t}))},xr=Fe=>{if(H!==-1)return;vC(Fe.target)||re(!1);const _t=-1;le(wt=>({hover:wt.hover,focus:_t}))},[ci,Pr]=W.useState(!1),hr={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:ci,focusVisible:j,getLabelText:g,icon:v,IconContainerComponent:T,max:b,precision:$,readOnly:F,size:K},Vn=vG(hr),Yr={slots:R,slotProps:P},[oo,xl]=jd("root",{ref:me,className:ll(Vn.root,o),elementType:EG,externalForwardedProps:{...Yr,...w,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:_t=>{var wt;Te(_t),(wt=Fe.onMouseMove)==null||wt.call(Fe,_t)},onMouseLeave:_t=>{var wt;ke(_t),(wt=Fe.onMouseLeave)==null||wt.call(Fe,_t)}}),ownerState:hr,additionalProps:{role:F?"img":null,"aria-label":F?g(be):null}}),[er,Bc]=jd("label",{className:ll(Vn.label,Vn.labelEmptyValue),elementType:YN,externalForwardedProps:Yr,ownerState:hr}),[lo,Ji]=jd("decimal",{className:Vn.decimal,elementType:wG,externalForwardedProps:Yr,ownerState:hr});return q.jsxs(oo,{...xl,children:[Array.from(new Array(b)).map((Fe,_t)=>{const wt=_t+1,hi={classes:Vn,disabled:h,emptyIcon:f,focus:J,getLabelText:g,highlightSelectedOnly:_,hover:H,icon:v,IconContainerComponent:T,name:O,onBlur:xr,onChange:xe,onClick:$t,onFocus:rt,ratingValue:be,ratingValueRounded:ae,readOnly:F,ownerState:hr,slots:R,slotProps:P},Qr=wt===Math.ceil(be)&&(H!==-1||J!==-1);if($<1){const st=Array.from(new Array(1/$));return W.createElement(lo,{...Ji,key:wt,className:ll(Ji.className,Qr&&Vn.iconActive),iconActive:Qr},st.map((Ue,Gt)=>{const en=U0(wt-1+(Gt+1)*$,$);return q.jsx(GC,{...hi,isActive:!1,itemValue:en,labelProps:{style:st.length-1===Gt?{}:{width:en===be?`${(Gt+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},en)}))}return q.jsx(GC,{...hi,isActive:Qr,itemValue:wt},wt)}),!F&&!h&&q.jsxs(er,{...Bc,children:[q.jsx("input",{className:Vn.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:ae==null,onFocus:()=>Pr(!0),onBlur:()=>Pr(!1),onChange:xe}),q.jsx("span",{className:Vn.visuallyHidden,children:d})]})]})});var ig={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var CG=ig.exports,KC;function xG(){return KC||(KC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(CG,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,_,v,T;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&d.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,_){var v=o[e.options.currentLocale],T=!1,b=!1,A=0,x="",V=1e12,L=1e9,U=1e6,$=1e3,F="",K=!1,M,R,P,w,O,C,D;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),R>=V&&!M||M==="t"?(x+=v.abbreviations.trillion,d=d/V):R<V&&R>=L&&!M||M==="b"?(x+=v.abbreviations.billion,d=d/L):R<L&&R>=U&&!M||M==="m"?(x+=v.abbreviations.million,d=d/U):(R<U&&R>=$&&!M||M==="k")&&(x+=v.abbreviations.thousand,d=d/$)),e._.includes(g,"[.]")&&(b=!0,g=g.replace("[.]",".")),P=d.toString().split(".")[0],w=g.split(".")[1],C=g.indexOf(","),A=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,w?(e._.includes(w,"[")?(w=w.replace("]",""),w=w.split("["),F=e._.toFixed(d,w[0].length+w[1].length,_,w[1].length)):F=e._.toFixed(d,w.length,_),P=F.split(".")[0],e._.includes(F,".")?F=v.delimiters.decimal+F.split(".")[1]:F="",b&&Number(F.slice(1))===0&&(F="")):P=e._.toFixed(d,0,_),x&&!M&&Number(P)>=1e3&&x!==v.abbreviations.trillion)switch(P=String(Number(P)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),K=!0),P.length<A)for(var ae=A-P.length;ae>0;ae--)P="0"+P;return C>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(P=""),D=P+F+(x||""),T?D=(T&&K?"(":"")+D+(T&&K?")":""):O>=0?D=O===0?(K?"-":"+")+D:D+(K?"-":"+"):K&&(D="-"+D),D},stringToNumber:function(d){var g=o[h.currentLocale],_=d,v={thousand:3,million:6,billion:9,trillion:12},T,b,A;if(h.zeroFormat&&d===h.zeroFormat)b=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)b=null;else{b=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(A=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(A)){b*=Math.pow(10,v[T]);break}b*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),b*=Number(d)}return b},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,_){return d.slice(0,_)+g+d.slice(_)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(d),v=_.length>>>0,T=0,b;if(arguments.length===3)b=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");b=_[T++]}for(;T<v;T++)T in _&&(b=g(b,_[T],T,_));return b},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(d,g,_,v){var T=d.toString().split("."),b=g-(v||0),A,x,V,L;return T.length===2?A=Math.min(Math.max(T[1].length,b),g):A=b,V=Math.pow(10,A),L=(_(d+"e+"+A)/V).toFixed(A),v>g-A&&(x=new RegExp("\\.?0{1,"+(v-(g-A))+"}$"),L=L.replace(x,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,_){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=_,_},e.validate=function(d,g){var _,v,T,b,A,x,V,L;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{V=e.localeData(g)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,A=V.abbreviations,_=V.delimiters.decimal,V.delimiters.thousands==="."?v="\\.":v=V.delimiters.thousands,L=d.match(/^[^\d]+/),L!==null&&(d=d.substr(1),L[0]!==T)||(L=d.match(/[^\d]+$/),L!==null&&(d=d.slice(0,-1),L[0]!==A.thousand&&L[0]!==A.million&&L[0]!==A.billion&&L[0]!==A.trillion))?!1:(x=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(b=d.split(_),b.length>2?!1:b.length<2?!!b[0].match(/^\d+.*\d$/)&&!b[0].match(x):b[0].length===1?!!b[0].match(/^\d+$/)&&!b[0].match(x)&&!!b[1].match(/^\d+$/):!!b[0].match(/^\d+.*\d$/)&&!b[0].match(x)&&!!b[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var _=this._value,v=d||h.defaultFormat,T,b,A;if(g=g||Math.round,_===0&&h.zeroFormat!==null)b=h.zeroFormat;else if(_===null&&h.nullFormat!==null)b=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){A=i[T].format;break}A=A||e._.numberToFormat,b=A(_,v,g)}return b},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v+Math.round(g*T)}return this._value=t.reduce([this._value,d],_,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v-Math.round(g*T)}return this._value=t.reduce([d],_,Math.round(this._value*g))/g,this},multiply:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)*Math.round(v*A)/Math.round(A*A)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)/Math.round(v*A)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,_){var v=e._.includes(g," BPS")?" ":"",T;return d=d*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=d.suffixes.concat(g.suffixes.filter(function(T){return d.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,b,A){var x,V=e._.includes(b,"ib")?g:d,L=e._.includes(b," b")||e._.includes(b," ib")?" ":"",U,$,F;for(b=b.replace(/\s?i?b/,""),U=0;U<=V.suffixes.length;U++)if($=Math.pow(V.base,U),F=Math.pow(V.base,U+1),T===null||T===0||T>=$&&T<F){L+=V.suffixes[U],$>0&&(T=T/$);break}return x=e._.numberToFormat(T,b,A),x+L},unformat:function(T){var b=e._.stringToNumber(T),A,x;if(b){for(A=d.suffixes.length-1;A>=0;A--){if(e._.includes(T,d.suffixes[A])){x=Math.pow(d.base,A);break}if(e._.includes(T,g.suffixes[A])){x=Math.pow(g.base,A);break}}b*=x||1}return b}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},b,A,x;for(g=g.replace(/\s?\$\s?/,""),b=e._.numberToFormat(d,g,_),d>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(A=T.before[x],A){case"$":b=e._.insert(b,v.currency.symbol,x);break;case" ":b=e._.insert(b," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(A=T.after[x],A){case"$":b=x===T.after.length-1?b+v.currency.symbol:e._.insert(b,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":b=x===T.after.length-1?b+" ":e._.insert(b," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return b}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,_){var v,T=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",b=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(b[0]),g,_),v+"e"+b[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function T(b,A,x,V){var L=e._.correctionFactor(b,A),U=b*L*(A*L)/(L*L);return U}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T,b=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),b+=v.ordinal(d),T=e._.numberToFormat(d,g,_),T+b}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,_){var v=Math.floor(d/60/60),T=Math.floor((d-v*60*60)/60),b=Math.round(d-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(b<10?"0"+b:b)},unformat:function(d){var g=d.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(ig)),ig.exports}var PG=xG();const OG=WE(PG),eT=({amount:n})=>{const e=OG(n).format("$0,0.00");return q.jsx("div",{children:e})},DG="_card_container_56p9m_1",NG="_button_56p9m_19",kG="_rating_56p9m_81",MG="_products_container_56p9m_93",VG="_product_flexed_56p9m_121",Ad={card_container:DG,button:NG,rating:kG,products_container:MG,product_flexed:VG},$r={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Yf({product:n,flex:e,renderDesc:t,renderAdd:r}){if(!n)return null;const{image:i,title:o,id:u,rating:h,price:f,description:d}=n,[g,_]=W.useContext(zs);console.log(g);const v=()=>{_({type:$r.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:f,description:d}})};return q.jsxs("div",{className:`${Ad.card_container} ${e?Ad.product_flexed:""}`,children:[q.jsx(si,{to:`/products/${u}`,children:q.jsx("img",{src:i,alt:o})}),q.jsxs("div",{children:[q.jsx("h4",{children:o}),t&&q.jsx("div",{style:{maxWidth:"700px"},children:d}),q.jsxs("div",{className:Ad.rating,children:[q.jsx(RG,{value:(h==null?void 0:h.rate)||0,precision:.1,readOnly:!0}),q.jsx("small",{children:(h==null?void 0:h.count)||0})]}),q.jsx("div",{children:q.jsx(eT,{amount:f})}),r&&q.jsx("button",{className:Ad.button,onClick:v,children:"Add to Cart"})]})]})}var LG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function QN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return LG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Fg(n){var e=QN(n);return"".concat(e.value).concat(e.unit)}var tT=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},zg=function(){return zg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zg.apply(this,arguments)},UG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},BG=tT("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function $E(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?35:d,_=UG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=zg({background:"transparent !important",width:Fg(g),height:Fg(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(BG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?W.createElement("span",zg({style:v},_)):null}var jg=function(){return jg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jg.apply(this,arguments)},FG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},zG=tT("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(180deg) rotateY(360deg) rotateZ(360deg)}","right"),jG=tT("RingLoader","0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)} 100% {transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg)}","left");function qG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?60:d,_=FG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=QN(g),T=v.value,b=v.unit,A=jg({display:"inherit",width:Fg(g),height:Fg(g),position:"relative"},f),x=function(V){return{position:"absolute",top:"0",left:"0",width:"".concat(T).concat(b),height:"".concat(T).concat(b),border:"".concat(T/10).concat(b," solid ").concat(i),opacity:"0.4",borderRadius:"100%",animationFillMode:"forwards",perspective:"800px",animation:"".concat(V===1?zG:jG," ").concat(2/u,"s 0s infinite linear")}};return t?W.createElement("span",jg({style:A},_),W.createElement("span",{style:x(1)}),W.createElement("span",{style:x(2)})):null}const nT=()=>q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:q.jsx(qG,{color:"#36d7b7",size:80})});function XN(){const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),Ot.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1),console.log(i.data)}).catch(i=>{console.log(i),r(!1)})},[]),q.jsx(q.Fragment,{children:t?q.jsx(nT,{}):q.jsx("section",{className:Ad.products_container,children:n.map(i=>q.jsx(Yf,{renderAdd:!0,product:i},i.id))})})}const HG=()=>q.jsxs(Mc,{children:[q.jsx(g8,{}),q.jsx(b8,{}),q.jsx(XN,{})]}),$G="_auth_9cpvy_1",GG="_auth__container_9cpvy_27",KG="_auth__signIn_btn_9cpvy_109",WG="_auth__signUp_btn_9cpvy_141",YG="_auth__error_9cpvy_167",QG="_auth__msg_login_9cpvy_175",Du={auth:$G,auth__container:GG,auth__signIn_btn:KG,auth__signUp_btn:WG,auth__error:YG,auth__msg_login:QG};function XG(){var T,b;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[u,h]=W.useState({signIn:!1,signUp:!1}),[{user:f},d]=W.useContext(zs),g=Hg(),_=Za();console.log(_);const v=A=>{A.preventDefault(),A.target.name==="signIn"?(h({...u,signIn:!0}),TP(Mg,n,t).then(x=>{var V;d({type:$r.SET_USER,user:x.user}),h({...u,signIn:!1}),g(((V=_==null?void 0:_.state)==null?void 0:V.redirect)||"/")}).catch(x=>{o(x.message),h({...u,signIn:!1})})):(h({...u,signUp:!0}),wP(Mg,n,t).then(x=>{var V;d({type:$r.SET_USER,user:x.user}),h({...u,signUp:!1}),g(((V=_==null?void 0:_.state)==null?void 0:V.redirect)||"/")}).catch(x=>{o(x.message),h({...u,signUp:!1})}))};return q.jsxs("section",{className:Du.auth,children:[q.jsx(si,{to:"/",children:q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Amazon_2024.svg/1280px-Amazon_2024.svg.png",alt:"amazon logo"})}),q.jsxs("div",{className:Du.auth__container,children:[q.jsx("h1",{children:"Sign In"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&q.jsx("small",{className:Du.auth__msg_login,children:(b=_==null?void 0:_.state)==null?void 0:b.msg}),q.jsxs("form",{children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{value:n,onChange:A=>e(A.target.value),type:"email",id:"email"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{value:t,onChange:A=>r(A.target.value),type:"password",id:"password"})]}),q.jsxs("button",{type:"submit",onClick:v,name:"signIn",className:Du.auth__signIn_btn,children:[u.signIn?q.jsx($E,{color:"#000",size:15}):"Sign In"," "]})]}),q.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, Cookies Notice, and our Interest-based Ads Notice."}),q.jsxs("button",{type:"submit",onClick:v,name:"signUp",className:Du.auth__signUp_btn,children:[u.signUp?q.jsx($E,{color:"#000",size:15}):"Create your Amazon Account"," "]}),i&&q.jsx("small",{className:Du.auth__error,children:i})]})]})}const JG="_payment__header_m2txa_1",ZG="_payment_m2txa_1",eK="_flex_m2txa_19",tK="_payment__card__container_m2txa_49",nK="_payment__price_m2txa_63",rK="_payment__details_m2txa_57",iK="_loading_m2txa_105",As={payment__header:JG,payment:ZG,flex:eK,payment__card__container:tK,payment__price:nK,payment__details:rK,loading:iK};function WC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(t),!0).forEach(function(r){JN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sg=function(e){return typeof e}:sg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(n)}function JN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function aK(n,e){if(n==null)return{};var t=sK(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ZN(n,e){return oK(n)||lK(n,e)||uK(n,e)||cK()}function oK(n){if(Array.isArray(n))return n}function lK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function uK(n,e){if(n){if(typeof n=="string")return QC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return QC(n,e)}}function QC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var br=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},GE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},vc=function(e){return e!==null&&sg(e)==="object"},hK=function(e){return vc(e)&&typeof e.then=="function"},dK=function(e){return vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},XC="[object Object]",fK=function n(e,t){if(!vc(e)||!vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===XC,u=Object.prototype.toString.call(t)===XC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var d={},g=0;g<h.length;g+=1)d[h[g]]=!0;for(var _=0;_<f.length;_+=1)d[f[_]]=!0;var v=Object.keys(d);if(v.length!==h.length)return!1;var T=e,b=t,A=function(V){return n(T[V],b[V])};return v.every(A)},ek=function(e,t,r){return vc(e)?Object.keys(e).reduce(function(i,o){var u=!vc(t)||!fK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?YC(YC({},i||{}),{},JN({},o,e[o])):i},null):null},tk="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",JC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tk;if(e===null||dK(e))return e;throw new Error(t)},pK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tk;if(hK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return JC(i,t)})};var r=JC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},mK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Zy=Ke.createContext(null);Zy.displayName="ElementsContext";var nk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},rk=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return pK(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=ZN(u,2),f=h[0],d=h[1];Ke.useEffect(function(){var v=!0,T=function(A){d(function(x){return x.stripe?x:{stripe:A,elements:A.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(b){b&&v&&T(b)}):o.tag==="sync"&&!f.stripe&&T(o.stripe),function(){v=!1}},[o,f,r]);var g=GE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=GE(r);return Ke.useEffect(function(){if(f.elements){var v=ek(r,_,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,_,f.elements]),Ke.useEffect(function(){mK(f.stripe)},[f.stripe]),Ke.createElement(Zy.Provider,{value:f},i)};rk.propTypes={stripe:Nt.any,options:Nt.object};var gK=function(e){var t=Ke.useContext(Zy);return nk(t,e)},yK=function(){var e=gK("calls useElements()"),t=e.elements;return t};Nt.func.isRequired;var ik=Ke.createContext(null);ik.displayName="CheckoutSdkContext";var _K=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},vK=Ke.createContext(null);vK.displayName="CheckoutContext";Nt.any,Nt.shape({fetchClientSecret:Nt.func.isRequired,elementsOptions:Nt.object}).isRequired;var KE=function(e){var t=Ke.useContext(ik),r=Ke.useContext(Zy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?_K(t,e):nk(r,e)},EK=["mode"],bK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},un=function(e,t){var r="".concat(bK(e),"Element"),i=function(f){var d=f.id,g=f.className,_=f.options,v=_===void 0?{}:_,T=f.onBlur,b=f.onFocus,A=f.onReady,x=f.onChange,V=f.onEscape,L=f.onClick,U=f.onLoadError,$=f.onLoaderStart,F=f.onNetworksChange,K=f.onConfirm,M=f.onCancel,R=f.onShippingAddressChange,P=f.onShippingRateChange,w=KE("mounts <".concat(r,">")),O="elements"in w?w.elements:null,C="checkoutSdk"in w?w.checkoutSdk:null,D=Ke.useState(null),ae=ZN(D,2),B=ae[0],H=ae[1],J=Ke.useRef(null),le=Ke.useRef(null);br(B,"blur",T),br(B,"focus",b),br(B,"escape",V),br(B,"click",L),br(B,"loaderror",U),br(B,"loaderstart",$),br(B,"networkschange",F),br(B,"confirm",K),br(B,"cancel",M),br(B,"shippingaddresschange",R),br(B,"shippingratechange",P),br(B,"change",x);var be;A&&(e==="expressCheckout"?be=A:be=function(){A(B)}),br(B,"ready",be),Ke.useLayoutEffect(function(){if(J.current===null&&le.current!==null&&(O||C)){var re=null;if(C)switch(e){case"payment":re=C.createPaymentElement(v);break;case"address":if("mode"in v){var ge=v.mode,me=aK(v,EK);if(ge==="shipping")re=C.createShippingAddressElement(me);else if(ge==="billing")re=C.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":re=C.createExpressCheckoutElement(v);break;case"currencySelector":re=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(re=O.create(e,v));J.current=re,H(re),re&&re.mount(le.current)}},[O,C,v]);var j=GE(v);return Ke.useEffect(function(){if(J.current){var re=ek(v,j,["paymentRequest"]);re&&"update"in J.current&&J.current.update(re)}},[v,j]),Ke.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Ke.createElement("div",{id:d,className:g,ref:le})},o=function(f){KE("mounts <".concat(r,">"));var d=f.id,g=f.className;return Ke.createElement("div",{id:d,className:g})},u=t?o:i;return u.propTypes={id:Nt.string,className:Nt.string,onChange:Nt.func,onBlur:Nt.func,onFocus:Nt.func,onReady:Nt.func,onEscape:Nt.func,onClick:Nt.func,onLoadError:Nt.func,onLoaderStart:Nt.func,onNetworksChange:Nt.func,onConfirm:Nt.func,onCancel:Nt.func,onShippingAddressChange:Nt.func,onShippingRateChange:Nt.func,options:Nt.object},u.displayName=r,u.__elementType=e,u},cn=typeof window>"u",wK=Ke.createContext(null);wK.displayName="EmbeddedCheckoutProviderContext";var TK=function(){var e=KE("calls useStripe()"),t=e.stripe;return t};un("auBankAccount",cn);var ZC=un("card",cn);un("cardNumber",cn);un("cardExpiry",cn);un("cardCvc",cn);un("fpxBank",cn);un("iban",cn);un("idealBank",cn);un("p24Bank",cn);un("epsBank",cn);un("payment",cn);un("expressCheckout",cn);un("currencySelector",cn);un("paymentRequestButton",cn);un("linkAuthentication",cn);un("address",cn);un("shippingAddress",cn);un("paymentMethodMessaging",cn);un("affirmMessage",cn);un("afterpayClearpayMessage",cn);const SK=Ot.create({baseURL:"(http://127.0.0.1:5001/clone-b9284/us-central1/api)"});function AK(){const[{user:n,basket:e},t]=W.useContext(zs);console.log(n);const r=e==null?void 0:e.reduce((b,A)=>A.amount+b,0),i=e.reduce((b,A)=>A.price*A.amount+b,0),[o,u]=W.useState(null),[h,f]=W.useState(!1),d=TK(),g=yK(),_=Hg(),v=b=>{var A,x;(A=b==null?void 0:b.error)!=null&&A.message?u((x=b==null?void 0:b.error)==null?void 0:x.message):u("")},T=async b=>{var A;b.preventDefault();try{f(!0);const V=(A=(await SK({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:A.clientPaymentSecret,{paymentIntent:L}=await d.confirmCardPayment(V,{payment_method:{card:g.getElement(ZC)}});await V2.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:$r.EMPTY_BASKET}),f(!1),_("/orders",{state:{msg:"you have placed new Order"}})}catch(x){console.log(x),f(!1)}};return q.jsxs(Mc,{children:[q.jsxs("div",{className:As.payment__header,children:["Checkout (",r,") items"]}),q.jsxs("section",{className:As.payment,children:[q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Delivery Address"}),q.jsxs("div",{children:[q.jsx("div",{children:n==null?void 0:n.email}),q.jsx("div",{children:"22 bole road"}),q.jsx("div",{children:" Ethiopia addis ababa"})]})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Review items and delivery"}),q.jsx("div",{children:e==null?void 0:e.map(b=>q.jsx(Yf,{product:b,flex:!0}))})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Payment methods"}),q.jsx("div",{className:As.payment__card__container,children:q.jsx("div",{className:As.payment__details,children:q.jsxs("form",{onSubmit:T,children:[o&&q.jsx("small",{style:{color:"red"},children:o}),q.jsx(ZC,{onChange:v}),q.jsxs("div",{className:As.payment__price,children:[q.jsx("div",{children:q.jsxs("span",{style:{display:"flex",gap:"10px"},children:[q.jsx("p",{children:"Total Order |"})," ",q.jsx(eT,{amount:i})]})}),q.jsx("button",{type:"submit",children:h?q.jsxs("div",{className:As.loading,children:[q.jsx($E,{color:"gray",size:12}),q.jsx("p",{children:"Please Wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const IK="_container_1j2gq_1",RK="_orders__container_1j2gq_9",ex={container:IK,orders__container:RK};function CK(){const[{user:n},e]=W.useContext(zs),[t,r]=W.useState([]);return W.useEffect(()=>{n?V2.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),q.jsx(Mc,{children:q.jsx("section",{className:ex.container,children:q.jsxs("div",{className:ex.orders__container,children:[q.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&q.jsx("div",{style:{padding:"20px"},children:"you don't have orders yet."}),q.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return q.jsxs("div",{children:[q.jsx("hr",{}),q.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(f=>q.jsx(Yf,{flex:!0,product:f,renderAdd:!1},f.id))]},o)})})]})})})}const xK="_container_vjnju_1",PK="_cart__container_vjnju_13",OK="_cart_product_vjnju_19",DK="_btn_container_vjnju_27",NK="_btn_vjnju_27",kK="_subtotal_vjnju_63",Ho={container:xK,cart__container:PK,cart_product:OK,btn_container:DK,btn:NK,subtotal:kK};function MK(n){return wc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function VK(n){return wc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function LK(){const[{basket:n,user:e},t]=W.useContext(zs),r=n.reduce((u,h)=>h.price*h.amount+u,0);console.log("my basket",n);const i=u=>{t({type:$r.ADD_TO_BASKET,item:u})},o=u=>{t({type:$r.REMOVE_FROM_BASKET,id:u})};return q.jsx(Mc,{children:q.jsxs("section",{className:Ho.container,children:[q.jsxs("div",{className:Ho.cart__container,children:[q.jsx("h2",{children:"Hello"}),q.jsx("h3",{children:"Your shopping basket"}),q.jsx("hr",{}),(n==null?void 0:n.length)==0?q.jsx("p",{children:"Opps ! No item in your cart"}):n==null?void 0:n.map((u,h)=>q.jsxs("section",{className:Ho.cart_product,children:[q.jsx(XN,{product:u,flex:!0,renderAdd:!1},h),q.jsxs("div",{className:Ho.btn_container,children:[q.jsx("button",{className:Ho.btn,onClick:()=>i(u),children:q.jsx(VK,{size:20})}),q.jsx("span",{children:u.amount}),q.jsx("button",{className:Ho.btn,onClick:()=>o(u.id),children:q.jsx(MK,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&q.jsxs("div",{className:Ho.subtotal,children:[q.jsxs("div",{children:[q.jsxs("p",{children:[" Subtotal (",n==null?void 0:n.length," items)"]}),q.jsx(eT,{amount:r})]}),q.jsxs("span",{children:[q.jsx("input",{type:"checkbox"}),q.jsx("small",{children:"This Order Contains a gift"})]}),q.jsx(si,{to:"/payments",children:"continue to checkout"})]}),q.jsx("div",{})]})})}const UK="_products_container_1m9mm_1",BK={products_container:UK},FK="https://fakestoreapi.com/product";function zK(){const[n,e]=W.useState([]),[t,r]=W.useState(!1),{categoryName:i}=z0();return W.useEffect(()=>{r(!0),Ot.get(`${FK}/products/category/${i}`).then(o=>{e(o.data),r(!1)}).catch(o=>{console.log("err"),r(!1)})},[]),q.jsx(Mc,{children:q.jsxs("section",{children:[q.jsx("h1",{style:{padding:"30px"},children:"Results "}),q.jsxs("p",{children:["Category / ",i]}),q.jsx("hr",{}),t?q.jsx(nT,{}):q.jsx("div",{className:BK.products_container,children:n==null?void 0:n.map(o=>q.jsx(Yf,{product:o,renderAdd:!0},o.id))})]})})}function jK(){const{productId:n}=z0(),[e,t]=W.useState([]),[r,i]=W.useState(!1);return console.log("poduct detail page called",z0()),console.log("eshi ezi dersual"),W.useEffect(()=>{i(!0),Ot.get("https://fakestoreapi.com/products").then(o=>{let u=o.data.filter(h=>h.id==n);t(u),i(!1),console.log("the fetched one",u)}).catch(o=>{console.log(o),i(!1)})},[]),console.log("this is products",e),q.jsx(Mc,{children:r?q.jsx(nT,{}):e==null?void 0:e.map(o=>q.jsx(Yf,{product:o,flex:!0,renderAdd:!0},o.id))})}var sk="basil",qK=function(e){return e===3?"v3":e},ak="https://js.stripe.com",HK="".concat(ak,"/").concat(sk,"/stripe.js"),$K=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,GK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var KK=function(e){return $K.test(e)||GK.test(e)},WK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ak,'"]')),t=0;t<e.length;t++){var r=e[t];if(KK(r.src))return r}return null},tx=function(e){var t="",r=document.createElement("script");r.src="".concat(HK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},YK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},md=null,Dm=null,Nm=null,QK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},XK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},JK=function(e){return md!==null?md:(md=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=WK();if(!(i&&e)){if(!i)i=tx(e);else if(i&&Nm!==null&&Dm!==null){var o;i.removeEventListener("load",Nm),i.removeEventListener("error",Dm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=tx(e)}}Nm=XK(t,r),Dm=QK(r),i.addEventListener("load",Nm),i.addEventListener("error",Dm)}catch(u){r(u);return}}),md.catch(function(t){return md=null,Promise.reject(t)}))},ZK=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=qK(e.version),h=sk;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return YK(f,r),f},gd,ok=!1,lk=function(){return gd||(gd=JK(null).catch(function(e){return gd=null,Promise.reject(e)}),gd)};Promise.resolve().then(function(){return lk()}).catch(function(n){ok||console.warn(n)});var eW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ok=!0;var i=Date.now();return lk().then(function(o){return ZK(o,t,i)})};const nx=({children:n,msg:e,redirect:t})=>{const r=Hg(),[{user:i},o]=W.useContext(zs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},tW=eW(void 0);function nW(){return q.jsx(iL,{children:q.jsxs(kV,{children:[q.jsx(Ra,{path:"/",element:q.jsx(HG,{})}),q.jsx(Ra,{path:"/auth",element:q.jsx(XG,{})}),q.jsx(Ra,{path:"/payments",element:q.jsx(nx,{msg:"you must log in to pay",redirect:"/payments",children:q.jsx(rk,{stripe:tW,children:q.jsx(AK,{})})})}),q.jsx(Ra,{path:"/orders",element:q.jsx(nx,{msg:"you must log in to access your orders",redirect:"/orders",children:q.jsx(CK,{})})}),q.jsx(Ra,{path:"/category/:categoryName",element:q.jsx(zK,{})}),q.jsx(Ra,{path:"/products/:productId",element:q.jsx(jK,{})}),q.jsx(Ra,{path:"/cart",element:q.jsx(LK,{})})]})})}function rW(){const[{user:n},e]=W.useContext(zs);return W.useEffect(()=>{Mg.onAuthStateChanged(t=>{t?(console.log(t),e({type:$r.SET_USER,user:t})):e({type:$r.SET_USER,user:null})})},[]),q.jsx(nW,{})}const iW={basket:[],user:null},sW=(n,e)=>{switch(e.type){case $r.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case $r.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case $r.EMPTY_BASKET:return{...n,basket:[]};case $r.SET_USER:return{...n,user:e.user};default:return n}};qM.createRoot(document.getElementById("root")).render(q.jsx(W.StrictMode,{children:q.jsx(DL,{reducer:sW,initialState:iW,children:q.jsx(rW,{})})}));
